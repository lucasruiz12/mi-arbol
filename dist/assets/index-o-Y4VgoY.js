function yI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _I(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var OT={exports:{}},ah={},NT={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),EI=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),wI=Symbol.for("react.strict_mode"),PI=Symbol.for("react.profiler"),SI=Symbol.for("react.provider"),II=Symbol.for("react.context"),AI=Symbol.for("react.forward_ref"),CI=Symbol.for("react.suspense"),RI=Symbol.for("react.memo"),xI=Symbol.for("react.lazy"),Qv=Symbol.iterator;function kI(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var bT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DT=Object.assign,MT={};function no(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||bT}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LT(){}LT.prototype=no.prototype;function nm(t,e,n){this.props=t,this.context=e,this.refs=MT,this.updater=n||bT}var rm=nm.prototype=new LT;rm.constructor=nm;DT(rm,no.prototype);rm.isPureReactComponent=!0;var Xv=Array.isArray,VT=Object.prototype.hasOwnProperty,im={current:null},FT={key:!0,ref:!0,__self:!0,__source:!0};function UT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VT.call(e,r)&&!FT.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:il,type:t,key:s,ref:o,props:i,_owner:im.current}}function OI(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function NI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jv=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NI(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case EI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+od(o,0):r,Xv(i)?(n="",t!=null&&(n=t.replace(Jv,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(sm(i)&&(i=OI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Xv(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+od(s,l);o+=Uu(s,e,n,u,i)}else if(u=kI(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+od(s,l++),o+=Uu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},ju={transition:null},DI={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:ju,ReactCurrentOwner:im};function jT(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:$l,forEach:function(t,e,n){$l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $l(t,function(){e++}),e},toArray:function(t){return $l(t,function(e){return e})||[]},only:function(t){if(!sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=no;Y.Fragment=TI;Y.Profiler=PI;Y.PureComponent=nm;Y.StrictMode=wI;Y.Suspense=CI;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DI;Y.act=jT;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=im.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)VT.call(e,u)&&!FT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:il,type:t.type,key:i,ref:s,props:r,_owner:o}};Y.createContext=function(t){return t={$$typeof:II,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SI,_context:t},t.Consumer=t};Y.createElement=UT;Y.createFactory=function(t){var e=UT.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:AI,render:t}};Y.isValidElement=sm;Y.lazy=function(t){return{$$typeof:xI,_payload:{_status:-1,_result:t},_init:bI}};Y.memo=function(t,e){return{$$typeof:RI,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};Y.unstable_act=jT;Y.useCallback=function(t,e){return Et.current.useCallback(t,e)};Y.useContext=function(t){return Et.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};Y.useEffect=function(t,e){return Et.current.useEffect(t,e)};Y.useId=function(){return Et.current.useId()};Y.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return Et.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};Y.useRef=function(t){return Et.current.useRef(t)};Y.useState=function(t){return Et.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return Et.current.useTransition()};Y.version="18.3.1";NT.exports=Y;var b=NT.exports;const Tr=oh(b),MI=yI({__proto__:null,default:Tr},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI=b,VI=Symbol.for("react.element"),FI=Symbol.for("react.fragment"),UI=Object.prototype.hasOwnProperty,jI=LI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$I={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UI.call(e,r)&&!$I.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VI,type:t,key:s,ref:o,props:i,_owner:jI.current}}ah.Fragment=FI;ah.jsx=$T;ah.jsxs=$T;OT.exports=ah;var R=OT.exports,BT={exports:{}},Vt={},zT={exports:{}},GT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var q=$.length;$.push(W);e:for(;0<q;){var ae=q-1>>>1,ne=$[ae];if(0<i(ne,W))$[ae]=W,$[q]=ne,q=ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],q=$.pop();if(q!==W){$[0]=q;e:for(var ae=0,ne=$.length,se=ne>>>1;ae<se;){var ze=2*(ae+1)-1,gt=$[ze],kt=ze+1,wt=$[kt];if(0>i(gt,q))kt<ne&&0>i(wt,gt)?($[ae]=wt,$[kt]=q,ae=kt):($[ae]=gt,$[ze]=q,ae=ze);else if(kt<ne&&0>i(wt,q))$[ae]=wt,$[kt]=q,ae=kt;else break e}}return W}function i($,W){var q=$.sortIndex-W.sortIndex;return q!==0?q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,m=3,C=!1,I=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=$)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function M($){if(k=!1,_($),!I)if(n(u)!==null)I=!0,Ne(V);else{var W=n(c);W!==null&&be(M,W.startTime-$)}}function V($,W){I=!1,k&&(k=!1,E(v),v=-1),C=!0;var q=m;try{for(_(W),p=n(u);p!==null&&(!(p.expirationTime>W)||$&&!x());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,m=p.priorityLevel;var ne=ae(p.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(u)&&r(u),_(W)}else r(u);p=n(u)}if(p!==null)var se=!0;else{var ze=n(c);ze!==null&&be(M,ze.startTime-W),se=!1}return se}finally{p=null,m=q,C=!1}}var U=!1,w=null,v=-1,P=5,S=-1;function x(){return!(t.unstable_now()-S<P)}function N(){if(w!==null){var $=t.unstable_now();S=$;var W=!0;try{W=w(!0,$)}finally{W?A():(U=!1,w=null)}}else U=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Oe=fe.port2;fe.port1.onmessage=N,A=function(){Oe.postMessage(null)}}else A=function(){O(N,0)};function Ne($){w=$,U||(U=!0,A())}function be($,W){v=O(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||C||(I=!0,Ne(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var q=m;m=W;try{return $()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=m;m=$;try{return W()}finally{m=q}},t.unstable_scheduleCallback=function($,W,q){var ae=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ae+q:ae):q=ae,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=q+ne,$={id:d++,callback:W,priorityLevel:$,startTime:q,expirationTime:ne,sortIndex:-1},q>ae?($.sortIndex=q,e(c,$),n(u)===null&&$===n(c)&&(k?(E(v),v=-1):k=!0,be(M,q-ae))):($.sortIndex=ne,e(u,$),I||C||(I=!0,Ne(V))),$},t.unstable_shouldYield=x,t.unstable_wrapCallback=function($){var W=m;return function(){var q=m;m=W;try{return $.apply(this,arguments)}finally{m=q}}}})(GT);zT.exports=GT;var BI=zT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI=b,Mt=BI;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HT=new Set,Oa={};function Vi(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(Oa[t]=e,t=0;t<e.length;t++)HT.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,GI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Zv={};function HI(t){return Cf.call(Zv,t)?!0:Cf.call(Yv,t)?!1:GI.test(t)?Zv[t]=!0:(Yv[t]=!0,!1)}function WI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qI(t,e,n,r){if(e===null||typeof e>"u"||WI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var om=/[\-:]([a-z])/g;function am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(om,am);rt[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(om,am);rt[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(om,am);rt[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function lm(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qI(e,n,i,r)&&(n=null),r||i===null?HI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zn=zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),WT=Symbol.for("react.provider"),qT=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),ey=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,ad;function sa(t){if(ad===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ad=e&&e[1]||""}return`
`+ad+t}var ld=!1;function ud(t,e){if(!t||ld)return"";ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{ld=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function KI(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=ud(t.type,!1),t;case 11:return t=ud(t.type.render,!1),t;case 1:return t=ud(t.type,!0),t;default:return""}}function Of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case Rf:return"Profiler";case um:return"StrictMode";case xf:return"Suspense";case kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qT:return(t.displayName||"Context")+".Consumer";case WT:return(t._context.displayName||"Context")+".Provider";case cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hm:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}function QI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(e);case 8:return e===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XI(t){var e=QT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=XI(t))}function XT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ac(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nf(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JT(t,e){e=e.checked,e!=null&&lm(t,"checked",e,!1)}function bf(t,e){JT(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Df(t,e.type,n):e.hasOwnProperty("defaultValue")&&Df(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Df(t,e,n){(e!=="number"||ac(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Rs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(oa(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function YT(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gl,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gl=Gl||document.createElement("div"),Gl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JI=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){JI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YI=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vf(t,e){if(e){if(YI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=null;function dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jf=null,xs=null,ks=null;function sy(t){if(t=al(t)){if(typeof jf!="function")throw Error(j(280));var e=t.stateNode;e&&(e=dh(e),jf(t.stateNode,t.type,e))}}function rw(t){xs?ks?ks.push(t):ks=[t]:xs=t}function iw(){if(xs){var t=xs,e=ks;if(ks=xs=null,sy(t),e)for(t=0;t<e.length;t++)sy(e[t])}}function sw(t,e){return t(e)}function ow(){}var cd=!1;function aw(t,e,n){if(cd)return t(e,n);cd=!0;try{return sw(t,e,n)}finally{cd=!1,(xs!==null||ks!==null)&&(ow(),iw())}}function ba(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var $f=!1;if(qn)try{var No={};Object.defineProperty(No,"passive",{get:function(){$f=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{$f=!1}function ZI(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var pa=!1,lc=null,uc=!1,Bf=null,eA={onError:function(t){pa=!0,lc=t}};function tA(t,e,n,r,i,s,o,l,u){pa=!1,lc=null,ZI.apply(eA,arguments)}function nA(t,e,n,r,i,s,o,l,u){if(tA.apply(this,arguments),pa){if(pa){var c=lc;pa=!1,lc=null}else throw Error(j(198));uc||(uc=!0,Bf=c)}}function Fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(Fi(t)!==t)throw Error(j(188))}function rA(t){var e=t.alternate;if(!e){if(e=Fi(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oy(i),t;if(s===r)return oy(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function uw(t){return t=rA(t),t!==null?cw(t):null}function cw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cw(t);if(e!==null)return e;t=t.sibling}return null}var hw=Mt.unstable_scheduleCallback,ay=Mt.unstable_cancelCallback,iA=Mt.unstable_shouldYield,sA=Mt.unstable_requestPaint,ke=Mt.unstable_now,oA=Mt.unstable_getCurrentPriorityLevel,fm=Mt.unstable_ImmediatePriority,dw=Mt.unstable_UserBlockingPriority,cc=Mt.unstable_NormalPriority,aA=Mt.unstable_LowPriority,fw=Mt.unstable_IdlePriority,lh=null,An=null;function lA(t){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(lh,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hA,uA=Math.log,cA=Math.LN2;function hA(t){return t>>>=0,t===0?32:31-(uA(t)/cA|0)|0}var Hl=64,Wl=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=aa(l):(s&=o,s!==0&&(r=aa(s)))}else o=n&~i,o!==0?r=aa(o):s!==0&&(r=aa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),i=1<<n,r|=t[n],e&=~i;return r}function dA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-on(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=dA(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pw(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function pA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-on(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gw,mm,vw,yw,_w,Gf=!1,ql=[],Ar=null,Cr=null,Rr=null,Da=new Map,Ma=new Map,vr=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(t,e){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Da.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function bo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=al(e),e!==null&&mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gA(t,e,n,r,i){switch(e){case"focusin":return Ar=bo(Ar,t,e,n,r,i),!0;case"dragenter":return Cr=bo(Cr,t,e,n,r,i),!0;case"mouseover":return Rr=bo(Rr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Da.set(s,bo(Da.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,bo(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function Ew(t){var e=fi(t.target);if(e!==null){var n=Fi(e);if(n!==null){if(e=n.tag,e===13){if(e=lw(n),e!==null){t.blockedOn=e,_w(t.priority,function(){vw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uf=r,n.target.dispatchEvent(r),Uf=null}else return e=al(n),e!==null&&mm(e),t.blockedOn=n,!1;e.shift()}return!0}function uy(t,e,n){$u(t)&&n.delete(e)}function vA(){Gf=!1,Ar!==null&&$u(Ar)&&(Ar=null),Cr!==null&&$u(Cr)&&(Cr=null),Rr!==null&&$u(Rr)&&(Rr=null),Da.forEach(uy),Ma.forEach(uy)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,Gf||(Gf=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,vA)))}function La(t){function e(i){return Do(i,t)}if(0<ql.length){Do(ql[0],t);for(var n=1;n<ql.length;n++){var r=ql[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ar!==null&&Do(Ar,t),Cr!==null&&Do(Cr,t),Rr!==null&&Do(Rr,t),Da.forEach(e),Ma.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)Ew(n),n.blockedOn===null&&vr.shift()}var Os=Zn.ReactCurrentBatchConfig,dc=!0;function yA(t,e,n,r){var i=ue,s=Os.transition;Os.transition=null;try{ue=1,gm(t,e,n,r)}finally{ue=i,Os.transition=s}}function _A(t,e,n,r){var i=ue,s=Os.transition;Os.transition=null;try{ue=4,gm(t,e,n,r)}finally{ue=i,Os.transition=s}}function gm(t,e,n,r){if(dc){var i=Hf(t,e,n,r);if(i===null)Td(t,e,r,fc,n),ly(t,r);else if(gA(i,t,e,n,r))r.stopPropagation();else if(ly(t,r),e&4&&-1<mA.indexOf(t)){for(;i!==null;){var s=al(i);if(s!==null&&gw(s),s=Hf(t,e,n,r),s===null&&Td(t,e,r,fc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Td(t,e,r,null,n)}}var fc=null;function Hf(t,e,n,r){if(fc=null,t=dm(r),t=fi(t),t!==null)if(e=Fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fc=t,null}function Tw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oA()){case fm:return 1;case dw:return 4;case cc:case aA:return 16;case fw:return 536870912;default:return 16}default:return 16}}var wr=null,vm=null,Bu=null;function ww(){if(Bu)return Bu;var t,e=vm,n=e.length,r,i="value"in wr?wr.value:wr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bu=i.slice(t,1<r?1-r:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function cy(){return!1}function Ft(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:cy,this.isPropagationStopped=cy,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=Ft(ro),ol=Pe({},ro,{view:0,detail:0}),EA=Ft(ol),dd,fd,Mo,uh=Pe({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_m,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(dd=t.screenX-Mo.screenX,fd=t.screenY-Mo.screenY):fd=dd=0,Mo=t),dd)},movementY:function(t){return"movementY"in t?t.movementY:fd}}),hy=Ft(uh),TA=Pe({},uh,{dataTransfer:0}),wA=Ft(TA),PA=Pe({},ol,{relatedTarget:0}),pd=Ft(PA),SA=Pe({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),IA=Ft(SA),AA=Pe({},ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CA=Ft(AA),RA=Pe({},ro,{data:0}),dy=Ft(RA),xA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OA[t])?!!e[t]:!1}function _m(){return NA}var bA=Pe({},ol,{key:function(t){if(t.key){var e=xA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_m,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DA=Ft(bA),MA=Pe({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Ft(MA),LA=Pe({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_m}),VA=Ft(LA),FA=Pe({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),UA=Ft(FA),jA=Pe({},uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$A=Ft(jA),BA=[9,13,27,32],Em=qn&&"CompositionEvent"in window,ma=null;qn&&"documentMode"in document&&(ma=document.documentMode);var zA=qn&&"TextEvent"in window&&!ma,Pw=qn&&(!Em||ma&&8<ma&&11>=ma),py=" ",my=!1;function Sw(t,e){switch(t){case"keyup":return BA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Iw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function GA(t,e){switch(t){case"compositionend":return Iw(e);case"keypress":return e.which!==32?null:(my=!0,py);case"textInput":return t=e.data,t===py&&my?null:t;default:return null}}function HA(t,e){if(vs)return t==="compositionend"||!Em&&Sw(t,e)?(t=ww(),Bu=vm=wr=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pw&&e.locale!=="ko"?null:e.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WA[t.type]:e==="textarea"}function Aw(t,e,n,r){rw(r),e=pc(e,"onChange"),0<e.length&&(n=new ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,Va=null;function qA(t){Vw(t,0)}function ch(t){var e=Es(t);if(XT(e))return t}function KA(t,e){if(t==="change")return e}var Cw=!1;if(qn){var md;if(qn){var gd="oninput"in document;if(!gd){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),gd=typeof vy.oninput=="function"}md=gd}else md=!1;Cw=md&&(!document.documentMode||9<document.documentMode)}function yy(){ga&&(ga.detachEvent("onpropertychange",Rw),Va=ga=null)}function Rw(t){if(t.propertyName==="value"&&ch(Va)){var e=[];Aw(e,Va,t,dm(t)),aw(qA,e)}}function QA(t,e,n){t==="focusin"?(yy(),ga=e,Va=n,ga.attachEvent("onpropertychange",Rw)):t==="focusout"&&yy()}function XA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Va)}function JA(t,e){if(t==="click")return ch(e)}function YA(t,e){if(t==="input"||t==="change")return ch(e)}function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:ZA;function Fa(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cf.call(e,i)||!un(t[i],e[i]))return!1}return!0}function _y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ey(t,e){var n=_y(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_y(n)}}function xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kw(){for(var t=window,e=ac();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ac(t.document)}return e}function Tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eC(t){var e=kw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xw(n.ownerDocument.documentElement,n)){if(r!==null&&Tm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ey(n,s);var o=Ey(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tC=qn&&"documentMode"in document&&11>=document.documentMode,ys=null,Wf=null,va=null,qf=!1;function Ty(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||ys==null||ys!==ac(r)||(r=ys,"selectionStart"in r&&Tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),va&&Fa(va,r)||(va=r,r=pc(Wf,"onSelect"),0<r.length&&(e=new ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ys)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},vd={},Ow={};qn&&(Ow=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function hh(t){if(vd[t])return vd[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ow)return vd[t]=e[n];return t}var Nw=hh("animationend"),bw=hh("animationiteration"),Dw=hh("animationstart"),Mw=hh("transitionend"),Lw=new Map,wy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){Lw.set(t,e),Vi(e,[t])}for(var yd=0;yd<wy.length;yd++){var _d=wy[yd],nC=_d.toLowerCase(),rC=_d[0].toUpperCase()+_d.slice(1);zr(nC,"on"+rC)}zr(Nw,"onAnimationEnd");zr(bw,"onAnimationIteration");zr(Dw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Mw,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iC=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Py(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nA(r,e,void 0,t),t.currentTarget=null}function Vw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Py(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Py(i,l,c),s=u}}}if(uc)throw t=Bf,uc=!1,Bf=null,t}function ve(t,e){var n=e[Yf];n===void 0&&(n=e[Yf]=new Set);var r=t+"__bubble";n.has(r)||(Fw(e,t,2,!1),n.add(r))}function Ed(t,e,n){var r=0;e&&(r|=4),Fw(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[Xl]){t[Xl]=!0,HT.forEach(function(n){n!=="selectionchange"&&(iC.has(n)||Ed(n,!1,t),Ed(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,Ed("selectionchange",!1,e))}}function Fw(t,e,n,r){switch(Tw(e)){case 1:var i=yA;break;case 4:i=_A;break;default:i=gm}n=i.bind(null,e,n,t),i=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Td(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}aw(function(){var c=s,d=dm(n),p=[];e:{var m=Lw.get(t);if(m!==void 0){var C=ym,I=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":C=DA;break;case"focusin":I="focus",C=pd;break;case"focusout":I="blur",C=pd;break;case"beforeblur":case"afterblur":C=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=VA;break;case Nw:case bw:case Dw:C=IA;break;case Mw:C=UA;break;case"scroll":C=EA;break;case"wheel":C=$A;break;case"copy":case"cut":case"paste":C=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=fy}var k=(e&4)!==0,O=!k&&t==="scroll",E=k?m!==null?m+"Capture":null:m;k=[];for(var y=c,_;y!==null;){_=y;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,E!==null&&(M=ba(y,E),M!=null&&k.push(ja(y,M,_)))),O)break;y=y.return}0<k.length&&(m=new C(m,I,null,n,d),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",m&&n!==Uf&&(I=n.relatedTarget||n.fromElement)&&(fi(I)||I[Kn]))break e;if((C||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,C?(I=n.relatedTarget||n.toElement,C=c,I=I?fi(I):null,I!==null&&(O=Fi(I),I!==O||I.tag!==5&&I.tag!==6)&&(I=null)):(C=null,I=c),C!==I)){if(k=hy,M="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=fy,M="onPointerLeave",E="onPointerEnter",y="pointer"),O=C==null?m:Es(C),_=I==null?m:Es(I),m=new k(M,y+"leave",C,n,d),m.target=O,m.relatedTarget=_,M=null,fi(d)===c&&(k=new k(E,y+"enter",I,n,d),k.target=_,k.relatedTarget=O,M=k),O=M,C&&I)t:{for(k=C,E=I,y=0,_=k;_;_=Qi(_))y++;for(_=0,M=E;M;M=Qi(M))_++;for(;0<y-_;)k=Qi(k),y--;for(;0<_-y;)E=Qi(E),_--;for(;y--;){if(k===E||E!==null&&k===E.alternate)break t;k=Qi(k),E=Qi(E)}k=null}else k=null;C!==null&&Sy(p,m,C,k,!1),I!==null&&O!==null&&Sy(p,O,I,k,!0)}}e:{if(m=c?Es(c):window,C=m.nodeName&&m.nodeName.toLowerCase(),C==="select"||C==="input"&&m.type==="file")var V=KA;else if(gy(m))if(Cw)V=YA;else{V=XA;var U=QA}else(C=m.nodeName)&&C.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=JA);if(V&&(V=V(t,c))){Aw(p,V,n,d);break e}U&&U(t,m,c),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&Df(m,"number",m.value)}switch(U=c?Es(c):window,t){case"focusin":(gy(U)||U.contentEditable==="true")&&(ys=U,Wf=c,va=null);break;case"focusout":va=Wf=ys=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Ty(p,n,d);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":Ty(p,n,d)}var w;if(Em)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else vs?Sw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Pw&&n.locale!=="ko"&&(vs||v!=="onCompositionStart"?v==="onCompositionEnd"&&vs&&(w=ww()):(wr=d,vm="value"in wr?wr.value:wr.textContent,vs=!0)),U=pc(c,v),0<U.length&&(v=new dy(v,t,null,n,d),p.push({event:v,listeners:U}),w?v.data=w:(w=Iw(n),w!==null&&(v.data=w)))),(w=zA?GA(t,n):HA(t,n))&&(c=pc(c,"onBeforeInput"),0<c.length&&(d=new dy("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=w))}Vw(p,e)})}function ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ba(t,n),s!=null&&r.unshift(ja(t,s,i)),s=ba(t,e),s!=null&&r.push(ja(t,s,i))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=ba(n,s),u!=null&&o.unshift(ja(n,u,l))):i||(u=ba(n,s),u!=null&&o.push(ja(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function Iy(t){return(typeof t=="string"?t:""+t).replace(sC,`
`).replace(oC,"")}function Jl(t,e,n){if(e=Iy(e),Iy(t)!==e&&n)throw Error(j(425))}function mc(){}var Kf=null,Qf=null;function Xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(uC)}:Jf;function uC(t){setTimeout(function(){throw t})}function wd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),La(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);La(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var io=Math.random().toString(36).slice(2),wn="__reactFiber$"+io,$a="__reactProps$"+io,Kn="__reactContainer$"+io,Yf="__reactEvents$"+io,cC="__reactListeners$"+io,hC="__reactHandles$"+io;function fi(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cy(t);t!==null;){if(n=t[wn])return n;t=Cy(t)}return e}t=n,n=t.parentNode}return null}function al(t){return t=t[wn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function dh(t){return t[$a]||null}var Zf=[],Ts=-1;function Gr(t){return{current:t}}function ye(t){0>Ts||(t.current=Zf[Ts],Zf[Ts]=null,Ts--)}function pe(t,e){Ts++,Zf[Ts]=t.current,t.current=e}var Ur={},dt=Gr(Ur),At=Gr(!1),Ii=Ur;function js(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function gc(){ye(At),ye(dt)}function Ry(t,e,n){if(dt.current!==Ur)throw Error(j(168));pe(dt,e),pe(At,n)}function Uw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,QI(t)||"Unknown",i));return Pe({},n,r)}function vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Ii=dt.current,pe(dt,t),pe(At,At.current),!0}function xy(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Uw(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,ye(At),ye(dt),pe(dt,t)):ye(At),pe(At,n)}var Ln=null,fh=!1,Pd=!1;function jw(t){Ln===null?Ln=[t]:Ln.push(t)}function dC(t){fh=!0,jw(t)}function Hr(){if(!Pd&&Ln!==null){Pd=!0;var t=0,e=ue;try{var n=Ln;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,fh=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),hw(fm,Hr),i}finally{ue=e,Pd=!1}}return null}var ws=[],Ps=0,yc=null,_c=0,Ut=[],jt=0,Ai=null,Vn=1,Fn="";function ai(t,e){ws[Ps++]=_c,ws[Ps++]=yc,yc=t,_c=e}function $w(t,e,n){Ut[jt++]=Vn,Ut[jt++]=Fn,Ut[jt++]=Ai,Ai=t;var r=Vn;t=Fn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vn=1<<32-on(e)+i|n<<i|r,Fn=s+t}else Vn=1<<s|n<<i|r,Fn=t}function wm(t){t.return!==null&&(ai(t,1),$w(t,1,0))}function Pm(t){for(;t===yc;)yc=ws[--Ps],ws[Ps]=null,_c=ws[--Ps],ws[Ps]=null;for(;t===Ai;)Ai=Ut[--jt],Ut[jt]=null,Fn=Ut[--jt],Ut[jt]=null,Vn=Ut[--jt],Ut[jt]=null}var Dt=null,bt=null,Ee=!1,Zt=null;function Bw(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ky(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,bt=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:Vn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,bt=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(Ee){var e=bt;if(e){var n=e;if(!ky(t,e)){if(ep(t))throw Error(j(418));e=xr(n.nextSibling);var r=Dt;e&&ky(t,e)?Bw(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Dt=t)}}else{if(ep(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ee=!1,Dt=t}}}function Oy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function Yl(t){if(t!==Dt)return!1;if(!Ee)return Oy(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xf(t.type,t.memoizedProps)),e&&(e=bt)){if(ep(t))throw zw(),Error(j(418));for(;e;)Bw(t,e),e=xr(e.nextSibling)}if(Oy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=Dt?xr(t.stateNode.nextSibling):null;return!0}function zw(){for(var t=bt;t;)t=xr(t.nextSibling)}function $s(){bt=Dt=null,Ee=!1}function Sm(t){Zt===null?Zt=[t]:Zt.push(t)}var fC=Zn.ReactCurrentBatchConfig;function Lo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ny(t){var e=t._init;return e(t._payload)}function Gw(t){function e(E,y){if(t){var _=E.deletions;_===null?(E.deletions=[y],E.flags|=16):_.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=br(E,y),E.index=0,E.sibling=null,E}function s(E,y,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<y?(E.flags|=2,y):_):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,y,_,M){return y===null||y.tag!==6?(y=kd(_,E.mode,M),y.return=E,y):(y=i(y,_),y.return=E,y)}function u(E,y,_,M){var V=_.type;return V===gs?d(E,y,_.props.children,M,_.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fr&&Ny(V)===y.type)?(M=i(y,_.props),M.ref=Lo(E,y,_),M.return=E,M):(M=Xu(_.type,_.key,_.props,null,E.mode,M),M.ref=Lo(E,y,_),M.return=E,M)}function c(E,y,_,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Od(_,E.mode,M),y.return=E,y):(y=i(y,_.children||[]),y.return=E,y)}function d(E,y,_,M,V){return y===null||y.tag!==7?(y=_i(_,E.mode,M,V),y.return=E,y):(y=i(y,_),y.return=E,y)}function p(E,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=kd(""+y,E.mode,_),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bl:return _=Xu(y.type,y.key,y.props,null,E.mode,_),_.ref=Lo(E,null,y),_.return=E,_;case ms:return y=Od(y,E.mode,_),y.return=E,y;case fr:var M=y._init;return p(E,M(y._payload),_)}if(oa(y)||Oo(y))return y=_i(y,E.mode,_,null),y.return=E,y;Zl(E,y)}return null}function m(E,y,_,M){var V=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return V!==null?null:l(E,y,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:return _.key===V?u(E,y,_,M):null;case ms:return _.key===V?c(E,y,_,M):null;case fr:return V=_._init,m(E,y,V(_._payload),M)}if(oa(_)||Oo(_))return V!==null?null:d(E,y,_,M,null);Zl(E,_)}return null}function C(E,y,_,M,V){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(_)||null,l(y,E,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bl:return E=E.get(M.key===null?_:M.key)||null,u(y,E,M,V);case ms:return E=E.get(M.key===null?_:M.key)||null,c(y,E,M,V);case fr:var U=M._init;return C(E,y,_,U(M._payload),V)}if(oa(M)||Oo(M))return E=E.get(_)||null,d(y,E,M,V,null);Zl(y,M)}return null}function I(E,y,_,M){for(var V=null,U=null,w=y,v=y=0,P=null;w!==null&&v<_.length;v++){w.index>v?(P=w,w=null):P=w.sibling;var S=m(E,w,_[v],M);if(S===null){w===null&&(w=P);break}t&&w&&S.alternate===null&&e(E,w),y=s(S,y,v),U===null?V=S:U.sibling=S,U=S,w=P}if(v===_.length)return n(E,w),Ee&&ai(E,v),V;if(w===null){for(;v<_.length;v++)w=p(E,_[v],M),w!==null&&(y=s(w,y,v),U===null?V=w:U.sibling=w,U=w);return Ee&&ai(E,v),V}for(w=r(E,w);v<_.length;v++)P=C(w,E,v,_[v],M),P!==null&&(t&&P.alternate!==null&&w.delete(P.key===null?v:P.key),y=s(P,y,v),U===null?V=P:U.sibling=P,U=P);return t&&w.forEach(function(x){return e(E,x)}),Ee&&ai(E,v),V}function k(E,y,_,M){var V=Oo(_);if(typeof V!="function")throw Error(j(150));if(_=V.call(_),_==null)throw Error(j(151));for(var U=V=null,w=y,v=y=0,P=null,S=_.next();w!==null&&!S.done;v++,S=_.next()){w.index>v?(P=w,w=null):P=w.sibling;var x=m(E,w,S.value,M);if(x===null){w===null&&(w=P);break}t&&w&&x.alternate===null&&e(E,w),y=s(x,y,v),U===null?V=x:U.sibling=x,U=x,w=P}if(S.done)return n(E,w),Ee&&ai(E,v),V;if(w===null){for(;!S.done;v++,S=_.next())S=p(E,S.value,M),S!==null&&(y=s(S,y,v),U===null?V=S:U.sibling=S,U=S);return Ee&&ai(E,v),V}for(w=r(E,w);!S.done;v++,S=_.next())S=C(w,E,v,S.value,M),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?v:S.key),y=s(S,y,v),U===null?V=S:U.sibling=S,U=S);return t&&w.forEach(function(N){return e(E,N)}),Ee&&ai(E,v),V}function O(E,y,_,M){if(typeof _=="object"&&_!==null&&_.type===gs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Bl:e:{for(var V=_.key,U=y;U!==null;){if(U.key===V){if(V=_.type,V===gs){if(U.tag===7){n(E,U.sibling),y=i(U,_.props.children),y.return=E,E=y;break e}}else if(U.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===fr&&Ny(V)===U.type){n(E,U.sibling),y=i(U,_.props),y.ref=Lo(E,U,_),y.return=E,E=y;break e}n(E,U);break}else e(E,U);U=U.sibling}_.type===gs?(y=_i(_.props.children,E.mode,M,_.key),y.return=E,E=y):(M=Xu(_.type,_.key,_.props,null,E.mode,M),M.ref=Lo(E,y,_),M.return=E,E=M)}return o(E);case ms:e:{for(U=_.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(E,y.sibling),y=i(y,_.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=Od(_,E.mode,M),y.return=E,E=y}return o(E);case fr:return U=_._init,O(E,y,U(_._payload),M)}if(oa(_))return I(E,y,_,M);if(Oo(_))return k(E,y,_,M);Zl(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,_),y.return=E,E=y):(n(E,y),y=kd(_,E.mode,M),y.return=E,E=y),o(E)):n(E,y)}return O}var Bs=Gw(!0),Hw=Gw(!1),Ec=Gr(null),Tc=null,Ss=null,Im=null;function Am(){Im=Ss=Tc=null}function Cm(t){var e=Ec.current;ye(Ec),t._currentValue=e}function np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){Tc=t,Im=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(Im!==t)if(t={context:t,memoizedValue:e,next:null},Ss===null){if(Tc===null)throw Error(j(308));Ss=t,Tc.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return e}var pi=null;function Rm(t){pi===null?pi=[t]:pi.push(t)}function Ww(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,Rm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function Gu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pm(t,n)}}function by(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,r){var i=t.updateQueue;pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,C=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,k=l;switch(m=e,C=n,k.tag){case 1:if(I=k.payload,typeof I=="function"){p=I.call(C,p,m);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=k.payload,m=typeof I=="function"?I.call(C,p,m):I,m==null)break e;p=Pe({},p,m);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else C={eventTime:C,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=C,u=p):d=d.next=C,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=p}}function Dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var ll={},Cn=Gr(ll),Ba=Gr(ll),za=Gr(ll);function mi(t){if(t===ll)throw Error(j(174));return t}function km(t,e){switch(pe(za,e),pe(Ba,t),pe(Cn,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lf(e,t)}ye(Cn),pe(Cn,e)}function zs(){ye(Cn),ye(Ba),ye(za)}function Kw(t){mi(za.current);var e=mi(Cn.current),n=Lf(e,t.type);e!==n&&(pe(Ba,t),pe(Cn,n))}function Om(t){Ba.current===t&&(ye(Cn),ye(Ba))}var Te=Gr(0);function Pc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sd=[];function Nm(){for(var t=0;t<Sd.length;t++)Sd[t]._workInProgressVersionPrimary=null;Sd.length=0}var Hu=Zn.ReactCurrentDispatcher,Id=Zn.ReactCurrentBatchConfig,Ci=0,we=null,$e=null,We=null,Sc=!1,ya=!1,Ga=0,pC=0;function ot(){throw Error(j(321))}function bm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Dm(t,e,n,r,i,s){if(Ci=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?yC:_C,t=n(r,i),ya){s=0;do{if(ya=!1,Ga=0,25<=s)throw Error(j(301));s+=1,We=$e=null,e.updateQueue=null,Hu.current=EC,t=n(r,i)}while(ya)}if(Hu.current=Ic,e=$e!==null&&$e.next!==null,Ci=0,We=$e=we=null,Sc=!1,e)throw Error(j(300));return t}function Mm(){var t=Ga!==0;return Ga=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?we.memoizedState=We=t:We=We.next=t,We}function Ht(){if($e===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?we.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error(j(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?we.memoizedState=We=t:We=We.next=t}return We}function Ha(t,e){return typeof e=="function"?e(t):e}function Ad(t){var e=Ht(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((Ci&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,we.lanes|=d,Ri|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,un(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,Ri|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);un(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Qw(){}function Xw(t,e){var n=we,r=Ht(),i=e(),s=!un(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,Lm(Zw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Wa(9,Yw.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(j(349));Ci&30||Jw(n,e,i)}return i}function Jw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yw(t,e,n,r){e.value=n,e.getSnapshot=r,e0(e)&&t0(t)}function Zw(t,e,n){return n(function(){e0(e)&&t0(t)})}function e0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function t0(t){var e=Qn(t,1);e!==null&&an(e,t,1,-1)}function My(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=vC.bind(null,we,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function n0(){return Ht().memoizedState}function Wu(t,e,n,r){var i=_n();we.flags|=t,i.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function ph(t,e,n,r){var i=Ht();r=r===void 0?null:r;var s=void 0;if($e!==null){var o=$e.memoizedState;if(s=o.destroy,r!==null&&bm(r,o.deps)){i.memoizedState=Wa(e,n,s,r);return}}we.flags|=t,i.memoizedState=Wa(1|e,n,s,r)}function Ly(t,e){return Wu(8390656,8,t,e)}function Lm(t,e){return ph(2048,8,t,e)}function r0(t,e){return ph(4,2,t,e)}function i0(t,e){return ph(4,4,t,e)}function s0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o0(t,e,n){return n=n!=null?n.concat([t]):null,ph(4,4,s0.bind(null,e,t),n)}function Vm(){}function a0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function l0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u0(t,e,n){return Ci&21?(un(n,e)||(n=pw(),we.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function mC(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Id.transition;Id.transition={};try{t(!1),e()}finally{ue=n,Id.transition=r}}function c0(){return Ht().memoizedState}function gC(t,e,n){var r=Nr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h0(t))d0(e,n);else if(n=Ww(t,e,n,r),n!==null){var i=_t();an(n,t,r,i),f0(n,e,r)}}function vC(t,e,n){var r=Nr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h0(t))d0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,un(l,o)){var u=e.interleaved;u===null?(i.next=i,Rm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Ww(t,e,i,r),n!==null&&(i=_t(),an(n,t,r,i),f0(n,e,r))}}function h0(t){var e=t.alternate;return t===we||e!==null&&e===we}function d0(t,e){ya=Sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function f0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pm(t,n)}}var Ic={readContext:Gt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},yC={readContext:Gt,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,s0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gC.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:My,useDebugValue:Vm,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=My(!1),e=t[0];return t=mC.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=_n();if(Ee){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),Ke===null)throw Error(j(349));Ci&30||Jw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ly(Zw.bind(null,r,s,t),[t]),r.flags|=2048,Wa(9,Yw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_n(),e=Ke.identifierPrefix;if(Ee){var n=Fn,r=Vn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_C={readContext:Gt,useCallback:a0,useContext:Gt,useEffect:Lm,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:Ad,useRef:n0,useState:function(){return Ad(Ha)},useDebugValue:Vm,useDeferredValue:function(t){var e=Ht();return u0(e,$e.memoizedState,t)},useTransition:function(){var t=Ad(Ha)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Xw,useId:c0,unstable_isNewReconciler:!1},EC={readContext:Gt,useCallback:a0,useContext:Gt,useEffect:Lm,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:Cd,useRef:n0,useState:function(){return Cd(Ha)},useDebugValue:Vm,useDeferredValue:function(t){var e=Ht();return $e===null?e.memoizedState=t:u0(e,$e.memoizedState,t)},useTransition:function(){var t=Cd(Ha)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Xw,useId:c0,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mh={isMounted:function(t){return(t=t._reactInternals)?Fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Nr(t),s=Bn(r,i);s.payload=e,n!=null&&(s.callback=n),e=kr(t,s,i),e!==null&&(an(e,t,i,r),Gu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),i=Nr(t),s=Bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kr(t,s,i),e!==null&&(an(e,t,i,r),Gu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=Nr(t),i=Bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=kr(t,i,r),e!==null&&(an(e,t,r,n),Gu(e,t,r))}};function Vy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function p0(t,e,n){var r=!1,i=Ur,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Ct(e)?Ii:dt.current,r=e.contextTypes,s=(r=r!=null)?js(t,i):Ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mh.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},xm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Ct(e)?Ii:dt.current,i.context=js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mh.enqueueReplaceState(i,i.state,null),wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e){try{var n="",r=e;do n+=KI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TC=typeof WeakMap=="function"?WeakMap:Map;function m0(t,e,n){n=Bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cc||(Cc=!0,mp=r),sp(t,e)},n}function g0(t,e,n){n=Bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sp(t,e),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MC.bind(null,t,e,n),e.then(t,t))}function jy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $y(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bn(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var wC=Zn.ReactCurrentOwner,It=!1;function yt(t,e,n,r){e.child=t===null?Hw(e,null,n,r):Bs(e,t.child,n,r)}function By(t,e,n,r,i){n=n.render;var s=e.ref;return Ns(e,i),r=Dm(t,e,n,r,s,i),n=Mm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Ee&&n&&wm(e),e.flags|=1,yt(t,e,r,i),e.child)}function zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,v0(t,e,s,r,i)):(t=Xu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return Xn(t,e,i)}return e.flags|=1,t=br(s,r),t.ref=e.ref,t.return=e,e.child=t}function v0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,Xn(t,e,i)}return op(t,e,n,r,i)}function y0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(As,Nt),Nt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(As,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(As,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(As,Nt),Nt|=r;return yt(t,e,i,n),e.child}function _0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function op(t,e,n,r,i){var s=Ct(n)?Ii:dt.current;return s=js(e,s),Ns(e,i),n=Dm(t,e,n,r,s,i),r=Mm(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Ee&&r&&wm(e),e.flags|=1,yt(t,e,n,i),e.child)}function Gy(t,e,n,r,i){if(Ct(n)){var s=!0;vc(e)}else s=!1;if(Ns(e,i),e.stateNode===null)qu(t,e),p0(e,n,r),ip(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Ct(n)?Ii:dt.current,c=js(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Fy(e,o,r,c),pr=!1;var m=e.memoizedState;o.state=m,wc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||At.current||pr?(typeof d=="function"&&(rp(e,n,d,r),u=e.memoizedState),(l=pr||Vy(e,n,l,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qw(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Jt(e.type,l),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Gt(u):(u=Ct(n)?Ii:dt.current,u=js(e,u));var C=n.getDerivedStateFromProps;(d=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Fy(e,o,r,u),pr=!1,m=e.memoizedState,o.state=m,wc(e,r,o,i);var I=e.memoizedState;l!==p||m!==I||At.current||pr?(typeof C=="function"&&(rp(e,n,C,r),I=e.memoizedState),(c=pr||Vy(e,n,c,r,m,I,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ap(t,e,n,r,s,i)}function ap(t,e,n,r,i,s){_0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xy(e,n,!1),Xn(t,e,s);r=e.stateNode,wC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bs(e,t.child,null,s),e.child=Bs(e,null,l,s)):yt(t,e,l,s),e.memoizedState=r.state,i&&xy(e,n,!0),e.child}function E0(t){var e=t.stateNode;e.pendingContext?Ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ry(t,e.context,!1),km(t,e.containerInfo)}function Hy(t,e,n,r,i){return $s(),Sm(i),e.flags|=256,yt(t,e,n,r),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function up(t){return{baseLanes:t,cachePool:null,transitions:null}}function T0(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Te,i&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yh(o,r,0,null),t=_i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=up(n),e.memoizedState=lp,t):Fm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return PC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=br(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=br(l,s):(s=_i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lp,r}return s=t.child,t=s.sibling,r=br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fm(t,e){return e=yh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&Sm(r),Bs(e,t.child,null,n),t=Fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Rd(Error(j(422))),eu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=yh({mode:"visible",children:r.children},i,0,null),s=_i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bs(e,t.child,null,o),e.child.memoizedState=up(o),e.memoizedState=lp,s);if(!(e.mode&1))return eu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(j(419)),r=Rd(s,r,void 0),eu(t,e,o,r)}if(l=(o&t.childLanes)!==0,It||l){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),an(r,t,i,-1))}return Gm(),r=Rd(Error(j(421))),eu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,bt=xr(i.nextSibling),Dt=e,Ee=!0,Zt=null,t!==null&&(Ut[jt++]=Vn,Ut[jt++]=Fn,Ut[jt++]=Ai,Vn=t.id,Fn=t.overflow,Ai=e),e=Fm(e,r.children),e.flags|=4096,e)}function Wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),np(t.return,e,n)}function xd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function w0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,n,e);else if(t.tag===19)Wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xd(e,!0,n,null,s);break;case"together":xd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SC(t,e,n){switch(e.tag){case 3:E0(e),$s();break;case 5:Kw(e);break;case 1:Ct(e.type)&&vc(e);break;case 4:km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Ec,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?T0(t,e,n):(pe(Te,Te.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);pe(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,y0(t,e,n)}return Xn(t,e,n)}var P0,cp,S0,I0;P0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};S0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mi(Cn.current);var s=null;switch(n){case"input":i=Nf(t,i),r=Nf(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Mf(t,i),r=Mf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mc)}Vf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Oa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ve("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};I0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vo(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IC(t,e,n){var r=e.pendingProps;switch(Pm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Ct(e.type)&&gc(),at(e),null;case 3:return r=e.stateNode,zs(),ye(At),ye(dt),Nm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(yp(Zt),Zt=null))),cp(t,e),at(e),null;case 5:Om(e);var i=mi(za.current);if(n=e.type,t!==null&&e.stateNode!=null)S0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return at(e),null}if(t=mi(Cn.current),Yl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wn]=e,r[$a]=s,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<la.length;i++)ve(la[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ty(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":ry(r,s),ve("invalid",r)}Vf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jl(r.textContent,l,t),i=["children",""+l]):Oa.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":zl(r),ny(r,s,!0);break;case"textarea":zl(r),iy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wn]=e,t[$a]=r,P0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ff(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<la.length;i++)ve(la[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":ty(t,r),i=Nf(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),ve("invalid",t);break;case"textarea":ry(t,r),i=Mf(t,r),ve("invalid",t);break;default:i=r}Vf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?nw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ew(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Na(t,u):typeof u=="number"&&Na(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ve("scroll",t):u!=null&&lm(t,s,u,o))}switch(n){case"input":zl(t),ny(t,r,!1);break;case"textarea":zl(t),iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Rs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)I0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=mi(za.current),mi(Cn.current),Yl(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(s=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return at(e),null;case 13:if(ye(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&bt!==null&&e.mode&1&&!(e.flags&128))zw(),$s(),e.flags|=98560,s=!1;else if(s=Yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[wn]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else Zt!==null&&(yp(Zt),Zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Be===0&&(Be=3):Gm())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return zs(),cp(t,e),t===null&&Ua(e.stateNode.containerInfo),at(e),null;case 10:return Cm(e.type._context),at(e),null;case 17:return Ct(e.type)&&gc(),at(e),null;case 19:if(ye(Te),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vo(s,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pc(t),o!==null){for(e.flags|=128,Vo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>Hs&&(e.flags|=128,r=!0,Vo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Pc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return at(e),null}else 2*ke()-s.renderingStartTime>Hs&&n!==1073741824&&(e.flags|=128,r=!0,Vo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,n=Te.current,pe(Te,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function AC(t,e){switch(Pm(e),e.tag){case 1:return Ct(e.type)&&gc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),ye(At),ye(dt),Nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Om(e),null;case 13:if(ye(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(Te),null;case 4:return zs(),null;case 10:return Cm(e.type._context),null;case 22:case 23:return zm(),null;case 24:return null;default:return null}}var tu=!1,ct=!1,CC=typeof WeakSet=="function"?WeakSet:Set,G=null;function Is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function hp(t,e,n){try{n()}catch(r){Re(t,e,r)}}var qy=!1;function RC(t,e){if(Kf=dc,t=kw(),Tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var C;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(C=p.firstChild)!==null;)m=p,p=C;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(C=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:t,selectionRange:n},dc=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var k=I.memoizedProps,O=I.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:Jt(e.type,k),O);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(M){Re(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return I=qy,qy=!1,I}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hp(e,n,s)}i=i.next}while(i!==r)}}function gh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A0(t){var e=t.alternate;e!==null&&(t.alternate=null,A0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[$a],delete e[Yf],delete e[cC],delete e[hC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function C0(t){return t.tag===5||t.tag===3||t.tag===4}function Ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mc));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}var Je=null,Yt=!1;function or(t,e,n){for(n=n.child;n!==null;)R0(t,e,n),n=n.sibling}function R0(t,e,n){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(lh,n)}catch{}switch(n.tag){case 5:ct||Is(n,e);case 6:var r=Je,i=Yt;Je=null,or(t,e,n),Je=r,Yt=i,Je!==null&&(Yt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Yt?(t=Je,n=n.stateNode,t.nodeType===8?wd(t.parentNode,n):t.nodeType===1&&wd(t,n),La(t)):wd(Je,n.stateNode));break;case 4:r=Je,i=Yt,Je=n.stateNode.containerInfo,Yt=!0,or(t,e,n),Je=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hp(n,e,o),i=i.next}while(i!==r)}or(t,e,n);break;case 1:if(!ct&&(Is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,e,l)}or(t,e,n);break;case 21:or(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,or(t,e,n),ct=r):or(t,e,n);break;default:or(t,e,n)}}function Qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CC),e.forEach(function(r){var i=VC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Yt=!1;break e;case 3:Je=l.stateNode.containerInfo,Yt=!0;break e;case 4:Je=l.stateNode.containerInfo,Yt=!0;break e}l=l.return}if(Je===null)throw Error(j(160));R0(s,o,i),Je=null,Yt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Re(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x0(e,t),e=e.sibling}function x0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),fn(t),r&4){try{_a(3,t,t.return),gh(3,t)}catch(k){Re(t,t.return,k)}try{_a(5,t,t.return)}catch(k){Re(t,t.return,k)}}break;case 1:Qt(e,t),fn(t),r&512&&n!==null&&Is(n,n.return);break;case 5:if(Qt(e,t),fn(t),r&512&&n!==null&&Is(n,n.return),t.flags&32){var i=t.stateNode;try{Na(i,"")}catch(k){Re(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&JT(i,s),Ff(l,o);var c=Ff(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?nw(i,p):d==="dangerouslySetInnerHTML"?ew(i,p):d==="children"?Na(i,p):lm(i,d,p,c)}switch(l){case"input":bf(i,s);break;case"textarea":YT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Rs(i,!!s.multiple,C,!1):m!==!!s.multiple&&(s.defaultValue!=null?Rs(i,!!s.multiple,s.defaultValue,!0):Rs(i,!!s.multiple,s.multiple?[]:"",!1))}i[$a]=s}catch(k){Re(t,t.return,k)}}break;case 6:if(Qt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Re(t,t.return,k)}}break;case 3:if(Qt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(k){Re(t,t.return,k)}break;case 4:Qt(e,t),fn(t);break;case 13:Qt(e,t),fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($m=ke())),r&4&&Qy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||d,Qt(e,t),ct=c):Qt(e,t),fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(p=G=d;G!==null;){switch(m=G,C=m.child,m.tag){case 0:case 11:case 14:case 15:_a(4,m,m.return);break;case 1:Is(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(k){Re(r,n,k)}}break;case 5:Is(m,m.return);break;case 22:if(m.memoizedState!==null){Jy(p);continue}}C!==null?(C.return=m,G=C):Jy(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=tw("display",o))}catch(k){Re(t,t.return,k)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Re(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qt(e,t),fn(t),r&4&&Qy(t);break;case 21:break;default:Qt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(C0(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Na(i,""),r.flags&=-33);var s=Ky(t);pp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ky(t);fp(t,l,o);break;default:throw Error(j(161))}}catch(u){Re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xC(t,e,n){G=t,k0(t)}function k0(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=tu;var c=ct;if(tu=o,(ct=u)&&!c)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Yy(i):u!==null?(u.return=o,G=u):Yy(i);for(;s!==null;)G=s,k0(s),s=s.sibling;G=i,tu=l,ct=c}Xy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Xy(t)}}function Xy(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||gh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Dy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&La(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ct||e.flags&512&&dp(e)}catch(m){Re(e,e.return,m)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Jy(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Yy(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gh(4,e)}catch(u){Re(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Re(e,i,u)}}var s=e.return;try{dp(e)}catch(u){Re(e,s,u)}break;case 5:var o=e.return;try{dp(e)}catch(u){Re(e,o,u)}}}catch(u){Re(e,e.return,u)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var kC=Math.ceil,Ac=Zn.ReactCurrentDispatcher,Um=Zn.ReactCurrentOwner,zt=Zn.ReactCurrentBatchConfig,ie=0,Ke=null,Le=null,tt=0,Nt=0,As=Gr(0),Be=0,qa=null,Ri=0,vh=0,jm=0,Ea=null,St=null,$m=0,Hs=1/0,Mn=null,Cc=!1,mp=null,Or=null,nu=!1,Pr=null,Rc=0,Ta=0,gp=null,Ku=-1,Qu=0;function _t(){return ie&6?ke():Ku!==-1?Ku:Ku=ke()}function Nr(t){return t.mode&1?ie&2&&tt!==0?tt&-tt:fC.transition!==null?(Qu===0&&(Qu=pw()),Qu):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Tw(t.type)),t):1}function an(t,e,n,r){if(50<Ta)throw Ta=0,gp=null,Error(j(185));sl(t,n,r),(!(ie&2)||t!==Ke)&&(t===Ke&&(!(ie&2)&&(vh|=n),Be===4&&yr(t,tt)),Rt(t,r),n===1&&ie===0&&!(e.mode&1)&&(Hs=ke()+500,fh&&Hr()))}function Rt(t,e){var n=t.callbackNode;fA(t,e);var r=hc(t,t===Ke?tt:0);if(r===0)n!==null&&ay(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ay(n),e===1)t.tag===0?dC(Zy.bind(null,t)):jw(Zy.bind(null,t)),lC(function(){!(ie&6)&&Hr()}),n=null;else{switch(mw(r)){case 1:n=fm;break;case 4:n=dw;break;case 16:n=cc;break;case 536870912:n=fw;break;default:n=cc}n=F0(n,O0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function O0(t,e){if(Ku=-1,Qu=0,ie&6)throw Error(j(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=hc(t,t===Ke?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xc(t,r);else{e=r;var i=ie;ie|=2;var s=b0();(Ke!==t||tt!==e)&&(Mn=null,Hs=ke()+500,yi(t,e));do try{bC();break}catch(l){N0(t,l)}while(!0);Am(),Ac.current=s,ie=i,Le!==null?e=0:(Ke=null,tt=0,e=Be)}if(e!==0){if(e===2&&(i=zf(t),i!==0&&(r=i,e=vp(t,i))),e===1)throw n=qa,yi(t,0),yr(t,r),Rt(t,ke()),n;if(e===6)yr(t,r);else{if(i=t.current.alternate,!(r&30)&&!OC(i)&&(e=xc(t,r),e===2&&(s=zf(t),s!==0&&(r=s,e=vp(t,s))),e===1))throw n=qa,yi(t,0),yr(t,r),Rt(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:li(t,St,Mn);break;case 3:if(yr(t,r),(r&130023424)===r&&(e=$m+500-ke(),10<e)){if(hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jf(li.bind(null,t,St,Mn),e);break}li(t,St,Mn);break;case 4:if(yr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kC(r/1960))-r,10<r){t.timeoutHandle=Jf(li.bind(null,t,St,Mn),r);break}li(t,St,Mn);break;case 5:li(t,St,Mn);break;default:throw Error(j(329))}}}return Rt(t,ke()),t.callbackNode===n?O0.bind(null,t):null}function vp(t,e){var n=Ea;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=xc(t,e),t!==2&&(e=St,St=n,e!==null&&yp(e)),t}function yp(t){St===null?St=t:St.push.apply(St,t)}function OC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yr(t,e){for(e&=~jm,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function Zy(t){if(ie&6)throw Error(j(327));bs();var e=hc(t,0);if(!(e&1))return Rt(t,ke()),null;var n=xc(t,e);if(t.tag!==0&&n===2){var r=zf(t);r!==0&&(e=r,n=vp(t,r))}if(n===1)throw n=qa,yi(t,0),yr(t,e),Rt(t,ke()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,St,Mn),Rt(t,ke()),null}function Bm(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Hs=ke()+500,fh&&Hr())}}function xi(t){Pr!==null&&Pr.tag===0&&!(ie&6)&&bs();var e=ie;ie|=1;var n=zt.transition,r=ue;try{if(zt.transition=null,ue=1,t)return t()}finally{ue=r,zt.transition=n,ie=e,!(ie&6)&&Hr()}}function zm(){Nt=As.current,ye(As)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aC(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Pm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gc();break;case 3:zs(),ye(At),ye(dt),Nm();break;case 5:Om(r);break;case 4:zs();break;case 13:ye(Te);break;case 19:ye(Te);break;case 10:Cm(r.type._context);break;case 22:case 23:zm()}n=n.return}if(Ke=t,Le=t=br(t.current,null),tt=Nt=e,Be=0,qa=null,jm=vh=Ri=0,St=Ea=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}pi=null}return t}function N0(t,e){do{var n=Le;try{if(Am(),Hu.current=Ic,Sc){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sc=!1}if(Ci=0,We=$e=we=null,ya=!1,Ga=0,Um.current=null,n===null||n.return===null){Be=1,qa=e,Le=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=tt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var C=jy(o);if(C!==null){C.flags&=-257,$y(C,o,l,s,e),C.mode&1&&Uy(s,c,e),e=C,u=c;var I=e.updateQueue;if(I===null){var k=new Set;k.add(u),e.updateQueue=k}else I.add(u);break e}else{if(!(e&1)){Uy(s,c,e),Gm();break e}u=Error(j(426))}}else if(Ee&&l.mode&1){var O=jy(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),$y(O,o,l,s,e),Sm(Gs(u,l));break e}}s=u=Gs(u,l),Be!==4&&(Be=2),Ea===null?Ea=[s]:Ea.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=m0(s,u,e);by(s,E);break e;case 1:l=u;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Or===null||!Or.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=g0(s,l,e);by(s,M);break e}}s=s.return}while(s!==null)}M0(n)}catch(V){e=V,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function b0(){var t=Ac.current;return Ac.current=Ic,t===null?Ic:t}function Gm(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Ri&268435455)&&!(vh&268435455)||yr(Ke,tt)}function xc(t,e){var n=ie;ie|=2;var r=b0();(Ke!==t||tt!==e)&&(Mn=null,yi(t,e));do try{NC();break}catch(i){N0(t,i)}while(!0);if(Am(),ie=n,Ac.current=r,Le!==null)throw Error(j(261));return Ke=null,tt=0,Be}function NC(){for(;Le!==null;)D0(Le)}function bC(){for(;Le!==null&&!iA();)D0(Le)}function D0(t){var e=V0(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?M0(t):Le=e,Um.current=null}function M0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AC(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Le=null;return}}else if(n=IC(n,e,Nt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Be===0&&(Be=5)}function li(t,e,n){var r=ue,i=zt.transition;try{zt.transition=null,ue=1,DC(t,e,n,r)}finally{zt.transition=i,ue=r}return null}function DC(t,e,n,r){do bs();while(Pr!==null);if(ie&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pA(t,s),t===Ke&&(Le=Ke=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nu||(nu=!0,F0(cc,function(){return bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zt.transition,zt.transition=null;var o=ue;ue=1;var l=ie;ie|=4,Um.current=null,RC(t,n),x0(n,t),eC(Qf),dc=!!Kf,Qf=Kf=null,t.current=n,xC(n),sA(),ie=l,ue=o,zt.transition=s}else t.current=n;if(nu&&(nu=!1,Pr=t,Rc=i),s=t.pendingLanes,s===0&&(Or=null),lA(n.stateNode),Rt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cc)throw Cc=!1,t=mp,mp=null,t;return Rc&1&&t.tag!==0&&bs(),s=t.pendingLanes,s&1?t===gp?Ta++:(Ta=0,gp=t):Ta=0,Hr(),null}function bs(){if(Pr!==null){var t=mw(Rc),e=zt.transition,n=ue;try{if(zt.transition=null,ue=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,Rc=0,ie&6)throw Error(j(331));var i=ie;for(ie|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:_a(8,d,s)}var p=d.child;if(p!==null)p.return=d,G=p;else for(;G!==null;){d=G;var m=d.sibling,C=d.return;if(A0(d),d===c){G=null;break}if(m!==null){m.return=C,G=m;break}G=C}}}var I=s.alternate;if(I!==null){var k=I.child;if(k!==null){I.child=null;do{var O=k.sibling;k.sibling=null,k=O}while(k!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,G=E;break e}G=s.return}}var y=t.current;for(G=y;G!==null;){o=G;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,G=_;else e:for(o=y;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gh(9,l)}}catch(V){Re(l,l.return,V)}if(l===o){G=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,G=M;break e}G=l.return}}if(ie=i,Hr(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(lh,t)}catch{}r=!0}return r}finally{ue=n,zt.transition=e}}return!1}function e_(t,e,n){e=Gs(n,e),e=m0(t,e,1),t=kr(t,e,1),e=_t(),t!==null&&(sl(t,1,e),Rt(t,e))}function Re(t,e,n){if(t.tag===3)e_(t,t,n);else for(;e!==null;){if(e.tag===3){e_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){t=Gs(n,t),t=g0(e,t,1),e=kr(e,t,1),t=_t(),e!==null&&(sl(e,1,t),Rt(e,t));break}}e=e.return}}function MC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(tt&n)===n&&(Be===4||Be===3&&(tt&130023424)===tt&&500>ke()-$m?yi(t,0):jm|=n),Rt(t,e)}function L0(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=_t();t=Qn(t,e),t!==null&&(sl(t,e,n),Rt(t,n))}function LC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L0(t,n)}function VC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),L0(t,n)}var V0;V0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,SC(t,e,n);It=!!(t.flags&131072)}else It=!1,Ee&&e.flags&1048576&&$w(e,_c,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qu(t,e),t=e.pendingProps;var i=js(e,dt.current);Ns(e,n),i=Dm(null,e,r,t,i,n);var s=Mm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(s=!0,vc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xm(e),i.updater=mh,e.stateNode=i,i._reactInternals=e,ip(e,r,t,n),e=ap(null,e,r,!0,s,n)):(e.tag=0,Ee&&s&&wm(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UC(r),t=Jt(r,t),i){case 0:e=op(null,e,r,t,n);break e;case 1:e=Gy(null,e,r,t,n);break e;case 11:e=By(null,e,r,t,n);break e;case 14:e=zy(null,e,r,Jt(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Gy(t,e,r,i,n);case 3:e:{if(E0(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qw(t,e),wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gs(Error(j(423)),e),e=Hy(t,e,r,n,i);break e}else if(r!==i){i=Gs(Error(j(424)),e),e=Hy(t,e,r,n,i);break e}else for(bt=xr(e.stateNode.containerInfo.firstChild),Dt=e,Ee=!0,Zt=null,n=Hw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),r===i){e=Xn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return Kw(e),t===null&&tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xf(r,i)?o=null:s!==null&&Xf(r,s)&&(e.flags|=32),_0(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&tp(e),null;case 13:return T0(t,e,n);case 4:return km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bs(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),By(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(Ec,r._currentValue),r._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!At.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Bn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),np(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ns(e,n),i=Gt(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),zy(t,e,r,i,n);case 15:return v0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),qu(t,e),e.tag=1,Ct(r)?(t=!0,vc(e)):t=!1,Ns(e,n),p0(e,r,i),ip(e,r,i,n),ap(null,e,r,!0,t,n);case 19:return w0(t,e,n);case 22:return y0(t,e,n)}throw Error(j(156,e.tag))};function F0(t,e){return hw(t,e)}function FC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new FC(t,e,n,r)}function Hm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UC(t){if(typeof t=="function")return Hm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cm)return 11;if(t===hm)return 14}return 2}function br(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return _i(n.children,i,s,e);case um:o=8,i|=8;break;case Rf:return t=$t(12,n,e,i|2),t.elementType=Rf,t.lanes=s,t;case xf:return t=$t(13,n,e,i),t.elementType=xf,t.lanes=s,t;case kf:return t=$t(19,n,e,i),t.elementType=kf,t.lanes=s,t;case KT:return yh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WT:o=10;break e;case qT:o=9;break e;case cm:o=11;break e;case hm:o=14;break e;case fr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=$t(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _i(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function yh(t,e,n,r){return t=$t(22,t,r,e),t.elementType=KT,t.lanes=n,t.stateNode={isHidden:!1},t}function kd(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Od(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wm(t,e,n,r,i,s,o,l,u){return t=new jC(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$t(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xm(s),t}function $C(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U0(t){if(!t)return Ur;t=t._reactInternals;e:{if(Fi(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ct(n))return Uw(t,n,e)}return e}function j0(t,e,n,r,i,s,o,l,u){return t=Wm(n,r,!0,t,i,s,o,l,u),t.context=U0(null),n=t.current,r=_t(),i=Nr(n),s=Bn(r,i),s.callback=e??null,kr(n,s,i),t.current.lanes=i,sl(t,i,r),Rt(t,r),t}function _h(t,e,n,r){var i=e.current,s=_t(),o=Nr(i);return n=U0(n),e.context===null?e.context=n:e.pendingContext=n,e=Bn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(i,e,o),t!==null&&(an(t,i,o,s),Gu(t,i,o)),o}function kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qm(t,e){t_(t,e),(t=t.alternate)&&t_(t,e)}function BC(){return null}var $0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Km(t){this._internalRoot=t}Eh.prototype.render=Km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));_h(t,e,null,null)};Eh.prototype.unmount=Km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){_h(null,t,null,null)}),e[Kn]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&Ew(t)}};function Qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function zC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=kc(o);s.call(c)}}var o=j0(e,r,t,0,null,!1,!1,"",n_);return t._reactRootContainer=o,t[Kn]=o.current,Ua(t.nodeType===8?t.parentNode:t),xi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=kc(u);l.call(c)}}var u=Wm(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=u,t[Kn]=u.current,Ua(t.nodeType===8?t.parentNode:t),xi(function(){_h(e,u,n,r)}),u}function wh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=kc(o);l.call(u)}}_h(e,o,t,i)}else o=zC(n,e,t,i,r);return kc(o)}gw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(pm(e,n|1),Rt(e,ke()),!(ie&6)&&(Hs=ke()+500,Hr()))}break;case 13:xi(function(){var r=Qn(t,1);if(r!==null){var i=_t();an(r,t,1,i)}}),qm(t,1)}};mm=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=_t();an(e,t,134217728,n)}qm(t,134217728)}};vw=function(t){if(t.tag===13){var e=Nr(t),n=Qn(t,e);if(n!==null){var r=_t();an(n,t,e,r)}qm(t,e)}};yw=function(){return ue};_w=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};jf=function(t,e,n){switch(e){case"input":if(bf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dh(r);if(!i)throw Error(j(90));XT(r),bf(r,i)}}}break;case"textarea":YT(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};sw=Bm;ow=xi;var GC={usingClientEntryPoint:!1,Events:[al,Es,dh,rw,iw,Bm]},Fo={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HC={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uw(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||BC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{lh=ru.inject(HC),An=ru}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qm(e))throw Error(j(200));return $C(t,e,null,n)};Vt.createRoot=function(t,e){if(!Qm(t))throw Error(j(299));var n=!1,r="",i=$0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wm(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,Ua(t.nodeType===8?t.parentNode:t),new Km(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=uw(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return xi(t)};Vt.hydrate=function(t,e,n){if(!Th(e))throw Error(j(200));return wh(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!Qm(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=j0(e,null,t,1,n??null,i,!1,s,o),t[Kn]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eh(e)};Vt.render=function(t,e,n){if(!Th(e))throw Error(j(200));return wh(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!Th(t))throw Error(j(40));return t._reactRootContainer?(xi(function(){wh(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};Vt.unstable_batchedUpdates=Bm;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Th(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return wh(t,e,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function B0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B0)}catch(t){console.error(t)}}B0(),BT.exports=Vt;var z0=BT.exports;const Cs=oh(z0);var G0,r_=z0;G0=r_.createRoot,r_.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}var Sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sr||(Sr={}));const i_="popstate";function WC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return _p("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Oc(i)}return KC(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function H0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qC(){return Math.random().toString(36).substr(2,8)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function _p(t,e,n,r){return n===void 0&&(n=null),Ka({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?so(e):e,{state:n,key:e&&e.key||r||qC()})}function Oc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Sr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ka({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Sr.Pop;let O=d(),E=O==null?null:O-c;c=O,u&&u({action:l,location:k.location,delta:E})}function m(O,E){l=Sr.Push;let y=_p(k.location,O,E);c=d()+1;let _=s_(y,c),M=k.createHref(y);try{o.pushState(_,"",M)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(M)}s&&u&&u({action:l,location:k.location,delta:1})}function C(O,E){l=Sr.Replace;let y=_p(k.location,O,E);c=d();let _=s_(y,c),M=k.createHref(y);o.replaceState(_,"",M),s&&u&&u({action:l,location:k.location,delta:0})}function I(O){let E=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof O=="string"?O:Oc(O);return y=y.replace(/ $/,"%20"),Fe(E,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,E)}let k={get action(){return l},get location(){return t(i,o)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i_,p),u=O,()=>{i.removeEventListener(i_,p),u=null}},createHref(O){return e(i,O)},createURL:I,encodeLocation(O){let E=I(O);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:C,go(O){return o.go(O)}};return k}var o_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o_||(o_={}));function QC(t,e,n){return n===void 0&&(n="/"),XC(t,e,n,!1)}function XC(t,e,n,r){let i=typeof e=="string"?so(e):e,s=Xm(i.pathname||"/",n);if(s==null)return null;let o=W0(t);JC(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=lR(s);l=oR(o[u],c,r)}return l}function W0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Fe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Dr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W0(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:iR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of q0(s.path))i(s,o,u)}),e}function q0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=q0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function JC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YC=/^:[\w-]+$/,ZC=3,eR=2,tR=1,nR=10,rR=-2,a_=t=>t==="*";function iR(t,e){let n=t.split("/"),r=n.length;return n.some(a_)&&(r+=rR),e&&(r+=eR),n.filter(i=>!a_(i)).reduce((i,s)=>i+(YC.test(s)?ZC:s===""?tR:nR),r)}function sR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oR(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=l_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=l_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Dr([s,p.pathname]),pathnameBase:dR(Dr([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Dr([s,p.pathnameBase]))}return o}function l_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:m,isOptional:C}=d;if(m==="*"){let k=l[p]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const I=l[p];return C&&!I?c[m]=void 0:c[m]=(I||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function aR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),H0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return H0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?so(t):t;return{pathname:n?n.startsWith("/")?n:cR(n,e):e,search:fR(r),hash:pR(i)}}function cR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function K0(t,e){let n=hR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=so(t):(i=Ka({},t),Fe(!i.pathname||!i.pathname.includes("?"),Nd("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),Nd("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),Nd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=uR(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),dR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const X0=["post","put","patch","delete"];new Set(X0);const gR=["get",...X0];new Set(gR);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}const Jm=b.createContext(null),vR=b.createContext(null),Ui=b.createContext(null),Ph=b.createContext(null),ji=b.createContext({outlet:null,matches:[],isDataRoute:!1}),J0=b.createContext(null);function yR(t,e){let{relative:n}=e===void 0?{}:e;ul()||Fe(!1);let{basename:r,navigator:i}=b.useContext(Ui),{hash:s,pathname:o,search:l}=Z0(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Dr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function ul(){return b.useContext(Ph)!=null}function Sh(){return ul()||Fe(!1),b.useContext(Ph).location}function Y0(t){b.useContext(Ui).static||b.useLayoutEffect(t)}function _R(){let{isDataRoute:t}=b.useContext(ji);return t?NR():ER()}function ER(){ul()||Fe(!1);let t=b.useContext(Jm),{basename:e,future:n,navigator:r}=b.useContext(Ui),{matches:i}=b.useContext(ji),{pathname:s}=Sh(),o=JSON.stringify(K0(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return Y0(()=>{l.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=Q0(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Dr([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function Z0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Ui),{matches:i}=b.useContext(ji),{pathname:s}=Sh(),o=JSON.stringify(K0(i,r.v7_relativeSplatPath));return b.useMemo(()=>Q0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function TR(t,e){return wR(t,e)}function wR(t,e,n,r){ul()||Fe(!1);let{navigator:i}=b.useContext(Ui),{matches:s}=b.useContext(ji),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Sh(),d;if(e){var p;let O=typeof e=="string"?so(e):e;u==="/"||(p=O.pathname)!=null&&p.startsWith(u)||Fe(!1),d=O}else d=c;let m=d.pathname||"/",C=m;if(u!=="/"){let O=u.replace(/^\//,"").split("/");C="/"+m.replace(/^\//,"").split("/").slice(O.length).join("/")}let I=QC(t,{pathname:C}),k=CR(I&&I.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Dr([u,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:Dr([u,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&k?b.createElement(Ph.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Sr.Pop}},k):k}function PR(){let t=OR(),e=mR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const SR=b.createElement(PR,null);class IR extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(ji.Provider,{value:this.props.routeContext},b.createElement(J0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AR(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Jm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ji.Provider,{value:e},r)}function CR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:m,errors:C}=n,I=p.route.loader&&m[p.route.id]===void 0&&(!C||C[p.route.id]===void 0);if(p.route.lazy||I){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let C,I=!1,k=null,O=null;n&&(C=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||SR,u&&(c<0&&m===0?(I=!0,O=null):c===m&&(I=!0,O=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),y=()=>{let _;return C?_=k:I?_=O:p.route.Component?_=b.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,b.createElement(AR,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?b.createElement(IR,{location:n.location,revalidation:n.revalidation,component:k,error:C,children:y(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):y()},null)}var eP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eP||{}),Nc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nc||{});function RR(t){let e=b.useContext(Jm);return e||Fe(!1),e}function xR(t){let e=b.useContext(vR);return e||Fe(!1),e}function kR(t){let e=b.useContext(ji);return e||Fe(!1),e}function tP(t){let e=kR(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function OR(){var t;let e=b.useContext(J0),n=xR(Nc.UseRouteError),r=tP(Nc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function NR(){let{router:t}=RR(eP.UseNavigateStable),e=tP(Nc.UseNavigateStable),n=b.useRef(!1);return Y0(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qa({fromRouteId:e},s)))},[t,e])}function yn(t){Fe(!1)}function bR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sr.Pop,navigator:s,static:o=!1,future:l}=t;ul()&&Fe(!1);let u=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:u,navigator:s,static:o,future:Qa({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=so(r));let{pathname:d="/",search:p="",hash:m="",state:C=null,key:I="default"}=r,k=b.useMemo(()=>{let O=Xm(d,u);return O==null?null:{location:{pathname:O,search:p,hash:m,state:C,key:I},navigationType:i}},[u,d,p,m,C,I,i]);return k==null?null:b.createElement(Ui.Provider,{value:c},b.createElement(Ph.Provider,{children:n,value:k}))}function DR(t){let{children:e,location:n}=t;return TR(Ep(e),n)}new Promise(()=>{});function Ep(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Ep(r.props.children,s));return}r.type!==yn&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ep(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function MR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VR(t,e){return t.button===0&&(!e||e==="_self")&&!LR(t)}const FR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UR="6";try{window.__reactRouterVersion=UR}catch{}const jR="startTransition",u_=MI[jR];function $R(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=WC({window:i,v5Compat:!0}));let o=s.current,[l,u]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(p=>{c&&u_?u_(()=>u(p)):u(p)},[u,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(bR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const BR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,m=MR(e,FR),{basename:C}=b.useContext(Ui),I,k=!1;if(typeof c=="string"&&zR.test(c)&&(I=c,BR))try{let _=new URL(window.location.href),M=c.startsWith("//")?new URL(_.protocol+c):new URL(c),V=Xm(M.pathname,C);M.origin===_.origin&&V!=null?c=V+M.search+M.hash:k=!0}catch{}let O=yR(c,{relative:i}),E=GR(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function y(_){r&&r(_),_.defaultPrevented||E(_)}return b.createElement("a",Tp({},m,{href:I||O,onClick:k||s?r:y,ref:n,target:u}))});var c_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c_||(c_={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function GR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=_R(),c=Sh(),d=Z0(t,{relative:o});return b.useCallback(p=>{if(VR(p,n)){p.preventDefault();let m=r!==void 0?r:Oc(c)===Oc(d);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}const zn="isAuthenticated",HR="users",$i=()=>R.jsx("p",{children:"Cargando"}),WR=()=>{const[t,e]=b.useState("LandingHome"),[n,r]=b.useState(!0),i=s=>{e(s)};return b.useEffect(()=>{JSON.parse(localStorage.getItem(zn))&&(window.location.href="/home"),setTimeout(()=>{r(!1)},1e3),setTimeout(()=>{e("Nuestra misión")},3e3)},[]),R.jsx("div",{className:"container-landing-home",children:n?R.jsx($i,{}):R.jsxs("div",{children:[R.jsx("p",{children:t}),t==="LandingHome"?null:t==="Nuestra misión"?R.jsx("button",{className:"btn-green",onClick:()=>i("El primer paso"),children:"Empezar"}):R.jsx(nn,{to:"/loginForm",children:R.jsx("button",{className:"btn-green",children:"Empezar"})})]})})},bd=[{id:1,question:"Con qué frecuencia transporte público?",answers:[{name:"Siempre",points:3},{name:"Algunas veces",points:1},{name:"Nunca",points:0}]},{id:2,question:"Cuántos vuelos al año?",answers:[{name:"Más de 3",points:3},{name:"1-3",points:1},{name:"Ninguno",points:0}]},{id:3,question:"Tipo de energía?",answers:[{name:"Energía no renovable",points:3},{name:"Energía mixta",points:1},{name:"Energía renovable",points:0}]},{id:4,question:"Frecuencia productos locales",answers:[{name:"Rara vez o nunca",points:3},{name:"Algunas veces",points:1},{name:"Siempre que puedo",points:0}]},{id:5,question:"Tipo de residuo hogar?",answers:[{name:"Residuos no reciclables",points:3},{name:"Residuos orgánicos",points:1},{name:"Residuos reciclables",points:0}]}],qR=({data:t,setData:e,resetData:n})=>{const[r,i]=b.useState(""),s=o=>{e(o),i(o)};return b.useEffect(()=>{i("")},[n]),t.map((o,l)=>R.jsxs("label",{className:"container-checkbox",children:[o.name,R.jsx("input",{type:"checkbox",value:o.points,checked:r===o.points,onChange:()=>s(o.points)}),R.jsx("span",{className:"box-checkbox"})]},l))},KR=()=>{const[t,e]=b.useState([{id:1,points:0},{id:2,points:0},{id:3,points:0},{id:4,points:0},{id:5,points:0}]),[n,r]=b.useState(""),[i,s]=b.useState(1),o=()=>{const l=t.findIndex(c=>c.id===i),u=[...t];u[l].points=n,e(u),s(i+1),r(""),setTimeout(()=>{console.log("Actual response",t)},1e3)};return R.jsxs("div",{className:"container-init-questions",children:[R.jsx("p",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"50vw"},children:"Mi árbol logo"}),R.jsxs("div",{className:"container-question",children:[R.jsx("div",{className:"container-number",children:R.jsx("p",{className:"question-number",children:R.jsx("b",{children:bd.find(l=>l.id===i).id})})}),R.jsx("div",{className:"container-text",children:R.jsx("p",{className:"question-text",children:bd.find(l=>l.id===i).question})})]}),R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"50vw"},children:R.jsx(qR,{data:bd.find(l=>l.id===i).answers,setData:r,resetData:t})}),R.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"50vw"},children:i<5?R.jsx("button",{className:"btn-green",disabled:n==="",onClick:()=>o(),children:"Siguiente"}):R.jsx(nn,{to:"/home",children:R.jsx("button",{className:"btn-green",disabled:n==="",onClick:()=>o(),children:"Finalizar"})})})]})};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,C=c&63;u||(C=64,o||(m=64)),r.push(n[d],n[p],n[m],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||p==null)throw new XR;const m=s<<2|l>>4;if(r.push(m),c!==64){const C=l<<4&240|c>>2;if(r.push(C),p!==64){const I=c<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(t){const e=nP(t);return rP.encodeByteArray(e,!0)},bc=function(t){return JR(t).replace(/\./g,"")},iP=function(t){try{return rP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=()=>YR().__FIREBASE_DEFAULTS__,ex=()=>{if(typeof process>"u"||typeof d_>"u")return;const t=d_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iP(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return ZR()||ex()||tx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sP=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=sP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oP=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config},aP=t=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bc(JSON.stringify(n)),bc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function ox(){var t;const e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cx(){const t=ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hx(){return!ox()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dx(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=px,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new er(i,l,r)}}function mx(t,e){return t.replace(gx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gx=/\{\$([^}]+)}/g;function vx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(f_(s)&&f_(o)){if(!Dc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yx(t,e){const n=new _x(t,e);return n.subscribe.bind(n)}class _x{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ex(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dd),i.error===void 0&&(i.error=Dd),i.complete===void 0&&(i.complete=Dd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ex(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Px(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wx(t){return t===ui?void 0:t}function Px(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const Ix={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Ax=ee.INFO,Cx={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Rx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Cx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=Ax,this._logHandler=Rx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const xx=(t,e)=>e.some(n=>t instanceof n);let p_,m_;function kx(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ox(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lP=new WeakMap,wp=new WeakMap,uP=new WeakMap,Md=new WeakMap,Zm=new WeakMap;function Nx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lP.set(n,t)}).catch(()=>{}),Zm.set(e,t),e}function bx(t){if(wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Dx(t){Pp=t(Pp)}function Mx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ld(this),e,...n);return uP.set(r,e.sort?e.sort():[e]),Mr(r)}:Ox().includes(t)?function(...e){return t.apply(Ld(this),e),Mr(lP.get(this))}:function(...e){return Mr(t.apply(Ld(this),e))}}function Lx(t){return typeof t=="function"?Mx(t):(t instanceof IDBTransaction&&bx(t),xx(t,kx())?new Proxy(t,Pp):t)}function Mr(t){if(t instanceof IDBRequest)return Nx(t);if(Md.has(t))return Md.get(t);const e=Lx(t);return e!==t&&(Md.set(t,e),Zm.set(e,t)),e}const Ld=t=>Zm.get(t);function Vx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Mr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mr(o.result),u.oldVersion,u.newVersion,Mr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const Fx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],Vd=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ux.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fx.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Vd.set(e,s),s}Dx(t=>({...t,get:(e,n,r)=>g_(e,n)||t.get(e,n,r),has:(e,n)=>!!g_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($x(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",v_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn=new Ym("@firebase/app"),Bx="@firebase/app-compat",zx="@firebase/analytics-compat",Gx="@firebase/analytics",Hx="@firebase/app-check-compat",Wx="@firebase/app-check",qx="@firebase/auth",Kx="@firebase/auth-compat",Qx="@firebase/database",Xx="@firebase/data-connect",Jx="@firebase/database-compat",Yx="@firebase/functions",Zx="@firebase/functions-compat",ek="@firebase/installations",tk="@firebase/installations-compat",nk="@firebase/messaging",rk="@firebase/messaging-compat",ik="@firebase/performance",sk="@firebase/performance-compat",ok="@firebase/remote-config",ak="@firebase/remote-config-compat",lk="@firebase/storage",uk="@firebase/storage-compat",ck="@firebase/firestore",hk="@firebase/vertexai",dk="@firebase/firestore-compat",fk="firebase",pk="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",mk={[Sp]:"fire-core",[Bx]:"fire-core-compat",[Gx]:"fire-analytics",[zx]:"fire-analytics-compat",[Wx]:"fire-app-check",[Hx]:"fire-app-check-compat",[qx]:"fire-auth",[Kx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Xx]:"fire-data-connect",[Jx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Zx]:"fire-fn-compat",[ek]:"fire-iid",[tk]:"fire-iid-compat",[nk]:"fire-fcm",[rk]:"fire-fcm-compat",[ik]:"fire-perf",[sk]:"fire-perf-compat",[ok]:"fire-rc",[ak]:"fire-rc-compat",[lk]:"fire-gcs",[uk]:"fire-gcs-compat",[ck]:"fire-fst",[dk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,gk=new Map,Ap=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(Ap.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,t);for(const n of Mc.values())y_(n,t);for(const n of gk.values())y_(n,t);return!0}function eg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new cl("app","Firebase",vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=pk;function cP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=oP()),!n)throw Lr.create("no-options");const s=Mc.get(i);if(s){if(Dc(n,s.options)&&Dc(r,s.config))return s;throw Lr.create("duplicate-app",{appName:i})}const o=new Sx(i);for(const u of Ap.values())o.addComponent(u);const l=new yk(n,r,o);return Mc.set(i,l),l}function hP(t=Ip){const e=Mc.get(t);if(!e&&t===Ip&&oP())return cP();if(!e)throw Lr.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=mk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(l.join(" "));return}Ws(new ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="firebase-heartbeat-database",Ek=1,Xa="firebase-heartbeat-store";let Fd=null;function dP(){return Fd||(Fd=Vx(_k,Ek,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Fd}async function Tk(t){try{const n=(await dP()).transaction(Xa),r=await n.objectStore(Xa).get(fP(t));return await n.done,r}catch(e){if(e instanceof er)Jn.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jn.warn(n.message)}}}async function __(t,e){try{const r=(await dP()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,fP(t)),await r.done}catch(n){if(n instanceof er)Jn.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jn.warn(r.message)}}}function fP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1024,Pk=30*24*60*60*1e3;class Sk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ak(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Pk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E_(),{heartbeatsToSend:r,unsentEntries:i}=Ik(this._heartbeatsCache.heartbeats),s=bc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jn.warn(n),""}}}function E_(){return new Date().toISOString().substring(0,10)}function Ik(t,e=wk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),T_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),T_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dx()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T_(t){return bc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){Ws(new ki("platform-logger",e=>new jx(e),"PRIVATE")),Ws(new ki("heartbeat",e=>new Sk(e),"PRIVATE")),Vr(Sp,v_,t),Vr(Sp,v_,"esm2017"),Vr("fire-js","")}Ck("");var Rk="firebase",xk="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(Rk,xk,"app");function tg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kk=pP,mP=new cl("auth","Firebase",pP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Ym("@firebase/auth");function Ok(t,...e){Lc.logLevel<=ee.WARN&&Lc.warn(`Auth (${oo}): ${t}`,...e)}function Ju(t,...e){Lc.logLevel<=ee.ERROR&&Lc.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,...e){throw rg(t,...e)}function ln(t,...e){return rg(t,...e)}function ng(t,e,n){const r=Object.assign(Object.assign({},kk()),{[e]:n});return new cl("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return ng(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nk(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Wt(t,"argument-error"),ng(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mP.create(t,...e)}function K(t,e,...n){if(!t)throw rg(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function Yn(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bk(){return w_()==="http:"||w_()==="https:"}function w_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bk()||lx()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yn(n>e,"Short delay should be less than long delay!"),this.isMobile=sx()||ux()}get(){return Dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){Yn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new dl(3e4,6e4);function Wr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tr(t,e,n,r,i={}){return vP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=hl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return ax()||(c.referrerPolicy="no-referrer"),gP.fetch()(yP(t,t.config.apiHost,n,l),c)})}async function vP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lk),e);try{const i=new Uk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw iu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw iu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ng(t,d,c);Wt(t,d)}}catch(i){if(i instanceof er)throw i;Wt(t,"network-request-failed",{message:String(i)})}}async function fl(t,e,n,r,i={}){const s=await tr(t,e,n,r,i);return"mfaPendingCredential"in s&&Wt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ig(t.config,i):`${t.config.apiScheme}://${i}`}function Fk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ln(this.auth,"network-request-failed")),Vk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ln(t,e,r);return i.customData._tokenResponse=n,i}function P_(t){return t!==void 0&&t.enterprise!==void 0}class jk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $k(t,e){return tr(t,"GET","/v2/recaptchaConfig",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(t,e){return tr(t,"POST","/v1/accounts:delete",e)}async function _P(t,e){return tr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zk(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=sg(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wa(Ud(i.auth_time)),issuedAtTime:wa(Ud(i.iat)),expirationTime:wa(Ud(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ud(t){return Number(t)*1e3}function sg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const i=iP(n);return i?JSON.parse(i):(Ju("Failed to decode base64 JWT payload"),null)}catch(i){return Ju("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=sg(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&Gk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Gk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qs(t,_P(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EP(s.providerUserInfo):[],l=qk(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Rp(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Wk(t){const e=Lt(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qk(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EP(t){return t.map(e=>{var{providerId:n}=e,r=tg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){const n=await vP(t,{},async()=>{const r=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yP(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gP.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qk(t,e){return tr(t,"POST","/v2/accounts:revokeToken",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Kk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ds;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Rp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qs(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zk(this,e)}reload(){return Wk(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Gn(this.auth));const e=await this.getIdToken();return await qs(this,Bk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,C=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(l=n.tenantId)!==null&&l!==void 0?l:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:M,isAnonymous:V,providerData:U,stsTokenManager:w}=n;K(_&&w,e,"internal-error");const v=Ds.fromJSON(this.name,w);K(typeof _=="string",e,"internal-error"),ar(p,e.name),ar(m,e.name),K(typeof M=="boolean",e,"internal-error"),K(typeof V=="boolean",e,"internal-error"),ar(C,e.name),ar(I,e.name),ar(k,e.name),ar(O,e.name),ar(E,e.name),ar(y,e.name);const P=new jn({uid:_,auth:e,email:m,emailVerified:M,displayName:p,isAnonymous:V,photoURL:I,phoneNumber:C,tenantId:k,stsTokenManager:v,createdAt:E,lastLoginAt:y});return U&&Array.isArray(U)&&(P.providerData=U.map(S=>Object.assign({},S))),O&&(P._redirectEventId=O),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ds;i.updateFromServerResponse(n);const s=new jn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];K(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Ds;l.updateFromIdToken(r);const u=new jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Rp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function $n(t){Yn(t instanceof Function,"Expected a class definition");let e=I_.get(t);return e?(Yn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TP.type="NONE";const A_=TP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms($n(A_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||$n(A_);const o=Yu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const p=jn._fromJSON(e,d);c!==s&&(l=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ms(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ms(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(RP(e))return"Webos";if(PP(e))return"Safari";if((e.includes("chrome/")||SP(e))&&!e.includes("edge/"))return"Chrome";if(AP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wP(t=ft()){return/firefox\//i.test(t)}function PP(t=ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SP(t=ft()){return/crios\//i.test(t)}function IP(t=ft()){return/iemobile/i.test(t)}function AP(t=ft()){return/android/i.test(t)}function CP(t=ft()){return/blackberry/i.test(t)}function RP(t=ft()){return/webos/i.test(t)}function og(t=ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Xk(t=ft()){var e;return og(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Jk(){return cx()&&document.documentMode===10}function xP(t=ft()){return og(t)||AP(t)||RP(t)||CP(t)||/windows phone/i.test(t)||IP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e=[]){let n;switch(t){case"Browser":n=C_(ft());break;case"Worker":n=`${C_(ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e={}){return tr(t,"GET","/v2/passwordPolicy",Wr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=6;class tO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new Yk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _P(this,{idToken:e}),r=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(rn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(Gn(this));const n=e?Lt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(Gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($n(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),n=new tO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$n(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ok(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qr(t){return Lt(t)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yx(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rO(t){Ah=t}function OP(t){return Ah.loadJS(t)}function iO(){return Ah.recaptchaEnterpriseScript}function sO(){return Ah.gapiScript}function oO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aO{constructor(){this.enterprise=new lO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uO="recaptcha-enterprise",NP="NO_RECAPTCHA";class cO{constructor(e){this.type=uO,this.auth=qr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{$k(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new jk(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;P_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(NP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&P_(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=iO();u.length!==0&&(u+=l),OP(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function x_(t,e,n,r=!1,i=!1){const s=new cO(t);let o;if(i)o=NP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function xp(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await x_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await x_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){const n=eg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dc(s,e??{}))return i;Wt(i,"already-initialized")}return n.initialize({options:e})}function dO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($n);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fO(t,e,n){const r=qr(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=bP(e),{host:o,port:l}=pO(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),mO()}function bP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pO(t){const e=bP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:k_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:k_(o)}}}function k_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function gO(t,e){return tr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){return fl(t,"POST","/v1/accounts:signInWithPassword",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}async function _O(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends ag{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ja(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ja(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,n,"signInWithPassword",vO);case"emailLink":return yO(e,{email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,r,"signUpPassword",gO);case"emailLink":return _O(e,{idToken:n,email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return fl(t,"POST","/v1/accounts:signInWithIdp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class Oi extends ag{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Oi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(t){const e=ua(ca(t)).link,n=e?ua(ca(e)).deep_link_id:null,r=ua(ca(t)).deep_link_id;return(r?ua(ca(r)).link:null)||r||n||e||t}class lg{constructor(e){var n,r,i,s,o,l;const u=ua(ca(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=TO((i=u.mode)!==null&&i!==void 0?i:null);K(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=wO(e);try{return new lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lg.parseLink(n);return K(r,"argument-error"),Ja._fromEmailAndCode(e,r.code,r.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends pl{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pn.credential(e.oauthAccessToken)}catch{return null}}}Pn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sn.credentialFromTaggedObject(e)}static credentialFromError(e){return Sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sn.credential(n,r)}catch{return null}}}Sn.GOOGLE_SIGN_IN_METHOD="google.com";Sn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends pl{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends pl{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e){return fl(t,"POST","/v1/accounts:signUp",Wr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await jn._fromIdTokenResponse(e,r,i),o=O_(r);return new Ni({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O_(r);return new Ni({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fc(e,n,r,i)}}function DP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(t,s,e,r):s})}async function SO(t,e,n=!1){const r=await qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e,n=!1){const{auth:r}=t;if(rn(r.app))return Promise.reject(Gn(r));const i="reauthenticate";try{const s=await qs(t,DP(r,i,e,t),n);K(s.idToken,r,"internal-error");const o=sg(s.idToken);K(o,r,"internal-error");const{sub:l}=o;return K(t.uid===l,r,"user-mismatch"),Ni._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Wt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e,n=!1){if(rn(t.app))return Promise.reject(Gn(t));const r="signIn",i=await DP(t,r,e),s=await Ni._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function AO(t,e){return MP(qr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t){const e=qr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CO(t,e,n){if(rn(t.app))return Promise.reject(Gn(t));const r=qr(t),o=await xp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LP(t),u}),l=await Ni._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function RO(t,e,n){return rn(t.app)?Promise.reject(Gn(t)):AO(Lt(t),ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){return tr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Lt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await qs(r,xO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function OO(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function NO(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function bO(t){return Lt(t).signOut()}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,MO=10;class FP extends VP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Jk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FP.type="LOCAL";const LO=FP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends VP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UP.type="SESSION";const jP=UP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await VO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=cg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function UO(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function jO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $O(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BO(){return $P()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="firebaseLocalStorageDb",zO=1,jc="firebaseLocalStorage",zP="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(t,e){return t.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function GO(){const t=indexedDB.deleteDatabase(BP);return new ml(t).toPromise()}function kp(){const t=indexedDB.open(BP,zO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jc,{keyPath:zP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jc)?e(r):(r.close(),await GO(),e(await kp()))})})}async function N_(t,e,n){const r=Rh(t,!0).put({[zP]:e,value:n});return new ml(r).toPromise()}async function HO(t,e){const n=Rh(t,!1).get(e),r=await new ml(n).toPromise();return r===void 0?null:r.value}function b_(t,e){const n=Rh(t,!0).delete(e);return new ml(n).toPromise()}const WO=800,qO=3;class GP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $P()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(BO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$O()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kp();return await N_(e,Uc,"1"),await b_(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rh(i,!1).getAll();return new ml(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GP.type="LOCAL";const KO=GP;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e){return e?$n(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends ag{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QO(t){return MP(t.auth,new hg(t),t.bypassAuthState)}function XO(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),IO(n,new hg(t),t.bypassAuthState)}async function JO(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),SO(n,new hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QO;case"linkViaPopup":case"linkViaRedirect":return JO;case"reauthViaPopup":case"reauthViaRedirect":return XO;default:Wt(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new dl(2e3,1e4);async function ZO(t,e,n){if(rn(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const r=qr(t);Nk(t,e,ug);const i=HP(r,n);return new gi(r,"signInViaPopup",e,i).executeNotNull()}class gi extends WP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gi.currentPopupAction&&gi.currentPopupAction.cancel(),gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="pendingRedirect",Zu=new Map;class tN extends WP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(t,e){const n=sN(e),r=iN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rN(t,e){Zu.set(t._key(),e)}function iN(t){return $n(t._redirectPersistence)}function sN(t){return Yu(eN,t.config.apiKey,t.name)}async function oN(t,e,n=!1){if(rn(t.app))return Promise.reject(Gn(t));const r=qr(t),i=HP(r,e),o=await new tN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(t,e={}){return tr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dN=/^https?/;async function fN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cN(t);for(const n of e)try{if(pN(n))return}catch{}Wt(t,"unauthorized-domain")}function pN(t){const e=Cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dN.test(n))return!1;if(hN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new dl(3e4,6e4);function M_(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gN(t){return new Promise((e,n)=>{var r,i,s;function o(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(ln(t,"network-request-failed"))},timeout:mN.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rn().gapi)===null||s===void 0)&&s.load)o();else{const l=oO("iframefcb");return Rn()[l]=()=>{gapi.load?o():n(ln(t,"network-request-failed"))},OP(`${sO()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ec=null,e})}let ec=null;function vN(t){return ec=ec||gN(t),ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new dl(5e3,15e3),_N="__/auth/iframe",EN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ig(e,EN):`https://${t.config.authDomain}/${_N}`,r={apiKey:e.apiKey,appName:t.name,v:oo},i=wN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hl(r).slice(1)}`}async function SN(t){const e=await vN(t),n=Rn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:PN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ln(t,"network-request-failed"),l=Rn().setTimeout(()=>{s(o)},yN.get());function u(){Rn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AN=500,CN=600,RN="_blank",xN="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(t,e,n,r=AN,i=CN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},IN),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ft().toLowerCase();n&&(l=SP(c)?RN:n),wP(c)&&(e=e||xN,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[C,I])=>`${m}${C}=${I},`,"");if(Xk(c)&&l!=="_self")return ON(e||"",l),new L_(null);const p=window.open(e||"",l,d);K(p,t,"popup-blocked");try{p.focus()}catch{}return new L_(p)}function ON(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",bN="emulator/auth/handler",DN=encodeURIComponent("fac");async function V_(t,e,n,r,i,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oo,eventId:i};if(e instanceof ug){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof pl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${DN}=${encodeURIComponent(u)}`:"";return`${MN(t)}?${hl(l).slice(1)}${c}`}function MN({config:t}){return t.emulator?ig(t,bN):`https://${t.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jP,this._completeRedirectFn=oN,this._overrideRedirectResult=rN}async _openPopup(e,n,r,i){var s;Yn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await V_(e,n,r,Cp(),i);return kN(e,o,cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await V_(e,n,r,Cp(),i);return UO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SN(e),r=new lN(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[jd];o!==void 0&&n(!!o),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xP()||PP()||og()}}const VN=LN;var F_="@firebase/auth",U_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(t){Ws(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kP(t)},c=new nO(r,i,s,u);return dO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new ki("auth-internal",e=>{const n=qr(e.getProvider("auth").getImmediate());return(r=>new FN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(F_,U_,UN(t)),Vr(F_,U_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=5*60,BN=aP("authIdTokenMaxAge")||$N;let j_=null;const zN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BN)return;const i=n==null?void 0:n.token;j_!==i&&(j_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GN(t=hP()){const e=eg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hO(t,{popupRedirectResolver:VN,persistence:[KO,LO,jP]}),r=aP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zN(s.toString());NO(n,o,()=>o(n.currentUser)),OO(n,l=>o(l))}}const i=sP("auth");return i&&fO(n,`http://${i}`),n}function HN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ln("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function P(){}P.prototype=v.prototype,w.D=v.prototype,w.prototype=new P,w.prototype.constructor=w,w.C=function(S,x,N){for(var A=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)A[fe-2]=arguments[fe];return v.prototype[x].apply(S,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,P){P||(P=0);var S=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)S[x]=v.charCodeAt(P++)|v.charCodeAt(P++)<<8|v.charCodeAt(P++)<<16|v.charCodeAt(P++)<<24;else for(x=0;16>x;++x)S[x]=v[P++]|v[P++]<<8|v[P++]<<16|v[P++]<<24;v=w.g[0],P=w.g[1],x=w.g[2];var N=w.g[3],A=v+(N^P&(x^N))+S[0]+3614090360&4294967295;v=P+(A<<7&4294967295|A>>>25),A=N+(x^v&(P^x))+S[1]+3905402710&4294967295,N=v+(A<<12&4294967295|A>>>20),A=x+(P^N&(v^P))+S[2]+606105819&4294967295,x=N+(A<<17&4294967295|A>>>15),A=P+(v^x&(N^v))+S[3]+3250441966&4294967295,P=x+(A<<22&4294967295|A>>>10),A=v+(N^P&(x^N))+S[4]+4118548399&4294967295,v=P+(A<<7&4294967295|A>>>25),A=N+(x^v&(P^x))+S[5]+1200080426&4294967295,N=v+(A<<12&4294967295|A>>>20),A=x+(P^N&(v^P))+S[6]+2821735955&4294967295,x=N+(A<<17&4294967295|A>>>15),A=P+(v^x&(N^v))+S[7]+4249261313&4294967295,P=x+(A<<22&4294967295|A>>>10),A=v+(N^P&(x^N))+S[8]+1770035416&4294967295,v=P+(A<<7&4294967295|A>>>25),A=N+(x^v&(P^x))+S[9]+2336552879&4294967295,N=v+(A<<12&4294967295|A>>>20),A=x+(P^N&(v^P))+S[10]+4294925233&4294967295,x=N+(A<<17&4294967295|A>>>15),A=P+(v^x&(N^v))+S[11]+2304563134&4294967295,P=x+(A<<22&4294967295|A>>>10),A=v+(N^P&(x^N))+S[12]+1804603682&4294967295,v=P+(A<<7&4294967295|A>>>25),A=N+(x^v&(P^x))+S[13]+4254626195&4294967295,N=v+(A<<12&4294967295|A>>>20),A=x+(P^N&(v^P))+S[14]+2792965006&4294967295,x=N+(A<<17&4294967295|A>>>15),A=P+(v^x&(N^v))+S[15]+1236535329&4294967295,P=x+(A<<22&4294967295|A>>>10),A=v+(x^N&(P^x))+S[1]+4129170786&4294967295,v=P+(A<<5&4294967295|A>>>27),A=N+(P^x&(v^P))+S[6]+3225465664&4294967295,N=v+(A<<9&4294967295|A>>>23),A=x+(v^P&(N^v))+S[11]+643717713&4294967295,x=N+(A<<14&4294967295|A>>>18),A=P+(N^v&(x^N))+S[0]+3921069994&4294967295,P=x+(A<<20&4294967295|A>>>12),A=v+(x^N&(P^x))+S[5]+3593408605&4294967295,v=P+(A<<5&4294967295|A>>>27),A=N+(P^x&(v^P))+S[10]+38016083&4294967295,N=v+(A<<9&4294967295|A>>>23),A=x+(v^P&(N^v))+S[15]+3634488961&4294967295,x=N+(A<<14&4294967295|A>>>18),A=P+(N^v&(x^N))+S[4]+3889429448&4294967295,P=x+(A<<20&4294967295|A>>>12),A=v+(x^N&(P^x))+S[9]+568446438&4294967295,v=P+(A<<5&4294967295|A>>>27),A=N+(P^x&(v^P))+S[14]+3275163606&4294967295,N=v+(A<<9&4294967295|A>>>23),A=x+(v^P&(N^v))+S[3]+4107603335&4294967295,x=N+(A<<14&4294967295|A>>>18),A=P+(N^v&(x^N))+S[8]+1163531501&4294967295,P=x+(A<<20&4294967295|A>>>12),A=v+(x^N&(P^x))+S[13]+2850285829&4294967295,v=P+(A<<5&4294967295|A>>>27),A=N+(P^x&(v^P))+S[2]+4243563512&4294967295,N=v+(A<<9&4294967295|A>>>23),A=x+(v^P&(N^v))+S[7]+1735328473&4294967295,x=N+(A<<14&4294967295|A>>>18),A=P+(N^v&(x^N))+S[12]+2368359562&4294967295,P=x+(A<<20&4294967295|A>>>12),A=v+(P^x^N)+S[5]+4294588738&4294967295,v=P+(A<<4&4294967295|A>>>28),A=N+(v^P^x)+S[8]+2272392833&4294967295,N=v+(A<<11&4294967295|A>>>21),A=x+(N^v^P)+S[11]+1839030562&4294967295,x=N+(A<<16&4294967295|A>>>16),A=P+(x^N^v)+S[14]+4259657740&4294967295,P=x+(A<<23&4294967295|A>>>9),A=v+(P^x^N)+S[1]+2763975236&4294967295,v=P+(A<<4&4294967295|A>>>28),A=N+(v^P^x)+S[4]+1272893353&4294967295,N=v+(A<<11&4294967295|A>>>21),A=x+(N^v^P)+S[7]+4139469664&4294967295,x=N+(A<<16&4294967295|A>>>16),A=P+(x^N^v)+S[10]+3200236656&4294967295,P=x+(A<<23&4294967295|A>>>9),A=v+(P^x^N)+S[13]+681279174&4294967295,v=P+(A<<4&4294967295|A>>>28),A=N+(v^P^x)+S[0]+3936430074&4294967295,N=v+(A<<11&4294967295|A>>>21),A=x+(N^v^P)+S[3]+3572445317&4294967295,x=N+(A<<16&4294967295|A>>>16),A=P+(x^N^v)+S[6]+76029189&4294967295,P=x+(A<<23&4294967295|A>>>9),A=v+(P^x^N)+S[9]+3654602809&4294967295,v=P+(A<<4&4294967295|A>>>28),A=N+(v^P^x)+S[12]+3873151461&4294967295,N=v+(A<<11&4294967295|A>>>21),A=x+(N^v^P)+S[15]+530742520&4294967295,x=N+(A<<16&4294967295|A>>>16),A=P+(x^N^v)+S[2]+3299628645&4294967295,P=x+(A<<23&4294967295|A>>>9),A=v+(x^(P|~N))+S[0]+4096336452&4294967295,v=P+(A<<6&4294967295|A>>>26),A=N+(P^(v|~x))+S[7]+1126891415&4294967295,N=v+(A<<10&4294967295|A>>>22),A=x+(v^(N|~P))+S[14]+2878612391&4294967295,x=N+(A<<15&4294967295|A>>>17),A=P+(N^(x|~v))+S[5]+4237533241&4294967295,P=x+(A<<21&4294967295|A>>>11),A=v+(x^(P|~N))+S[12]+1700485571&4294967295,v=P+(A<<6&4294967295|A>>>26),A=N+(P^(v|~x))+S[3]+2399980690&4294967295,N=v+(A<<10&4294967295|A>>>22),A=x+(v^(N|~P))+S[10]+4293915773&4294967295,x=N+(A<<15&4294967295|A>>>17),A=P+(N^(x|~v))+S[1]+2240044497&4294967295,P=x+(A<<21&4294967295|A>>>11),A=v+(x^(P|~N))+S[8]+1873313359&4294967295,v=P+(A<<6&4294967295|A>>>26),A=N+(P^(v|~x))+S[15]+4264355552&4294967295,N=v+(A<<10&4294967295|A>>>22),A=x+(v^(N|~P))+S[6]+2734768916&4294967295,x=N+(A<<15&4294967295|A>>>17),A=P+(N^(x|~v))+S[13]+1309151649&4294967295,P=x+(A<<21&4294967295|A>>>11),A=v+(x^(P|~N))+S[4]+4149444226&4294967295,v=P+(A<<6&4294967295|A>>>26),A=N+(P^(v|~x))+S[11]+3174756917&4294967295,N=v+(A<<10&4294967295|A>>>22),A=x+(v^(N|~P))+S[2]+718787259&4294967295,x=N+(A<<15&4294967295|A>>>17),A=P+(N^(x|~v))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var P=v-this.blockSize,S=this.B,x=this.h,N=0;N<v;){if(x==0)for(;N<=P;)i(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<v;)if(S[x++]=w.charCodeAt(N++),x==this.blockSize){i(this,S),x=0;break}}else for(;N<v;)if(S[x++]=w[N++],x==this.blockSize){i(this,S),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var P=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=P&255,P/=256;for(this.u(w),w=Array(16),v=P=0;4>v;++v)for(var S=0;32>S;S+=8)w[P++]=this.g[v]>>>S&255;return w};function s(w,v){var P=l;return Object.prototype.hasOwnProperty.call(P,w)?P[w]:P[w]=v(w)}function o(w,v){this.h=v;for(var P=[],S=!0,x=w.length-1;0<=x;x--){var N=w[x]|0;S&&N==v||(P[x]=N,S=!1)}this.g=P}var l={};function u(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return O(c(-w));for(var v=[],P=1,S=0;w>=P;S++)v[S]=w/P|0,P*=4294967296;return new o(v,0)}function d(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return O(d(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(v,8)),S=p,x=0;x<w.length;x+=8){var N=Math.min(8,w.length-x),A=parseInt(w.substring(x,x+N),v);8>N?(N=c(Math.pow(v,N)),S=S.j(N).add(c(A))):(S=S.j(P),S=S.add(c(A)))}return S}var p=u(0),m=u(1),C=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-O(this).m();for(var w=0,v=1,P=0;P<this.g.length;P++){var S=this.i(P);w+=(0<=S?S:4294967296+S)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I(this))return"0";if(k(this))return"-"+O(this).toString(w);for(var v=c(Math.pow(w,6)),P=this,S="";;){var x=M(P,v).g;P=E(P,x.j(v));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(w);if(P=x,I(P))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function I(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=E(this,w),k(w)?-1:I(w)?0:1};function O(w){for(var v=w.g.length,P=[],S=0;S<v;S++)P[S]=~w.g[S];return new o(P,~w.h).add(m)}t.abs=function(){return k(this)?O(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),P=[],S=0,x=0;x<=v;x++){var N=S+(this.i(x)&65535)+(w.i(x)&65535),A=(N>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);S=A>>>16,N&=65535,A&=65535,P[x]=A<<16|N}return new o(P,P[P.length-1]&-2147483648?-1:0)};function E(w,v){return w.add(O(v))}t.j=function(w){if(I(this)||I(w))return p;if(k(this))return k(w)?O(this).j(O(w)):O(O(this).j(w));if(k(w))return O(this.j(O(w)));if(0>this.l(C)&&0>w.l(C))return c(this.m()*w.m());for(var v=this.g.length+w.g.length,P=[],S=0;S<2*v;S++)P[S]=0;for(S=0;S<this.g.length;S++)for(var x=0;x<w.g.length;x++){var N=this.i(S)>>>16,A=this.i(S)&65535,fe=w.i(x)>>>16,Oe=w.i(x)&65535;P[2*S+2*x]+=A*Oe,y(P,2*S+2*x),P[2*S+2*x+1]+=N*Oe,y(P,2*S+2*x+1),P[2*S+2*x+1]+=A*fe,y(P,2*S+2*x+1),P[2*S+2*x+2]+=N*fe,y(P,2*S+2*x+2)}for(S=0;S<v;S++)P[S]=P[2*S+1]<<16|P[2*S];for(S=v;S<2*v;S++)P[S]=0;return new o(P,0)};function y(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function _(w,v){this.g=w,this.h=v}function M(w,v){if(I(v))throw Error("division by zero");if(I(w))return new _(p,p);if(k(w))return v=M(O(w),v),new _(O(v.g),O(v.h));if(k(v))return v=M(w,O(v)),new _(O(v.g),v.h);if(30<w.g.length){if(k(w)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var P=m,S=v;0>=S.l(w);)P=V(P),S=V(S);var x=U(P,1),N=U(S,1);for(S=U(S,2),P=U(P,2);!I(S);){var A=N.add(S);0>=A.l(w)&&(x=x.add(P),N=A),S=U(S,1),P=U(P,1)}return v=E(w,x.j(v)),new _(x,v)}for(x=p;0<=w.l(v);){for(P=Math.max(1,Math.floor(w.m()/v.m())),S=Math.ceil(Math.log(P)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),N=c(P),A=N.j(v);k(A)||0<A.l(w);)P-=S,N=c(P),A=N.j(v);I(N)&&(N=m),x=x.add(N),w=E(w,A)}return new _(x,w)}t.A=function(w){return M(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),P=[],S=0;S<v;S++)P[S]=this.i(S)&w.i(S);return new o(P,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),P=[],S=0;S<v;S++)P[S]=this.i(S)|w.i(S);return new o(P,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),P=[],S=0;S<v;S++)P[S]=this.i(S)^w.i(S);return new o(P,this.h^w.h)};function V(w){for(var v=w.g.length+1,P=[],S=0;S<v;S++)P[S]=w.i(S)<<1|w.i(S-1)>>>31;return new o(P,w.h)}function U(w,v){var P=v>>5;v%=32;for(var S=w.g.length-P,x=[],N=0;N<S;N++)x[N]=0<v?w.i(N+P)>>>v|w.i(N+P+1)<<32-v:w.i(N+P);return new o(x,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,KP=o}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QP,ha,XP,tc,Op,JP,YP,ZP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in f))break e;f=f[D]}a=a[a.length-1],g=f[a],h=h(g),h!=g&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var f=0,g=!1,D={next:function(){if(!g&&f<a.length){var L=f++;return{value:h(L,a[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(h,D)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function C(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function I(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,D,L){for(var z=Array(arguments.length-2),de=2;de<arguments.length;de++)z[de-2]=arguments[de];return h.prototype[D].apply(g,z)}}function k(a){const h=a.length;if(0<h){const f=Array(h);for(let g=0;g<h;g++)f[g]=a[g];return f}return[]}function O(a,h){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const D=a.length||0,L=g.length||0;a.length=D+L;for(let z=0;z<L;z++)a[D+z]=g[z]}else a.push(g)}}class E{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function _(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function U(a,h,f){for(const g in a)h.call(f,a[g],g,a)}function w(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function v(a){const h={};for(const f in a)h[f]=a[f];return h}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,h){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)a[f]=g[f];for(let L=0;L<P.length;L++)f=P[L],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function x(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function A(){var a=W;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,f){const g=Oe.get();g.set(h,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Oe=new E(()=>new Ne,a=>a.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let be,$=!1,W=new fe,q=()=>{const a=l.Promise.resolve(void 0);be=()=>{a.then(ae)}};var ae=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(f){N(f)}var h=Oe;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function gt(a,h){if(se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(V){e:{try{M(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:kt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&gt.aa.h.call(this)}}I(gt,se);var kt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),mo=0;function Qr(a,h,f,g,D){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!g,this.ha=D,this.key=++mo,this.da=this.fa=!1}function qt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function On(a){this.src=a,this.g={},this.h=0}On.prototype.add=function(a,h,f,g,D){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var z=Nn(a,h,g,D);return-1<z?(h=a[z],f||(h.fa=!1)):(h=new Qr(h,this.src,L,!!g,D),h.fa=f,a.push(h)),h};function hn(a,h){var f=h.type;if(f in a.g){var g=a.g[f],D=Array.prototype.indexOf.call(g,h,void 0),L;(L=0<=D)&&Array.prototype.splice.call(g,D,1),L&&(qt(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Nn(a,h,f,g){for(var D=0;D<a.length;++D){var L=a[D];if(!L.da&&L.listener==h&&L.capture==!!f&&L.ha==g)return D}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),ce={};function Xr(a,h,f,g,D){if(Array.isArray(h)){for(var L=0;L<h.length;L++)Xr(a,h[L],f,g,D);return null}return f=Il(f),a&&a[wt]?a.K(h,f,c(g)?!!g.capture:!!g,D):Jr(a,h,f,!1,g,D)}function Jr(a,h,f,g,D,L){if(!h)throw Error("Invalid event type");var z=c(D)?!!D.capture:!!D,de=vo(a);if(de||(a[dn]=de=new On(a)),f=de.add(h,f,g,z,L),f.proxy)return f;if(g=Bh(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)ze||(D=z),D===void 0&&(D=!1),a.addEventListener(h.toString(),g,D);else if(a.attachEvent)a.attachEvent(Sl(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Bh(){function a(f){return h.call(a.src,a.listener,f)}const h=zh;return a}function Pl(a,h,f,g,D){if(Array.isArray(h))for(var L=0;L<h.length;L++)Pl(a,h[L],f,g,D);else g=c(g)?!!g.capture:!!g,f=Il(f),a&&a[wt]?(a=a.i,h=String(h).toString(),h in a.g&&(L=a.g[h],f=Nn(L,f,g,D),-1<f&&(qt(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete a.g[h],a.h--)))):a&&(a=vo(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Nn(h,f,g,D)),(f=-1<a?h[a]:null)&&go(f))}function go(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[wt])hn(h.i,a);else{var f=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(f,g,a.capture):h.detachEvent?h.detachEvent(Sl(f),g):h.addListener&&h.removeListener&&h.removeListener(g),(f=vo(h))?(hn(f,a),f.h==0&&(f.src=null,h[dn]=null)):qt(a)}}}function Sl(a){return a in ce?ce[a]:ce[a]="on"+a}function zh(a,h){if(a.da)a=!0;else{h=new gt(h,this);var f=a.listener,g=a.ha||a.src;a.fa&&go(a),a=f.call(g,h)}return a}function vo(a){return a=a[dn],a instanceof On?a:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Il(a){return typeof a=="function"?a:(a[Gi]||(a[Gi]=function(h){return a.handleEvent(h)}),a[Gi])}function Q(){ne.call(this),this.i=new On(this),this.M=this,this.F=null}I(Q,ne),Q.prototype[wt]=!0,Q.prototype.removeEventListener=function(a,h,f,g){Pl(this,a,h,f,g)};function Se(a,h){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new se(h,a);else if(h instanceof se)h.target=h.target||a;else{var D=h;h=new se(g,a),S(h,D)}if(D=!0,f)for(var L=f.length-1;0<=L;L--){var z=h.g=f[L];D=Yr(z,g,!0,h)&&D}if(z=h.g=a,D=Yr(z,g,!0,h)&&D,D=Yr(z,g,!1,h)&&D,f)for(L=0;L<f.length;L++)z=h.g=f[L],D=Yr(z,g,!1,h)&&D}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],g=0;g<f.length;g++)qt(f[g]);delete a.g[h],a.h--}}this.F=null},Q.prototype.K=function(a,h,f,g){return this.i.add(String(a),h,!1,f,g)},Q.prototype.L=function(a,h,f,g){return this.i.add(String(a),h,!0,f,g)};function Yr(a,h,f,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,L=0;L<h.length;++L){var z=h[L];if(z&&!z.da&&z.capture==f){var de=z.listener,Xe=z.ha||z.src;z.fa&&hn(a.i,z),D=de.call(Xe,g)!==!1&&D}}return D&&!g.defaultPrevented}function Zg(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function ev(a){a.g=Zg(()=>{a.g=null,a.i&&(a.i=!1,ev(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class WS extends ne{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ev(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(a){ne.call(this),this.h=a,this.g={}}I(yo,ne);var tv=[];function nv(a){U(a.g,function(h,f){this.g.hasOwnProperty(f)&&go(h)},a),a.g={}}yo.prototype.N=function(){yo.aa.N.call(this),nv(this)},yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gh=l.JSON.stringify,qS=l.JSON.parse,KS=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Hh(){}Hh.prototype.h=null;function rv(a){return a.h||(a.h=a.i())}function iv(){}var _o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wh(){se.call(this,"d")}I(Wh,se);function qh(){se.call(this,"c")}I(qh,se);var Zr={},sv=null;function Al(){return sv=sv||new Q}Zr.La="serverreachability";function ov(a){se.call(this,Zr.La,a)}I(ov,se);function Eo(a){const h=Al();Se(h,new ov(h))}Zr.STAT_EVENT="statevent";function av(a,h){se.call(this,Zr.STAT_EVENT,a),this.stat=h}I(av,se);function vt(a){const h=Al();Se(h,new av(h,a))}Zr.Ma="timingevent";function lv(a,h){se.call(this,Zr.Ma,a),this.size=h}I(lv,se);function To(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function QS(a,h,f,g,D,L){a.info(function(){if(a.g)if(L)for(var z="",de=L.split("&"),Xe=0;Xe<de.length;Xe++){var oe=de[Xe].split("=");if(1<oe.length){var it=oe[0];oe=oe[1];var st=it.split("_");z=2<=st.length&&st[1]=="type"?z+(it+"="+oe+"&"):z+(it+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+h+`
`+f+`
`+z})}function XS(a,h,f,g,D,L,z){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+h+`
`+f+`
`+L+" "+z})}function Hi(a,h,f,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+YS(a,f)+(g?" "+g:"")})}function JS(a,h){a.info(function(){return"TIMEOUT: "+h})}wo.prototype.info=function(){};function YS(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return Gh(f)}catch{return h}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kh;function Rl(){}I(Rl,Hh),Rl.prototype.g=function(){return new XMLHttpRequest},Rl.prototype.i=function(){return{}},Kh=new Rl;function rr(a,h,f,g){this.j=a,this.i=h,this.l=f,this.R=g||1,this.U=new yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cv}function cv(){this.i=null,this.g="",this.h=!1}var hv={},Qh={};function Xh(a,h,f){a.L=1,a.v=Nl(bn(h)),a.m=f,a.P=!0,dv(a,null)}function dv(a,h){a.F=Date.now(),xl(a),a.A=bn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Av(f.i,"t",g),a.C=0,f=a.j.J,a.h=new cv,a.g=Gv(a.j,f?h:null,!a.m),0<a.O&&(a.M=new WS(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(tv[0]=D.toString()),D=tv);for(var L=0;L<D.length;L++){var z=Xr(f,D[L],g||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Eo(),QS(a.i,a.u,a.A,a.l,a.R,a.m)}rr.prototype.ca=function(a){a=a.target;const h=this.M;h&&Dn(a)==3?h.j():this.Y(a)},rr.prototype.Y=function(a){try{if(a==this.g)e:{const st=Dn(this.g);var h=this.g.Ba();const Ki=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||bv(this.g)))){this.J||st!=4||h==7||(h==8||0>=Ki?Eo(3):Eo(2)),Jh(this);var f=this.g.Z();this.X=f;t:if(fv(this)){var g=bv(this.g);a="";var D=g.length,L=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),Po(this);var z="";break t}this.h.i=new l.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(L&&h==D-1)});g.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,XS(this.i,this.u,this.A,this.l,this.R,st,f),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Xe=this.g;if((de=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(de)){var oe=de;break t}}oe=null}if(f=oe)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yh(this,f);else{this.o=!1,this.s=3,vt(12),ei(this),Po(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<z.length;)if(Kt=ZS(this,z),Kt==Qh){st==4&&(this.s=4,vt(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==hv){this.s=4,vt(15),Hi(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,Kt,null),Yh(this,Kt);if(fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||z.length!=0||this.h.h||(this.s=1,vt(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,z,"[Invalid Chunked Response]"),ei(this),Po(this);else if(0<z.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),id(it),it.M=!0,vt(11))}}else Hi(this.i,this.l,z,null),Yh(this,z);st==4&&ei(this),this.o&&!this.J&&(st==4?jv(this.j,this):(this.o=!1,xl(this)))}else gI(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),ei(this),Po(this)}}}catch{}finally{}};function fv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function ZS(a,h){var f=a.C,g=h.indexOf(`
`,f);return g==-1?Qh:(f=Number(h.substring(f,g)),isNaN(f)?hv:(g+=1,g+f>h.length?Qh:(h=h.slice(g,g+f),a.C=g+f,h)))}rr.prototype.cancel=function(){this.J=!0,ei(this)};function xl(a){a.S=Date.now()+a.I,pv(a,a.I)}function pv(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=To(m(a.ba,a),h)}function Jh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}rr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(JS(this.i,this.A),this.L!=2&&(Eo(),vt(17)),ei(this),this.s=2,Po(this)):pv(this,this.S-a)};function Po(a){a.j.G==0||a.J||jv(a.j,a)}function ei(a){Jh(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,nv(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Yh(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||Zh(f.h,a))){if(!a.K&&Zh(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Fl(f),Ll(f);else break e;rd(f),vt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=To(m(f.Za,f),6e3));if(1>=vv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ni(f,11)}else if((a.K||f.g==a)&&Fl(f),!y(h))for(D=f.Da.g.parse(h),h=0;h<D.length;h++){let oe=D[h];if(f.T=oe[0],oe=oe[1],f.G==2)if(oe[0]=="c"){f.K=oe[1],f.ia=oe[2];const it=oe[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));const st=oe[4];st!=null&&(f.Aa=st,f.j.info("SVER="+f.Aa));const Ki=oe[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(g=1.5*Ki,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const Kt=a.g;if(Kt){const jl=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var L=g.h;L.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(ed(L,L.h),L.h=null))}if(g.D){const sd=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;sd&&(g.ya=sd,ge(g.I,g.D,sd))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var z=a;if(g.qa=zv(g,g.J?g.ia:null,g.W),z.K){yv(g.h,z);var de=z,Xe=g.L;Xe&&(de.I=Xe),de.B&&(Jh(de),xl(de)),g.g=z}else Fv(g);0<f.i.length&&Vl(f)}else oe[0]!="stop"&&oe[0]!="close"||ni(f,7);else f.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?ni(f,7):nd(f):oe[0]!="noop"&&f.l&&f.l.ta(oe),f.v=0)}}Eo(4)}catch{}}var eI=class{constructor(a,h){this.g=a,this.map=h}};function mv(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function vv(a){return a.h?1:a.g?a.g.size:0}function Zh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ed(a,h){a.g?a.g.add(h):a.h=h}function yv(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}mv.prototype.cancel=function(){if(this.i=_v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function _v(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return k(a.i)}function tI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,g=0;g<f;g++)h.push(a[g]);return h}h=[],f=0;for(g in a)h[f++]=a[g];return h}function nI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const g in a)h[f++]=g;return h}}}function Ev(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=nI(a),g=tI(a),D=g.length,L=0;L<D;L++)h.call(void 0,g[L],f&&f[L],a)}var Tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rI(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),D=null;if(0<=g){var L=a[f].substring(0,g);D=a[f].substring(g+1)}else L=a[f];h(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ti(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ti){this.h=a.h,kl(this,a.j),this.o=a.o,this.g=a.g,Ol(this,a.s),this.l=a.l;var h=a.i,f=new Ao;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),wv(this,f),this.m=a.m}else a&&(h=String(a).match(Tv))?(this.h=!1,kl(this,h[1]||"",!0),this.o=So(h[2]||""),this.g=So(h[3]||"",!0),Ol(this,h[4]),this.l=So(h[5]||"",!0),wv(this,h[6]||"",!0),this.m=So(h[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}ti.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Io(h,Pv,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Io(h,Pv,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Io(f,f.charAt(0)=="/"?oI:sI,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Io(f,lI)),a.join("")};function bn(a){return new ti(a)}function kl(a,h,f){a.j=f?So(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ol(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function wv(a,h,f){h instanceof Ao?(a.i=h,uI(a.i,a.h)):(f||(h=Io(h,aI)),a.i=new Ao(h,a.h))}function ge(a,h,f){a.i.set(h,f)}function Nl(a){return ge(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function So(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Io(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,iI),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function iI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Pv=/[#\/\?@]/g,sI=/[#\?:]/g,oI=/[#\?]/g,aI=/[#\?@]/g,lI=/#/g;function Ao(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function ir(a){a.g||(a.g=new Map,a.h=0,a.i&&rI(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Ao.prototype,t.add=function(a,h){ir(this),this.i=null,a=Wi(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Sv(a,h){ir(a),h=Wi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Iv(a,h){return ir(a),h=Wi(a,h),a.g.has(h)}t.forEach=function(a,h){ir(this),this.g.forEach(function(f,g){f.forEach(function(D){a.call(h,D,g,this)},this)},this)},t.na=function(){ir(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let g=0;g<h.length;g++){const D=a[g];for(let L=0;L<D.length;L++)f.push(h[g])}return f},t.V=function(a){ir(this);let h=[];if(typeof a=="string")Iv(this,a)&&(h=h.concat(this.g.get(Wi(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return ir(this),this.i=null,a=Wi(this,a),Iv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Av(a,h,f){Sv(a,h),0<f.length&&(a.i=null,a.g.set(Wi(a,h),k(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var g=h[f];const L=encodeURIComponent(String(g)),z=this.V(g);for(g=0;g<z.length;g++){var D=L;z[g]!==""&&(D+="="+encodeURIComponent(String(z[g]))),a.push(D)}}return this.i=a.join("&")};function Wi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function uI(a,h){h&&!a.j&&(ir(a),a.i=null,a.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(Sv(this,g),Av(this,D,f))},a)),a.j=h}function cI(a,h){const f=new wo;if(l.Image){const g=new Image;g.onload=C(sr,f,"TestLoadImage: loaded",!0,h,g),g.onerror=C(sr,f,"TestLoadImage: error",!1,h,g),g.onabort=C(sr,f,"TestLoadImage: abort",!1,h,g),g.ontimeout=C(sr,f,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function hI(a,h){const f=new wo,g=new AbortController,D=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(L=>{clearTimeout(D),L.ok?sr(f,"TestPingServer: ok",!0,h):sr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),sr(f,"TestPingServer: error",!1,h)})}function sr(a,h,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function dI(){this.g=new KS}function fI(a,h,f){const g=f||"";try{Ev(a,function(D,L){let z=D;c(D)&&(z=Gh(D)),h.push(g+L+"="+encodeURIComponent(z))})}catch(D){throw h.push(g+"type="+encodeURIComponent("_badmap")),D}}function bl(a){this.l=a.Ub||null,this.j=a.eb||!1}I(bl,Hh),bl.prototype.g=function(){return new Dl(this.l,this.j)},bl.prototype.i=function(a){return function(){return a}}({});function Dl(a,h){Q.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Dl,Q),t=Dl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ro(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Co(this):Ro(this),this.readyState==3&&Cv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Co(this))},t.Qa=function(a){this.g&&(this.response=a,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ro(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function Ro(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Rv(a){let h="";return U(a,function(f,g){h+=g,h+=":",h+=f,h+=`\r
`}),h}function td(a,h,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Rv(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):ge(a,h,f))}function Ie(a){Q.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ie,Q);var pI=/^https?$/i,mI=["POST","PUT"];t=Ie.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kh.g(),this.v=this.o?rv(this.o):rv(Kh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){xv(this,L);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())f.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),D=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(mI,h,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of f)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nv(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){xv(this,L)}};function xv(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,kv(a),Ml(a)}function kv(a){a.A||(a.A=!0,Se(a,"complete"),Se(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Se(this,"complete"),Se(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Ie.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ov(this):this.bb())},t.bb=function(){Ov(this)};function Ov(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Dn(a)!=4||a.Z()!=2)){if(a.u&&Dn(a)==4)Zg(a.Ea,0,a);else if(Se(a,"readystatechange"),Dn(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var g;if(g=z===0){var D=String(a.D).match(Tv)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),g=!pI.test(D?D.toLowerCase():"")}f=g}if(f)Se(a,"complete"),Se(a,"success");else{a.m=6;try{var L=2<Dn(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",kv(a)}}finally{Ml(a)}}}}function Ml(a,h){if(a.g){Nv(a);const f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Se(a,"ready");try{f.onreadystatechange=g}catch{}}}function Nv(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Dn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),qS(h)}};function bv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function gI(a){const h={};a=(a.g&&2<=Dn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(y(a[g]))continue;var f=x(a[g]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=h[D]||[];h[D]=L,L.push(f)}w(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xo(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function Dv(a){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xo("baseRetryDelayMs",5e3,a),this.cb=xo("retryDelaySeedMs",1e4,a),this.Wa=xo("forwardChannelMaxRetries",2,a),this.wa=xo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new mv(a&&a.concurrentRequestLimit),this.Da=new dI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dv.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,g){vt(0),this.W=a,this.H=h||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=zv(this,null,this.W),Vl(this)};function nd(a){if(Mv(a),a.G==3){var h=a.U++,f=bn(a.I);if(ge(f,"SID",a.K),ge(f,"RID",h),ge(f,"TYPE","terminate"),ko(a,f),h=new rr(a,a.j,h),h.L=2,h.v=Nl(bn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=Gv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),xl(h)}Bv(a)}function Ll(a){a.g&&(id(a),a.g.cancel(),a.g=null)}function Mv(a){Ll(a),a.u&&(l.clearTimeout(a.u),a.u=null),Fl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Vl(a){if(!gv(a.h)&&!a.s){a.s=!0;var h=a.Ga;be||q(),$||(be(),$=!0),W.add(h,a),a.B=0}}function vI(a,h){return vv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=To(m(a.Ga,a,h),$v(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const D=new rr(this,this.j,a);let L=this.o;if(this.S&&(L?(L=v(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Vv(this,D,h),f=bn(this.I),ge(f,"RID",a),ge(f,"CVER",22),this.D&&ge(f,"X-HTTP-Session-Id",this.D),ko(this,f),L&&(this.O?h="headers="+encodeURIComponent(String(Rv(L)))+"&"+h:this.m&&td(f,this.m,L)),ed(this.h,D),this.Ua&&ge(f,"TYPE","init"),this.P?(ge(f,"$req",h),ge(f,"SID","null"),D.T=!0,Xh(D,f,null)):Xh(D,f,h),this.G=2}}else this.G==3&&(a?Lv(this,a):this.i.length==0||gv(this.h)||Lv(this))};function Lv(a,h){var f;h?f=h.l:f=a.U++;const g=bn(a.I);ge(g,"SID",a.K),ge(g,"RID",f),ge(g,"AID",a.T),ko(a,g),a.m&&a.o&&td(g,a.m,a.o),f=new rr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Vv(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ed(a.h,f),Xh(f,g,h)}function ko(a,h){a.H&&U(a.H,function(f,g){ge(h,g,f)}),a.l&&Ev({},function(f,g){ge(h,g,f)})}function Vv(a,h,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let L=-1;for(;;){const z=["count="+f];L==-1?0<f?(L=D[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let de=!0;for(let Xe=0;Xe<f;Xe++){let oe=D[Xe].g;const it=D[Xe].map;if(oe-=L,0>oe)L=Math.max(0,D[Xe].g-100),de=!1;else try{fI(it,z,"req"+oe+"_")}catch{g&&g(it)}}if(de){g=z.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,g}function Fv(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;be||q(),$||(be(),$=!0),W.add(h,a),a.v=0}}function rd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=To(m(a.Fa,a),$v(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=To(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Ll(this),Uv(this))};function id(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Uv(a){a.g=new rr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=bn(a.qa);ge(h,"RID","rpc"),ge(h,"SID",a.K),ge(h,"AID",a.T),ge(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ge(h,"TO",a.ja),ge(h,"TYPE","xmlhttp"),ko(a,h),a.m&&a.o&&td(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Nl(bn(h)),f.m=null,f.P=!0,dv(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),rd(this),vt(19))};function Fl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function jv(a,h){var f=null;if(a.g==h){Fl(a),id(a),a.g=null;var g=2}else if(Zh(a.h,h))f=h.D,yv(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var D=a.B;g=Al(),Se(g,new lv(g,f)),Vl(a)}else Fv(a);else if(D=h.s,D==3||D==0&&0<h.X||!(g==1&&vI(a,h)||g==2&&rd(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),D){case 1:ni(a,5);break;case 4:ni(a,10);break;case 3:ni(a,6);break;default:ni(a,2)}}}function $v(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function ni(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),g=a.Xa;const D=!g;g=new ti(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||kl(g,"https"),Nl(g),D?cI(g.toString(),f):hI(g.toString(),f)}else vt(2);a.G=0,a.l&&a.l.sa(h),Bv(a),Mv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Bv(a){if(a.G=0,a.ka=[],a.l){const h=_v(a.h);(h.length!=0||a.i.length!=0)&&(O(a.ka,h),O(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function zv(a,h,f){var g=f instanceof ti?bn(f):new ti(f);if(g.g!="")h&&(g.g=h+"."+g.g),Ol(g,g.s);else{var D=l.location;g=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var L=new ti(null);g&&kl(L,g),h&&(L.g=h),D&&Ol(L,D),f&&(L.l=f),g=L}return f=a.D,h=a.ya,f&&h&&ge(g,f,h),ge(g,"VER",a.la),ko(a,g),g}function Gv(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ie(new bl({eb:f})):new Ie(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hv(){}t=Hv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ul(){}Ul.prototype.g=function(a,h){return new Ot(a,h)};function Ot(a,h){Q.call(this),this.g=new Dv(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new qi(this)}I(Ot,Q),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){nd(this.g)},Ot.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Gh(a),a=f);h.i.push(new eI(h.Ya++,a)),h.G==3&&Vl(h)},Ot.prototype.N=function(){this.g.l=null,delete this.j,nd(this.g),delete this.g,Ot.aa.N.call(this)};function Wv(a){Wh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}I(Wv,Wh);function qv(){qh.call(this),this.status=1}I(qv,qh);function qi(a){this.g=a}I(qi,Hv),qi.prototype.ua=function(){Se(this.g,"a")},qi.prototype.ta=function(a){Se(this.g,new Wv(a))},qi.prototype.sa=function(a){Se(this.g,new qv)},qi.prototype.ra=function(){Se(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,ZP=function(){return new Ul},YP=function(){return Al()},JP=Zr,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,tc=Cl,uv.COMPLETE="complete",XP=uv,iv.EventType=_o,_o.OPEN="a",_o.CLOSE="b",_o.ERROR="c",_o.MESSAGE="d",Q.prototype.listen=Q.prototype.K,ha=iv,Ie.prototype.listenOnce=Ie.prototype.L,Ie.prototype.getLastError=Ie.prototype.Ka,Ie.prototype.getLastErrorCode=Ie.prototype.Ba,Ie.prototype.getStatus=Ie.prototype.Z,Ie.prototype.getResponseJson=Ie.prototype.Oa,Ie.prototype.getResponseText=Ie.prototype.oa,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Ha,QP=Ie}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ym("@firebase/firestore");function ds(){return bi.logLevel}function H(t,...e){if(bi.logLevel<=ee.DEBUG){const n=e.map(dg);bi.debug(`Firestore (${lo}): ${t}`,...n)}}function Di(t,...e){if(bi.logLevel<=ee.ERROR){const n=e.map(dg);bi.error(`Firestore (${lo}): ${t}`,...n)}}function $c(t,...e){if(bi.logLevel<=ee.WARN){const n=e.map(dg);bi.warn(`Firestore (${lo}): ${t}`,...n)}}function dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function xe(t,e){t||te()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class qN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KN{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ei,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new e1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new ut(e)}}class QN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new JN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Qe(0,0))}static max(){return new _e(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Ya{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const eb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Ya{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return eb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Me.fromString(e))}static fromName(e){return new J(Me.fromString(e).popFirst(5))}static empty(){return new J(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Me(e.slice()))}}function tb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new jr(i,J.empty(),e)}function nb(t){return new jr(t.readTime,t.key,-1)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(_e.min(),J.empty(),-1)}static max(){return new jr(_e.max(),J.empty(),-1)}}function rb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==ib)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ob(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pg.oe=-1;function mg(t){return t==null}function Bc(t){return t===0&&1/t==-1/0}function ab(t){return typeof t=="number"&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=z_(e)),e=ub(t.get(n),e);return z_(e)}function ub(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function z_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ou(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ou(this.root,e,this.comparator,!1)}getReverseIterator(){return new ou(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ou(this.root,e,this.comparator,!0)}}class ou{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H_(this.data.getIterator())}getIteratorFrom(e){return new H_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class H_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new sn([])}unionWith(e){let n=new nt(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cb("Invalid base64 string: "+s):s}}(e);return new xn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(xe(!!t),typeof t=="string"){let e=0;const n=hb.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vg(t){const e=t.mapValue.fields.__previous_value__;return gg(e)?vg(e):e}function zc(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Gc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gg(t)?4:pb(t)?9007199254740991:fb(t)?10:11:te()}function kn(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mi(i.timestampValue),l=Mi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qs(i.bytesValue).isEqual(Qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),l=Ze(s.doubleValue);return o===l?Bc(o)===Bc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ks(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(G_(o)!==G_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!kn(o[u],l[u])))return!1;return!0}(t,e);default:return te()}}function Za(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function Xs(t,e){if(t===e)return 0;const n=Li(t),r=Li(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ze(s.integerValue||s.doubleValue),u=Ze(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return W_(t.timestampValue,e.timestampValue);case 4:return W_(zc(t),zc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Qs(s),u=Qs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=le(l[c],u[c]);if(d!==0)return d}return le(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=le(Ze(s.latitude),Ze(o.latitude));return l!==0?l:le(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,d;const p=s.fields||{},m=o.fields||{},C=(l=p.value)===null||l===void 0?void 0:l.arrayValue,I=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=le(((c=C==null?void 0:C.values)===null||c===void 0?void 0:c.length)||0,((d=I==null?void 0:I.values)===null||d===void 0?void 0:d.length)||0);return k!==0?k:q_(C,I)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===au.mapValue&&o===au.mapValue)return 0;if(s===au.mapValue)return 1;if(o===au.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=le(u[p],d[p]);if(m!==0)return m;const C=Xs(l[u[p]],c[d[p]]);if(C!==0)return C}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw te()}}function W_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Mi(t),r=Mi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function q_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xs(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function Js(t){return Np(t)}function Np(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Np(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Np(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function nc(t){switch(Li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vg(t);return e?16+nc(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+nc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return uo(r.fields,(s,o)=>{i+=s.length+nc(o)}),i}(t.mapValue);default:throw te()}}function bp(t){return!!t&&"integerValue"in t}function yg(t){return!!t&&"arrayValue"in t}function rc(t){return!!t&&"mapValue"in t}function fb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Pa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Pa(this.value))}}function r1(t){const e=[];return uo(t.fields,(n,r)=>{const i=new et([n]);if(rc(r)){const s=r1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new en(e,0,_e.min(),_e.min(),_e.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,_e.min(),_e.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,_e.min(),_e.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.position=e,this.inclusive=n}}function K_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Xs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class qe extends i1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vb(e,n,r):n==="array-contains"?new Eb(e,r):n==="in"?new Tb(e,r):n==="not-in"?new wb(e,r):n==="array-contains-any"?new Pb(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yb(e,r):new _b(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xs(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends i1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return s1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function s1(t){return t.op==="and"}function o1(t){return gb(t)&&s1(t)}function gb(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Dp(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(o1(t))return t.filters.map(e=>Dp(e)).join(",");{const e=t.filters.map(n=>Dp(n)).join(",");return`${t.op}(${e})`}}function a1(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(t,e):t instanceof $r?function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&a1(o,i.filters[l]),!0):!1}(t,e):void te()}function l1(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(l1).join(" ,")+"}"}(t):"Filter"}class vb extends qe{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class yb extends qe{constructor(e,n){super(e,"in",n),this.keys=u1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _b extends qe{constructor(e,n){super(e,"not-in",n),this.keys=u1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function u1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class Eb extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&Za(n.arrayValue,this.value)}}class Tb extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class wb extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}}class Pb extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function X_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Sb(t,e,n,r,i,s,o)}function _g(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.ue=n}return e.ue}function Eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q_(t.startAt,e.startAt)&&Q_(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ib(t,e,n,r,i,s,o,l){return new xh(t,e,n,r,i,s,o,l)}function Ab(t){return new xh(t)}function J_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Cb(t){return t.collectionGroup!==null}function Sa(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nt(et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wc(s,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new Wc(et.keyField(),r))}return e.ce}function Ti(t){const e=me(t);return e.le||(e.le=Rb(e,Sa(t))),e.le}function Rb(t,e){if(t.limitType==="F")return X_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wc(i.field,s)});const n=t.endAt?new Hc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hc(t.startAt.position,t.startAt.inclusive):null;return X_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mp(t,e,n){return new xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function c1(t,e){return Eg(Ti(t),Ti(e))&&t.limitType===e.limitType}function h1(t){return`${_g(Ti(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>l1(i)).join(", ")}]`),mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function Tg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Sa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=K_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Sa(r),i)||r.endAt&&!function(o,l,u){const c=K_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Sa(r),i))}(t,e)}function xb(t){return(e,n)=>{let r=!1;for(const i of Sa(t)){const s=kb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kb(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Xs(u,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new xt(J.comparator);function qc(){return Ob}const d1=new xt(J.comparator);function lu(...t){let e=d1;for(const n of t)e=e.insert(n.key,n);return e}function f1(t){let e=d1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Ia()}function p1(){return Ia()}function Ia(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Nb=new xt(J.comparator),bb=new nt(J.comparator);function ht(...t){let e=bb;for(const n of t)e=e.add(n);return e}const Db=new nt(le);function Mb(){return Db}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function m1(t){return{integerValue:""+t}}function Lb(t,e){return ab(e)?m1(e):wg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function Vb(t,e,n){return t instanceof Kc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&gg(s)&&(s=vg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof el?v1(t,e):t instanceof tl?y1(t,e):function(i,s){const o=g1(i,s),l=Y_(o)+Y_(i.Pe);return bp(o)&&bp(i.Pe)?m1(l):wg(i.serializer,l)}(t,e)}function Fb(t,e,n){return t instanceof el?v1(t,e):t instanceof tl?y1(t,e):n}function g1(t,e){return t instanceof Qc?function(r){return bp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kc extends kh{}class el extends kh{constructor(e){super(),this.elements=e}}function v1(t,e){const n=_1(e);for(const r of t.elements)n.some(i=>kn(i,r))||n.push(r);return{arrayValue:{values:n}}}class tl extends kh{constructor(e){super(),this.elements=e}}function y1(t,e){let n=_1(e);for(const r of t.elements)n=n.filter(i=>!kn(i,r));return{arrayValue:{values:n}}}class Qc extends kh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Y_(t){return Ze(t.integerValue||t.doubleValue)}function _1(t){return yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ub(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof el&&i instanceof el||r instanceof tl&&i instanceof tl?Ks(r.elements,i.elements,kn):r instanceof Qc&&i instanceof Qc?kn(r.Pe,i.Pe):r instanceof Kc&&i instanceof Kc}(t.transform,e.transform)}class jb{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oh{}function E1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w1(t.key,Hn.none()):new vl(t.key,t.data,Hn.none());{const n=t.data,r=tn.empty();let i=new nt(et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zi(t.key,r,new sn(i.toArray()),Hn.none())}}function $b(t,e,n){t instanceof vl?function(i,s,o){const l=i.value.clone(),u=eE(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,s,o){if(!ic(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=eE(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(T1(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Aa(t,e,n,r){return t instanceof vl?function(s,o,l,u){if(!ic(s.precondition,o))return l;const c=s.value.clone(),d=tE(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(s,o,l,u){if(!ic(s.precondition,o))return l;const c=tE(s.fieldTransforms,u,o),d=o.data;return d.setAll(T1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return ic(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Bb(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=g1(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function Z_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ks(r,i,(s,o)=>Ub(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vl extends Oh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends Oh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function T1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eE(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,Fb(o,l,n[i]))}return r}function tE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Vb(s,o,e))}return r}class w1 extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zb extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$b(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=E1(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,(n,r)=>Z_(n,r))&&Ks(this.baseMutations,e.baseMutations,(n,r)=>Z_(n,r))}}class Pg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return Nb}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Pg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,re;function Wb(t){switch(t){default:return te();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function qb(t){if(t===void 0)return Di("GRPC error has no .code"),B.UNKNOWN;switch(t){case De.OK:return B.OK;case De.CANCELLED:return B.CANCELLED;case De.UNKNOWN:return B.UNKNOWN;case De.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case De.INTERNAL:return B.INTERNAL;case De.UNAVAILABLE:return B.UNAVAILABLE;case De.UNAUTHENTICATED:return B.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case De.NOT_FOUND:return B.NOT_FOUND;case De.ALREADY_EXISTS:return B.ALREADY_EXISTS;case De.PERMISSION_DENIED:return B.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case De.ABORTED:return B.ABORTED;case De.OUT_OF_RANGE:return B.OUT_OF_RANGE;case De.UNIMPLEMENTED:return B.UNIMPLEMENTED;case De.DATA_LOSS:return B.DATA_LOSS;default:return te()}}(re=De||(De={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new KP([4294967295,4294967295],0);class Kb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xb(t,e){return Lp(t,e.toTimestamp())}function Vs(t){return xe(!!t),_e.fromTimestamp(function(n){const r=Mi(n);return new Qe(r.seconds,r.nanos)}(t))}function P1(t,e){return Vp(t,e).canonicalString()}function Vp(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Jb(t){const e=Me.fromString(t);return xe(sD(e)),e}function Fp(t,e){return P1(t.databaseId,e.path)}function Yb(t){const e=Jb(t);return e.length===4?Me.emptyPath():eD(e)}function Zb(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eD(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nE(t,e,n){return{name:Fp(t,e),fields:n.value.mapValue.fields}}function tD(t,e){let n;if(e instanceof vl)n={update:nE(t,e.key,e.value)};else if(e instanceof w1)n={delete:Fp(t,e.key)};else if(e instanceof zi)n={update:nE(t,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof zb))return te();n={verify:Fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Kc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof el)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Xb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function nD(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Vs(i.updateTime):Vs(s);return o.isEqual(_e.min())&&(o=Vs(s)),new jb(o,i.transformResults||[])}(n,e))):[]}function rD(t){let e=Yb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const m=S1(p);return m instanceof $r&&o1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(I){return new Wc(fs(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,mg(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,C=p.values||[];return new Hc(C,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,C=p.values||[];return new Hc(C,m)}(n.endAt)),Ib(e,i,o,s,l,"F",u,c)}function S1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fs(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fs(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fs(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fs(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>S1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function fs(t){return et.fromServerFormat(t.fieldPath)}function iD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.ct=e}}function aD(t){const e=rD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.un=new uD}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(jr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class uD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(41943040,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ys(0)}static kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class cD{constructor(e){this.Un=e,this.buffer=new nt(iE),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fg(n)}await this.Hn(3e5)})}}class dD{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(pg.oe);const r=new cD(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(rE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),ds()<=ee.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function fD(t,e){return new dD(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Aa(r.mutation,i,sn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lu();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=qc();const o=Ia(),l=function(){return Ia()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof zi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Aa(d.mutation,c,d.mutation.getFieldMask(),Qe.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new mD(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ia();let i=new xt((o,l)=>o-l),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||sn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||ht()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=p1();d.forEach(m=>{if(!s.has(m)){const C=E1(n.get(m),r.get(m));C!==null&&p.set(m,C),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(vi());let l=-1,u=s;return o.next(c=>F.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ht())).next(d=>({batchId:l,changes:f1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=lu();return this.indexManager.getCollectionParents(e,s).next(l=>F.forEach(l,u=>{const c=function(p,m){return new xh(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,en.newInvalidDocument(d)))});let l=lu();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Aa(d.mutation,c,sn.empty(),Qe.now()),Tg(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vs(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:aD(i.bundledQuery),readTime:Vs(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.overlays=new xt(J.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=vi(),s=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=vi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=vi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return F.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hb(n,r));let s=this.Ir.get(n);s===void 0&&(s=ht(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this.Tr=new nt(He.Er),this.dr=new nt(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new Me([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Me([])),r=new He(n,e),i=new He(n,e+1);let s=ht();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nt(He.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Gb(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new He(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(le);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new He(new J(s),0);let l=new nt(le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),F.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new He(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Mr=e,this.docs=function(){return new xt(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=qc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qc();const o=n.path,l=new J(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rb(nb(d),r)<=0||(i.has(d.key)||Tg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wD(this)}getSize(e){return F.resolve(this.size)}}class wD extends pD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.persistence=e,this.Nr=new Bi(n=>_g(n),Eg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sg,this.targetCount=0,this.kr=Ys.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.qr={},this.overlays={},this.Qr=new pg(0),this.Kr=!1,this.Kr=!0,this.$r=new _D,this.referenceDelegate=e(this),this.Ur=new PD(this),this.indexManager=new lD,this.remoteDocumentCache=function(i){return new TD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new oD(n),this.Gr=new vD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ED(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new SD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class SD extends sb{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Jr=new Sg,this.Yr=null}static Zr(e){return new Ig(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=J.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Xc{constructor(e,n){this.persistence=e,this.ti=new Bi(r=>lb(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fD(this,n)}static Zr(e,n){return new Xc(e,n)}zr(){}jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return F.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,_e.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nc(e.data.value)),n}nr(e,n,r){return F.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ht(),i=ht();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hx()?8:ob(ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ID;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ds()<=ee.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(ds()<=ee.DEBUG&&H("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ds()<=ee.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):F.resolve())}Yi(e,n){if(J_(n))return F.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mp(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,Mp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return J_(n)||i.isEqual(_e.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(ds()<=ee.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.rs(e,o,n,tb(i,-1)).next(l=>l))})}ts(e,n){let r=new nt(xb(e));return n.forEach((i,s)=>{Tg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ds()<=ee.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Ji.getDocumentsMatchingQuery(e,n,jr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xt(le),this._s=new Bi(s=>_g(s),Eg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function RD(t,e,n,r){return new CD(t,e,n,r)}async function A1(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ht();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function xD(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let C=F.resolve();return m.forEach(I=>{C=C.next(()=>d.getEntry(u,I)).next(k=>{const O=c.docVersions.get(I);xe(O!==null),k.version.compareTo(O)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),d.addEntry(k)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ht();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kD(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function OD(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class sE{constructor(){this.activeTargetIds=Mb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ND{constructor(){this.so=new sE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=null;function $d(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class LD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=$d(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(H("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw $c("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=DD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=$d();return new Promise((o,l)=>{const u=new QP;u.setWithCredentials(!0),u.listenOnce(XP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tc.NO_ERROR:const d=u.getResponseJson();H(lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case tc.TIMEOUT:H(lt,`RPC '${e}' ${s} timed out`),l(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const p=u.getStatus();if(H(lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const C=m==null?void 0:m.error;if(C&&C.status&&C.message){const I=function(O){const E=O.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(C.status);l(new X(I,C.message))}else l(new X(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(B.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{H(lt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);H(lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=$d(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZP(),l=YP(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");H(lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let m=!1,C=!1;const I=new MD({Io:O=>{C?H(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(m||(H(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),H(lt,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},To:()=>p.close()}),k=(O,E,y)=>{O.listen(E,_=>{try{y(_)}catch(M){setTimeout(()=>{throw M},0)}})};return k(p,ha.EventType.OPEN,()=>{C||(H(lt,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),k(p,ha.EventType.CLOSE,()=>{C||(C=!0,H(lt,`RPC '${e}' stream ${i} transport closed`),I.So())}),k(p,ha.EventType.ERROR,O=>{C||(C=!0,$c(lt,`RPC '${e}' stream ${i} transport errored:`,O),I.So(new X(B.UNAVAILABLE,"The operation could not be completed")))}),k(p,ha.EventType.MESSAGE,O=>{var E;if(!C){const y=O.data[0];xe(!!y);const _=y,M=_.error||((E=_[0])===null||E===void 0?void 0:E.error);if(M){H(lt,`RPC '${e}' stream ${i} received error:`,M);const V=M.status;let U=function(P){const S=De[P];if(S!==void 0)return qb(S)}(V),w=M.message;U===void 0&&(U=B.INTERNAL,w="Unknown error status: "+V+" with message "+M.message),C=!0,I.So(new X(U,w)),p.close()}else H(lt,`RPC '${e}' stream ${i} received:`,y),I.bo(y)}}),k(l,JP.STAT_EVENT,O=>{O.stat===Op.PROXY?H(lt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Op.NOPROXY&&H(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function Bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new Kb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new C1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new X(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends VD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nD(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Zb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Vp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Vp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{_l(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=me(u);c.L_.add(4),await yl(c),c.q_.set("Unknown"),c.L_.delete(4),await bh(c)}(this))})}),this.q_=new jD(r,i)}}async function bh(t){if(_l(t))for(const e of t.B_)await e(!0)}async function yl(t){for(const e of t.B_)await e(!1)}function _l(t){return me(t).L_.size===0}async function R1(t,e,n){if(!gl(e))throw e;t.L_.add(1),await yl(t),t.q_.set("Offline"),n||(n=()=>kD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bh(t)})}function x1(t,e){return e().catch(n=>R1(t,n,e))}async function Dh(t){const e=me(t),n=Br(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;BD(e);)try{const i=await OD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zD(e,i)}catch(i){await R1(e,i)}k1(e)&&O1(e)}function BD(t){return _l(t)&&t.O_.length<10}function zD(t,e){t.O_.push(e);const n=Br(t);n.r_()&&n.V_&&n.m_(e.mutations)}function k1(t){return _l(t)&&!Br(t).n_()&&t.O_.length>0}function O1(t){Br(t).start()}async function GD(t){Br(t).p_()}async function HD(t){const e=Br(t);for(const n of t.O_)e.m_(n.mutations)}async function WD(t,e,n){const r=t.O_.shift(),i=Pg.from(r,e,n);await x1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dh(t)}async function qD(t,e){e&&Br(t).V_&&await async function(r,i){if(function(o){return Wb(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();Br(r).s_(),await x1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Dh(r)}}(t,e),k1(t)&&O1(t)}async function aE(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=_l(n);n.L_.add(3),await yl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bh(n)}async function KD(t,e){const n=me(t);e?(n.L_.delete(2),await bh(n)):e||(n.L_.add(2),await yl(n),n.q_.set("Unknown"))}function Br(t){return t.U_||(t.U_=function(n,r,i){const s=me(n);return s.w_(),new FD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:GD.bind(null,t),mo:qD.bind(null,t),f_:HD.bind(null,t),g_:WD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dh(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Cg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N1(t,e){if(Di("AsyncQueue",`${e}: ${t}`),gl(t))return new X(B.UNAVAILABLE,`${e}: ${t}`);throw t}class QD{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=me(n),s=i.queries;i.queries=lE(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new X(B.ABORTED,"Firestore shutting down"))}}function lE(){return new Bi(t=>h1(t),c1)}function XD(t){t.Y_.forEach(e=>{e.next()})}var uE,cE;(cE=uE||(uE={})).ea="default",cE.Cache="cache";class JD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Bi(l=>h1(l),c1),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(J.comparator),this.Na=new Map,this.La=new Sg,this.Ba={},this.ka=new Map,this.qa=Ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YD(t,e,n){const r=nM(t);try{const i=await function(o,l){const u=me(o),c=Qe.now(),d=l.reduce((C,I)=>C.add(I.key),ht());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=qc(),k=ht();return u.cs.getEntries(C,d).next(O=>{I=O,I.forEach((E,y)=>{y.isValidDocument()||(k=k.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,I)).next(O=>{p=O;const E=[];for(const y of l){const _=Bb(y,p.get(y.key).overlayedDocument);_!=null&&E.push(new zi(y.key,_,r1(_.value.mapValue),Hn.exists(!0)))}return u.mutationQueue.addMutationBatch(C,c,E,l)}).next(O=>{m=O;const E=O.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(C,O.batchId,E)})}).then(()=>({batchId:m.batchId,changes:f1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new xt(le)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Mh(r,i.changes),await Dh(r.remoteStore)}catch(i){const s=N1(i,"Failed to persist write");n.reject(s)}}function hE(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=me(o);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&XD(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZD(t,e){const n=me(t),r=e.batch.batchId;try{const i=await xD(n.localStore,e);D1(n,r,null),b1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mh(n,i)}catch(i){await fg(i)}}async function eM(t,e,n){const r=me(t);try{const i=await function(o,l){const u=me(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(xe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);D1(r,e,n),b1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mh(r,i)}catch(i){await fg(i)}}function b1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function D1(t,e,n){const r=me(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Mh(t,e,n){const r=me(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=void 0)===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Ag.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=me(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,m=>F.forEach(m.$i,C=>d.persistence.referenceDelegate.addReference(p,m.targetId,C)).next(()=>F.forEach(m.Ui,C=>d.persistence.referenceDelegate.removeReference(p,m.targetId,C)))))}catch(p){if(!gl(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const C=d.os.get(m),I=C.snapshotVersion,k=C.withLastLimboFreeSnapshotVersion(I);d.os=d.os.insert(m,k)}}}(r.localStore,s))}async function tM(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await A1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new X(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mh(n,r.hs)}}function nM(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return RD(this.persistence,new AD,e.initialUser,this.serializer)}Ga(e){return new I1(Ig.Zr,this.serializer)}Wa(e){return new ND}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class rM extends Jc{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){xe(this.persistence.referenceDelegate instanceof Xc);const r=this.persistence.referenceDelegate.garbageCollector;return new hD(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new I1(r=>Xc.Zr(r,n),this.serializer)}}class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tM.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QD}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),r=function(s){return new LD(s)}(e.databaseInfo);return function(s,o,l,u){return new UD(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new $D(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return oE.D()?new oE:new bD}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const p=new JD(i,s,o,l,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=me(i);H("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=t1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zd(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await A1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sM(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aE(e.remoteStore,i)),t._onlineComponents=e}async function sM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await zd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$c("Error using user provided cache. Falling back to memory cache: "+n),await zd(t,new Jc)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await zd(t,new rM(void 0));return t._offlineComponents}async function oM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await dE(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await dE(t,new Up))),t._onlineComponents}function aM(t){return oM(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e,n){if(!n)throw new X(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uM(t,e,n,r){if(e===!0&&r===!0)throw new X(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!J.isDocumentKey(t))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function jp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rg(t);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WN;switch(r.type){case"firstParty":return new XN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fE.get(n);r&&(H("ComponentProvider","Removing Datastore"),fE.delete(n),r.terminate())}(this),Promise.resolve()}}function cM(t,e,n,r={}){var i;const s=(t=jp(t,xg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=ix(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new qN(new e1(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kg(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class nl extends kg{constructor(e,n,r){super(e,n,Ab(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new J(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function hM(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=t1.newId()),lM("doc","path",e),t instanceof xg){const r=Me.fromString(e,...n);return pE(r),new Wn(t,null,new J(r))}{if(!(t instanceof Wn||t instanceof nl))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return pE(r),new Wn(t.firestore,t instanceof nl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new C1(this,"async_queue_retry"),this.Vu=()=>{const r=Bd();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Bd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ei;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gl(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Cg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class L1 extends xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function dM(t,e){const n=typeof t=="object"?t:hP(),r=typeof t=="string"?t:"(default)",i=eg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nx("firestore");s&&cM(i,...s)}return i}function fM(t){if(t._terminated)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pM(t),t._firestoreClient}function pM(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new db(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,M1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(xn.fromBase64String(e))}catch(n){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rl(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=/^__.*__$/;class gM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new vl(e,this.data,n,this.fieldTransforms)}}function $1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($1(this.Cu)&&mM.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(e)}Qu(e,n,r,i=!1){return new Og({Cu:e,methodName:n,qu:r,path:et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yM(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new vM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _M(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);H1("Data must be an object, but it was:",o,r);const l=z1(r,o);let u,c;if(s.merge)u=new sn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const m=EM(e,p,n);if(!o.contains(m))throw new X(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PM(d,m)||d.push(m)}u=new sn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new gM(new tn(l),u,c)}function B1(t,e){if(G1(t=Lt(t)))return H1("Unsupported field value:",e,t),z1(t,e);if(t instanceof F1)return function(r,i){if(!$1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=B1(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:Lp(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(i.serializer,s)}}if(r instanceof U1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rl)return{bytesValue:Qb(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:P1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof j1)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return wg(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Rg(r)}`)}(t,e)}function z1(t,e){const n={};return n1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{const s=B1(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function G1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof U1||t instanceof rl||t instanceof Wn||t instanceof F1||t instanceof j1)}function H1(t,e,n){if(!G1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function EM(t,e,n){if((e=Lt(e))instanceof V1)return e._internalPath;if(typeof e=="string")return wM(t,e);throw Yc("Field path arguments must be of type string or ",t,!1,void 0,n)}const TM=new RegExp("[~\\*/\\[\\]]");function wM(t,e,n){if(e.search(TM)>=0)throw Yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new V1(...e.split("."))._internalPath}catch{throw Yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X(B.INVALID_ARGUMENT,l+t+u)}function PM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function IM(t,e,n){t=jp(t,Wn);const r=jp(t.firestore,L1),i=SM(t.converter,e);return AM(r,[_M(yM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function AM(t,e){return function(r,i){const s=new Ei;return r.asyncQueue.enqueueAndForget(async()=>YD(await aM(r),i,s)),s.promise}(fM(t),e)}(function(e,n=!0){(function(i){lo=i})(oo),Ws(new ki("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new L1(new KN(r.getProvider("auth-internal")),new YN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Vr(B_,"4.7.4",e),Vr(B_,"4.7.4","esm2017")})();const CM={apiKey:"AIzaSyByZbc0HTZm1F1JHgpd-t4lckWS9O7p43s",authDomain:"mi-arbol-log.firebaseapp.com",projectId:"mi-arbol-log",storageBucket:"mi-arbol-log.appspot.com",messagingSenderId:"747305447877",appId:"1:747305447877:web:1f0df1829e7b47160c1bac"},W1=cP(CM),Lh=GN(W1),RM=dM(W1),xM=async(t,e)=>{try{console.log("INTENTO SETEAR DOC",e),await IM(hM(RM,HR,t),e),console.log("Perfil del usuario guardado correctamente.")}catch(n){console.error("Error al guardar perfil del usuario:",n)}},kM=async(t,e,n)=>{try{const{user:r}=await CO(Lh,t,e);return await kO(r,{displayName:n}),console.log("ESTE ES USER",r),await xM(r.uid,{name:n}),r}catch(r){throw console.error("Error al crear cuenta con email:",r),r}},Vh=async t=>{try{const{user:e}=await ZO(Lh,t);return e}catch(e){throw console.error("Error al iniciar sesión:",e),e}},OM=async()=>Vh(new Sn),NM=async()=>Vh(new Pn),bM=async(t,e)=>{try{const{user:n}=await RO(Lh,t,e);return n}catch(n){throw console.error("Error al iniciar sesión con email:",n),n}},DM=async()=>Vh(new Sn),MM=async()=>Vh(new Pn),LM=async()=>{try{await bO(Lh),localStorage.clear(),window.location.href="/"}catch(t){throw console.error("Error al cerrar sesión:",t),t}},VM=()=>{const[t,e]=b.useState({name:"",lastname:"",city:"",state:"",phone:"",email:"",password:"",repeatPassword:""}),[n,r]=b.useState(!0),i=(l,u)=>{e(u?{...t,[u.name]:u.value}:{...t,[l.target.name]:l.target.value})},s=async l=>{try{const{accessToken:u,displayName:c,email:d,uid:p}=await l(),m={accessToken:u,displayName:c,email:d,uid:p};localStorage.setItem(zn,JSON.stringify(m)),window.location.href="/home"}catch(u){console.error("Error registrando usuario:",u)}},o=async l=>{l.preventDefault();try{const{accessToken:u,displayName:c,email:d,uid:p}=await kM(t.email,t.password,`${t.name} ${t.lastname}`),m={accessToken:u,displayName:c,email:d,uid:p};localStorage.setItem(zn,JSON.stringify(m)),window.location.href="/home"}catch(u){console.error("Error registrando usuario:",u)}};return b.useEffect(()=>{JSON.parse(localStorage.getItem(zn))&&(window.location.href="/home"),setTimeout(()=>{r(!1)},1e3)},[]),R.jsx("div",{className:"container-register",children:n?R.jsx($i,{}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"title-register",children:[R.jsx(nn,{to:"/",children:R.jsx("p",{children:"Mi árbol"})}),R.jsxs("div",{className:"text-register",children:[R.jsx("p",{children:"Creemos tu perfil para comenzar a disminuir esa huella de carbono"}),R.jsx("p",{children:'"SEMBRAREMOS UN ÁRBOL HOY, PARA DAR SOBRA A LAS PERSONAS DEL MAÑANA."'})]})]}),R.jsxs("form",{className:"form-register",onSubmit:o,children:[R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"name",children:"Nombre(s):"}),R.jsx("input",{className:"input-form",type:"text",id:"name",name:"name",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"lastname",children:"Apellidos:"}),R.jsx("input",{className:"input-form",type:"text",id:"lastname",name:"lastname",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"city",children:"Ciudad:"}),R.jsx("input",{className:"input-form",type:"text",id:"city",name:"city",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"state",children:"Estado:"}),R.jsx("input",{className:"input-form",type:"text",id:"state",name:"state",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"phone",children:"Móvil:"}),R.jsx("input",{className:"input-form",type:"number",id:"phone",name:"phone",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"email",children:"Email:"}),R.jsx("input",{className:"input-form",type:"email",id:"email",name:"email",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"password",children:"Contraseña:"}),R.jsx("input",{className:"input-form",type:"password",id:"password",name:"password",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"repeatPassword",children:"Confirmar contraseña:"}),R.jsx("input",{className:"input-form",type:"password",id:"repeatPassword",name:"repeatPassword",onChange:i})]}),R.jsxs("div",{className:"container-social-media",children:[R.jsx("span",{children:"Registrarse con: "}),R.jsxs("div",{className:"container-btn-social-media",children:[R.jsx("button",{className:"btn-social-media",type:"button",onClick:()=>s(OM),children:"G"}),R.jsx("button",{className:"btn-social-media",type:"button",onClick:()=>s(NM),children:"F"})]})]}),R.jsx("div",{className:"link-container",children:R.jsx("input",{type:"submit",value:"Registrarse",className:"btn-green",disabled:t.name===""||t.lastname===""||t.city===""||t.state===""||t.phone===""||t.email===""||t.password===""||t.repeatPassword===""||t.password.length<7||t.password!==t.repeatPassword})})]})]})})},FM=()=>R.jsx("div",{className:"container-register-form",children:R.jsx(VM,{})}),UM=()=>{const[t,e]=b.useState({user:"",password:""}),[n,r]=b.useState(!0),i=(l,u)=>{e(u?{...t,[u.name]:u.value}:{...t,[l.target.name]:l.target.value})},s=async l=>{l.preventDefault();try{const u=await bM(t.user,t.password),{accessToken:c,displayName:d,email:p,uid:m}=u,C={accessToken:c,displayName:d,email:p,uid:m};localStorage.setItem(zn,JSON.stringify(C)),window.location.href="/home"}catch(u){console.error("Error registrando usuario:",u)}},o=async l=>{try{const{accessToken:u,displayName:c,email:d,uid:p}=await l(),m={accessToken:u,displayName:c,email:d,uid:p};localStorage.setItem(zn,JSON.stringify(m)),window.location.href="/home"}catch(u){console.error("Error registrando usuario:",u)}};return b.useEffect(()=>{JSON.parse(localStorage.getItem(zn))&&(window.location.href="/home"),setTimeout(()=>{r(!1)},1e3)},[]),R.jsx("div",{className:"container-login",children:n?R.jsx($i,{}):R.jsxs("form",{className:"form-login",onSubmit:s,children:[R.jsxs("div",{className:"title-login",children:[R.jsx(nn,{to:"/",children:R.jsx("p",{children:"Mi árbol"})}),R.jsxs("div",{className:"text-login-container",children:[R.jsx("p",{className:"text-welcome",children:"Bienvenido(a)"}),R.jsx("p",{className:"text-carbon",children:"Soy carbono neutro"})]})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"user",children:"Usuario:"}),R.jsx("input",{className:"input-form",type:"text",id:"user",name:"user",onChange:i})]}),R.jsxs("div",{className:"container-input-form",children:[R.jsx("label",{className:"input-title",htmlFor:"password",children:"Contraseña:"}),R.jsx("input",{className:"input-form",type:"password",id:"password",name:"password",onChange:i})]}),R.jsx("div",{className:"link-container",children:R.jsx("input",{type:"submit",value:"Iniciar sesión",className:"btn-green",disabled:t.user===""||t.password===""||t.password.length<7})}),R.jsxs("div",{className:"container-social-media",children:[R.jsx("span",{children:"Iniciar sesión con: "}),R.jsxs("div",{className:"container-btn-social-media",children:[R.jsx("button",{className:"btn-social-media",type:"button",onClick:()=>o(DM),children:"G"}),R.jsx("button",{className:"btn-social-media",type:"button",onClick:()=>o(MM),children:"F"})]})]}),R.jsx("div",{className:"container-social-media",children:R.jsx(nn,{to:"/registerForm",children:R.jsx("span",{style:{cursor:"pointer"},children:"Crear cuenta"})})})]})})},jM=()=>R.jsx("div",{className:"container-register-form",children:R.jsx(UM,{})}),Fh=()=>R.jsxs("nav",{className:"nav-container",children:[R.jsx("p",{children:"Mi árbol"}),R.jsxs("ul",{className:"item-list",children:[R.jsx(nn,{to:"/home",className:`navbar-container-btn ${window.location.pathname==="/home"?"active-btn":""}`,children:R.jsx("li",{className:"navbar-item",children:"Mi huella"})}),R.jsx(nn,{to:"/neutralCarbon",className:`navbar-container-btn ${window.location.pathname==="/neutralCarbon"?"active-btn":""}`,children:R.jsx("li",{className:"navbar-item",children:"Soy carbono neutro"})}),R.jsx(nn,{to:"/mySubscription",className:`navbar-container-btn ${window.location.pathname==="/mySubscription"?"active-btn":""}`,children:R.jsx("li",{className:"navbar-item",children:"Mi subscripción"})}),R.jsx(nn,{to:"/mySeeds",className:`navbar-container-btn ${window.location.pathname==="/mySeeds"?"active-btn":""}`,children:R.jsx("li",{className:"navbar-item",children:"Mis semillas"})})]}),R.jsx("p",{onClick:()=>LM(),children:"Imagen (logout)"})]}),$M=()=>{const[t,e]=b.useState(!0),n=JSON.parse(localStorage.getItem(zn)).displayName;return b.useEffect(()=>{setTimeout(()=>{e(!1)},1e3)},[]),R.jsxs("div",{className:"container-home",children:[R.jsx(Fh,{}),t?R.jsx($i,{}):R.jsxs("div",{children:["MyTrace ",n]})]})},BM=()=>{const[t,e]=b.useState(1),[n,r]=b.useState(!0);return b.useEffect(()=>{setTimeout(()=>{r(!1)},1e3)},[]),R.jsxs(R.Fragment,{children:[R.jsx(Fh,{}),R.jsx("div",{className:"container-neutral-carbon",children:n?R.jsx($i,{}):t===1?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"container-info-text",children:[R.jsx("p",{className:"text-you-know",children:"¿Sabías qué?"}),R.jsx("p",{className:"info-you-know",children:"Por menos de lo que te gastas en una pizza grande al mes, puedes neutralizar tu huella de carbono individual."}),R.jsx("button",{className:"btn-green",onClick:()=>e(2),children:"Saber más"})]}),R.jsxs("div",{className:"container-info-pizza",children:[R.jsx("p",{className:"pizza-img",children:"Foto de la pizza"}),R.jsx("p",{className:"pizza-price",children:"$189"})]}),R.jsxs("div",{className:"container-info-three",children:[R.jsx("p",{className:"three-img",children:"Foto de los árboles"}),R.jsx("p",{className:"three-price",children:"$149"})]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"container-info-text",children:[R.jsx("p",{className:"text-you-know",children:"¿Cómo impacta tu inversión?"}),R.jsx("p",{className:"info-you-know",children:"Inscrito podrás conocer la geolocalización de tus árboles y visitarlos siempre que gustes."}),R.jsx("p",{className:"info-you-know",children:"Tus árboles estarán etiquetados con tus datos y podrás formar parte de las reforestaciones que hagamos."}),R.jsx(nn,{to:"/mySubscription",children:R.jsx("button",{className:"btn-green",onClick:()=>e(2),children:"¡Vuélvete carbono neutro!"})})]}),R.jsxs("div",{className:"container-info-pizza",children:[R.jsx("p",{className:"pizza-price",children:"Foto de la pizza"}),R.jsx("p",{className:"pizza-img",children:"Toca la pizza para ver el impacto de tu inversión"})]})]})})]})},zM=[{id:1,name:"Plan Bonsai",img:"",price:"$149",duration:"por mes",color:"#34C759",includes:["Semilla para un árbol","Etiqueta en árbol","Geolocalización","Tips de cuidado"],link:"https://buy.stripe.com/test_cN20156ri9PAcj68ww"},{id:2,name:"Plan Olmo",img:"",price:"$415",duration:"por seis meses",color:"#007AFF",includes:["Semilla para un árbol","Etiqueta en árbol","Geolocalización","Tips de cuidado"],link:"https://buy.stripe.com/test_cN29BFbLCd1M3MA6op"},{id:3,name:"Plan Pinos",img:"",price:"$1500",duration:"por año",color:"#FF9500",includes:["Semilla para un árbol","Etiqueta en árbol","Geolocalización","Tips de cuidado"],link:"https://buy.stripe.com/test_6oE29d7vm4vg2Iw4gi"}],GM=({data:t,setModal:e,setLinkPayment:n})=>{const{name:r,img:i,price:s,duration:o,color:l,includes:u,link:c}=t,d=()=>{e(!0),console.log(c),n(c)};return R.jsxs("div",{className:"card-subscription",children:[R.jsx("div",{className:"card-title",style:{backgroundColor:l},children:R.jsx("p",{className:"title-text",children:r})}),R.jsx("div",{className:"card-img-three",children:R.jsxs("p",{children:["Imagen ",i]})}),R.jsxs("div",{className:"card-container-price",children:[R.jsx("p",{className:"card-price",style:{color:l},children:s}),R.jsx("p",{className:"card-duration",children:o})]}),R.jsx("div",{className:"card-includes",children:u.map((p,m)=>R.jsx("p",{className:"includes-items",children:p},m))}),R.jsx("button",{className:"btn-plan",style:{backgroundColor:l},onClick:()=>d(),children:"Contratar plan"})]})};var q1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(q1);var HM=q1.exports;const cn=oh(HM);function WM(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function $p(t,e){return $p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$p(t,e)}function qM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,$p(t,e)}const KM=["xxl","xl","lg","md","sm","xs"],QM="xs",K1=b.createContext({prefixes:{},breakpoints:KM,minBreakpoint:QM});function co(t,e){const{prefixes:n}=b.useContext(K1);return t||n[e]||e}function XM(){const{dir:t}=b.useContext(K1);return t==="rtl"}function Uh(t){return t&&t.ownerDocument||document}function JM(t){var e=Uh(t);return e&&e.defaultView||window}function YM(t,e){return JM(t).getComputedStyle(t,e)}var ZM=/([A-Z])/g;function eL(t){return t.replace(ZM,"-$1").toLowerCase()}var tL=/^ms-/;function cu(t){return eL(t).replace(tL,"-ms-")}var nL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function rL(t){return!!(t&&nL.test(t))}function wi(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(cu(e))||YM(t).getPropertyValue(cu(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(cu(i)):rL(i)?r+=i+"("+s+") ":n+=cu(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Q1={exports:{}},iL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sL=iL,oL=sL;function X1(){}function J1(){}J1.resetWarningCache=X1;var aL=function(){function t(r,i,s,o,l,u){if(u!==oL){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:J1,resetWarningCache:X1};return n.PropTypes=n,n};Q1.exports=aL();var lL=Q1.exports;const Gd=oh(lL),vE={disabled:!1},Y1=Tr.createContext(null);var uL=function(e){return e.scrollTop},da="unmounted",ci="exited",mr="entering",hi="entered",Bp="exiting",nr=function(t){qM(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=ci,s.appearStatus=mr):u=hi:r.unmountOnExit||r.mountOnEnter?u=da:u=ci,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===da?{status:ci}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==mr&&o!==hi&&(s=mr):(o===mr||o===hi)&&(s=Bp)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===mr){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Cs.findDOMNode(this);o&&uL(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ci&&this.setState({status:da})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Cs.findDOMNode(this),l],c=u[0],d=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||vE.disabled){this.safeSetState({status:hi},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:mr},function(){s.props.onEntering(c,d),s.onTransitionEnd(m,function(){s.safeSetState({status:hi},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:Cs.findDOMNode(this);if(!s||vE.disabled){this.safeSetState({status:ci},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Bp},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ci},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Cs.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===da)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=WM(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tr.createElement(Y1.Provider,{value:null},typeof o=="function"?o(i,l):Tr.cloneElement(Tr.Children.only(o),l))},e}(Tr.Component);nr.contextType=Y1;nr.propTypes={};function Xi(){}nr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xi,onEntering:Xi,onEntered:Xi,onExit:Xi,onExiting:Xi,onExited:Xi};nr.UNMOUNTED=da;nr.EXITED=ci;nr.ENTERING=mr;nr.ENTERED=hi;nr.EXITING=Bp;const ho=!!(typeof window<"u"&&window.document&&window.document.createElement);var zp=!1,Gp=!1;try{var Hd={get passive(){return zp=!0},get once(){return Gp=zp=!0}};ho&&(window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,!0))}catch{}function Z1(t,e,n,r){if(r&&typeof r!="boolean"&&!Gp){var i=r.once,s=r.capture,o=n;!Gp&&i&&(o=n.__once||function l(u){this.removeEventListener(e,l,s),n.call(this,u)},n.__once=o),t.addEventListener(e,o,zp?r:s)}t.addEventListener(e,n,r)}function Hp(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Zc(t,e,n,r){return Z1(t,e,n,r),function(){Hp(t,e,n,r)}}function cL(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function hL(t){var e=wi(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function dL(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||cL(t,"transitionend",!0)},e+n),s=Zc(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function eS(t,e,n,r){n==null&&(n=hL(t)||0);var i=dL(t,n,r),s=Zc(t,"transitionend",e);return function(){i(),s()}}function yE(t,e){const n=wi(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function fL(t,e){const n=yE(t,"transitionDuration"),r=yE(t,"transitionDelay"),i=eS(t,s=>{s.target===t&&(i(),e(s))},n+r)}function pL(t){t.offsetHeight}const _E=t=>!t||typeof t=="function"?t:e=>{t.current=e};function mL(t,e){const n=_E(t),r=_E(e);return i=>{n&&n(i),r&&r(i)}}function El(t,e){return b.useMemo(()=>mL(t,e),[t,e])}function gL(t){return t&&"setState"in t?Cs.findDOMNode(t):t??null}const vL=Tr.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:u,...c},d)=>{const p=b.useRef(null),m=El(p,u),C=U=>{m(gL(U))},I=U=>w=>{U&&p.current&&U(p.current,w)},k=b.useCallback(I(t),[t]),O=b.useCallback(I(e),[e]),E=b.useCallback(I(n),[n]),y=b.useCallback(I(r),[r]),_=b.useCallback(I(i),[i]),M=b.useCallback(I(s),[s]),V=b.useCallback(I(o),[o]);return R.jsx(nr,{ref:d,...c,onEnter:k,onEntered:E,onEntering:O,onExit:y,onExited:M,onExiting:_,addEndListener:V,nodeRef:p,children:typeof l=="function"?(U,w)=>l(U,{...w,ref:C}):Tr.cloneElement(l,{ref:C})})});function yL(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t},[t]),e}function In(t){const e=yL(t);return b.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const _L=t=>b.forwardRef((e,n)=>R.jsx("div",{...e,ref:n,className:cn(e.className,t)}));function EL(){return b.useState(null)}function TL(){const t=b.useRef(!0),e=b.useRef(()=>t.current);return b.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function wL(t){const e=b.useRef(null);return b.useEffect(()=>{e.current=t}),e.current}const PL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",SL=typeof document<"u",EE=SL||PL?b.useLayoutEffect:b.useEffect;function IL(t){return t.code==="Escape"||t.keyCode===27}function tS(){const t=b.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const AL={[mr]:"show",[hi]:"show"},Ng=b.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=b.useCallback((d,p)=>{pL(d),r==null||r(d,p)},[r]),{major:u}=tS(),c=u>=19?e.props.ref:e.ref;return R.jsx(vL,{ref:s,addEndListener:fL,...o,onEnter:l,childRef:c,children:(d,p)=>b.cloneElement(e,{...p,className:cn("fade",t,e.props.className,AL[d],n[d])})})});Ng.displayName="Fade";const CL={"aria-label":Gd.string,onClick:Gd.func,variant:Gd.oneOf(["white"])},bg=b.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>R.jsx("button",{ref:i,type:"button",className:cn("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));bg.displayName="CloseButton";bg.propTypes=CL;function RL(t){const e=b.useRef(t);return e.current=t,e}function nS(t){const e=RL(t);b.useEffect(()=>()=>e.current(),[])}var xL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ji(t,e){return xL(t.querySelectorAll(e))}function TE(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const kL="data-rr-ui-";function OL(t){return`${kL}${t}`}const rS=b.createContext(ho?window:void 0);rS.Provider;function Dg(){return b.useContext(rS)}var hu;function wE(t){if((!hu&&hu!==0||t)&&ho){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),hu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return hu}function Wd(t){t===void 0&&(t=Uh());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function NL(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const PE=OL("modal-open");class Mg{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return NL(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(wi(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(PE,""),wi(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(PE),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const qd=(t,e)=>ho?t==null?(e||Uh()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function bL(t,e){const n=Dg(),[r,i]=b.useState(()=>qd(t,n==null?void 0:n.document));if(!r){const s=qd(t);s&&i(s)}return b.useEffect(()=>{},[e,r]),b.useEffect(()=>{const s=qd(t);s!==r&&i(s)},[t,r]),r}function DL({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=b.useRef(null),o=b.useRef(e),l=In(n);b.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const u=El(s,t.ref),c=b.cloneElement(t,{ref:u});return e?c:i||!o.current&&r?null:c}const ML=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function LL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VL(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:l,children:u}=t,c=LL(t,ML);const{major:d}=tS(),p=d>=19?u.props.ref:u.ref,m=b.useRef(null),C=El(m,typeof u=="function"?null:p),I=U=>w=>{U&&m.current&&U(m.current,w)},k=b.useCallback(I(e),[e]),O=b.useCallback(I(n),[n]),E=b.useCallback(I(r),[r]),y=b.useCallback(I(i),[i]),_=b.useCallback(I(s),[s]),M=b.useCallback(I(o),[o]),V=b.useCallback(I(l),[l]);return Object.assign({},c,{nodeRef:m},e&&{onEnter:k},n&&{onEntering:O},r&&{onEntered:E},i&&{onExit:y},s&&{onExiting:_},o&&{onExited:M},l&&{addEndListener:V},{children:typeof u=="function"?(U,w)=>u(U,Object.assign({},w,{ref:C})):b.cloneElement(u,{ref:C})})}const FL=["component"];function UL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const jL=b.forwardRef((t,e)=>{let{component:n}=t,r=UL(t,FL);const i=VL(r);return R.jsx(n,Object.assign({ref:e},i))});function $L({in:t,onTransition:e}){const n=b.useRef(null),r=b.useRef(!0),i=In(e);return EE(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),EE(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function BL({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=b.useState(!e);e&&s&&o(!1);const l=$L({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,p=>{throw c.in||o(!0),p})}}),u=El(l,t.ref);return s&&!e?null:b.cloneElement(t,{ref:u})}function SE(t,e,n){return t?R.jsx(jL,Object.assign({},n,{component:t})):e?R.jsx(BL,Object.assign({},n,{transition:e})):R.jsx(DL,Object.assign({},n))}const zL=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function GL(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Kd;function HL(t){return Kd||(Kd=new Mg({ownerDocument:t==null?void 0:t.document})),Kd}function WL(t){const e=Dg(),n=t||HL(e),r=b.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:b.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:b.useCallback(i=>{r.current.backdrop=i},[])})}const iS=b.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:p,runTransition:m,backdropTransition:C,runBackdropTransition:I,autoFocus:k=!0,enforceFocus:O=!0,restoreFocus:E=!0,restoreFocusOptions:y,renderDialog:_,renderBackdrop:M=ce=>R.jsx("div",Object.assign({},ce)),manager:V,container:U,onShow:w,onHide:v=()=>{},onExit:P,onExited:S,onExiting:x,onEnter:N,onEntering:A,onEntered:fe}=t,Oe=GL(t,zL);const Ne=Dg(),be=bL(U),$=WL(V),W=TL(),q=wL(n),[ae,ne]=b.useState(!n),se=b.useRef(null);b.useImperativeHandle(e,()=>$,[$]),ho&&!q&&n&&(se.current=Wd(Ne==null?void 0:Ne.document)),n&&ae&&ne(!1);const ze=In(()=>{if($.add(),qt.current=Zc(document,"keydown",mo),Qr.current=Zc(document,"focus",()=>setTimeout(kt),!0),w&&w(),k){var ce,Xr;const Jr=Wd((ce=(Xr=$.dialog)==null?void 0:Xr.ownerDocument)!=null?ce:Ne==null?void 0:Ne.document);$.dialog&&Jr&&!TE($.dialog,Jr)&&(se.current=Jr,$.dialog.focus())}}),gt=In(()=>{if($.remove(),qt.current==null||qt.current(),Qr.current==null||Qr.current(),E){var ce;(ce=se.current)==null||ce.focus==null||ce.focus(y),se.current=null}});b.useEffect(()=>{!n||!be||ze()},[n,be,ze]),b.useEffect(()=>{ae&&gt()},[ae,gt]),nS(()=>{gt()});const kt=In(()=>{if(!O||!W()||!$.isTopModal())return;const ce=Wd(Ne==null?void 0:Ne.document);$.dialog&&ce&&!TE($.dialog,ce)&&$.dialog.focus()}),wt=In(ce=>{ce.target===ce.currentTarget&&(c==null||c(ce),l===!0&&v())}),mo=In(ce=>{u&&IL(ce)&&$.isTopModal()&&(d==null||d(ce),ce.defaultPrevented||v())}),Qr=b.useRef(),qt=b.useRef(),On=(...ce)=>{ne(!0),S==null||S(...ce)};if(!be)return null;const hn=Object.assign({role:r,ref:$.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Oe,{style:s,className:i,tabIndex:-1});let Nn=_?_(hn):R.jsx("div",Object.assign({},hn,{children:b.cloneElement(o,{role:"document"})}));Nn=SE(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:P,onExiting:x,onExited:On,onEnter:N,onEntering:A,onEntered:fe,children:Nn});let dn=null;return l&&(dn=M({ref:$.setBackdropRef,onClick:wt}),dn=SE(C,I,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:dn})),R.jsx(R.Fragment,{children:Cs.createPortal(R.jsxs(R.Fragment,{children:[dn,Nn]}),be)})});iS.displayName="Modal";const qL=Object.assign(iS,{Manager:Mg});function KL(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function QL(t,e){t.classList?t.classList.add(e):KL(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function IE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XL(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=IE(t.className,e):t.setAttribute("class",IE(t.className&&t.className.baseVal||"",e))}const Yi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class JL extends Mg{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,wi(n,{[e]:`${parseFloat(wi(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],wi(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(QL(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(n,Yi.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Ji(n,Yi.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Ji(n,Yi.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();XL(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ji(n,Yi.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Ji(n,Yi.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Ji(n,Yi.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Qd;function YL(t){return Qd||(Qd=new JL(t)),Qd}const sS=b.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=co(e,"modal-body"),R.jsx(n,{ref:i,className:cn(t,e),...r})));sS.displayName="ModalBody";const oS=b.createContext({onHide(){}}),Lg=b.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:l,...u},c)=>{t=co(t,"modal");const d=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return R.jsx("div",{...u,ref:c,className:cn(d,e,i&&`${t}-${i}`,r&&`${d}-centered`,l&&`${d}-scrollable`,s&&p),children:R.jsx("div",{className:cn(`${t}-content`,n),children:o})})});Lg.displayName="ModalDialog";const aS=b.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=co(e,"modal-footer"),R.jsx(n,{ref:i,className:cn(t,e),...r})));aS.displayName="ModalFooter";const ZL=b.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=b.useContext(oS),u=In(()=>{l==null||l.onHide(),r==null||r()});return R.jsxs("div",{ref:o,...s,children:[i,n&&R.jsx(bg,{"aria-label":t,variant:e,onClick:u})]})}),lS=b.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=co(t,"modal-header"),R.jsx(ZL,{ref:s,...i,className:cn(e,t),closeLabel:n,closeButton:r})));lS.displayName="ModalHeader";const e2=_L("h4"),uS=b.forwardRef(({className:t,bsPrefix:e,as:n=e2,...r},i)=>(e=co(e,"modal-title"),R.jsx(n,{ref:i,className:cn(t,e),...r})));uS.displayName="ModalTitle";function t2(t){return R.jsx(Ng,{...t,timeout:null})}function n2(t){return R.jsx(Ng,{...t,timeout:null})}const cS=b.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=Lg,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":c,"aria-label":d,show:p=!1,animation:m=!0,backdrop:C=!0,keyboard:I=!0,onEscapeKeyDown:k,onShow:O,onHide:E,container:y,autoFocus:_=!0,enforceFocus:M=!0,restoreFocus:V=!0,restoreFocusOptions:U,onEntered:w,onExit:v,onExiting:P,onEnter:S,onEntering:x,onExited:N,backdropClassName:A,manager:fe,...Oe},Ne)=>{const[be,$]=b.useState({}),[W,q]=b.useState(!1),ae=b.useRef(!1),ne=b.useRef(!1),se=b.useRef(null),[ze,gt]=EL(),kt=El(Ne,gt),wt=In(E),mo=XM();t=co(t,"modal");const Qr=b.useMemo(()=>({onHide:wt}),[wt]);function qt(){return fe||YL({isRTL:mo})}function On(Q){if(!ho)return;const Se=qt().getScrollbarWidth()>0,Yr=Q.scrollHeight>Uh(Q).documentElement.clientHeight;$({paddingRight:Se&&!Yr?wE():void 0,paddingLeft:!Se&&Yr?wE():void 0})}const hn=In(()=>{ze&&On(ze.dialog)});nS(()=>{Hp(window,"resize",hn),se.current==null||se.current()});const Nn=()=>{ae.current=!0},dn=Q=>{ae.current&&ze&&Q.target===ze.dialog&&(ne.current=!0),ae.current=!1},ce=()=>{q(!0),se.current=eS(ze.dialog,()=>{q(!1)})},Xr=Q=>{Q.target===Q.currentTarget&&ce()},Jr=Q=>{if(C==="static"){Xr(Q);return}if(ne.current||Q.target!==Q.currentTarget){ne.current=!1;return}E==null||E()},Bh=Q=>{I?k==null||k(Q):(Q.preventDefault(),C==="static"&&ce())},Pl=(Q,Se)=>{Q&&On(Q),S==null||S(Q,Se)},go=Q=>{se.current==null||se.current(),v==null||v(Q)},Sl=(Q,Se)=>{x==null||x(Q,Se),Z1(window,"resize",hn)},zh=Q=>{Q&&(Q.style.display=""),N==null||N(Q),Hp(window,"resize",hn)},vo=b.useCallback(Q=>R.jsx("div",{...Q,className:cn(`${t}-backdrop`,A,!m&&"show")}),[m,A,t]),Gi={...n,...be};Gi.display="block";const Il=Q=>R.jsx("div",{role:"dialog",...Q,style:Gi,className:cn(e,t,W&&`${t}-static`,!m&&"show"),onClick:C?Jr:void 0,onMouseUp:dn,"data-bs-theme":l,"aria-label":d,"aria-labelledby":u,"aria-describedby":c,children:R.jsx(o,{...Oe,onMouseDown:Nn,className:r,contentClassName:i,children:s})});return R.jsx(oS.Provider,{value:Qr,children:R.jsx(qL,{show:p,ref:kt,backdrop:C,container:y,keyboard:!0,autoFocus:_,enforceFocus:M,restoreFocus:V,restoreFocusOptions:U,onEscapeKeyDown:Bh,onShow:O,onHide:E,onEnter:Pl,onEntering:Sl,onEntered:w,onExit:go,onExiting:P,onExited:zh,manager:qt(),transition:m?t2:void 0,backdropTransition:m?n2:void 0,renderBackdrop:vo,renderDialog:Il})})});cS.displayName="Modal";const Xd=Object.assign(cS,{Body:sS,Header:lS,Title:uS,Footer:aS,Dialog:Lg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),r2=({showModal:t,hideModal:e,linkPayment:n})=>{const[r,i]=b.useState("");return b.useEffect(()=>{const o=JSON.parse(localStorage.getItem(zn)).email;i(o)},[]),R.jsxs(Xd,{size:"lg",backdrop:"static",show:t,onHide:e,children:[R.jsxs(Xd.Header,{children:[R.jsx("h3",{className:"modal-payment-title",children:"Contratar plan"}),R.jsx("button",{className:"btn-close-modal",onClick:()=>e(),children:"X"})]}),R.jsx(Xd.Body,{children:R.jsxs("div",{className:"container-payment-form",children:[R.jsx("div",{className:"container-pay-request",children:R.jsx("span",{children:"¿Estás seguro que deseas contratar este plan?"})}),R.jsxs("div",{className:"container-buttons-confirm",children:[R.jsx("button",{onClick:()=>window.location.href=`${n}?prefilled_email=${r}`,children:"Sí"}),R.jsx("button",{onClick:()=>e(),children:"No"})]})]})})]})},i2=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(""),[i,s]=b.useState(!0);return b.useEffect(()=>{setTimeout(()=>{s(!1)},1e3)},[]),R.jsxs(R.Fragment,{children:[R.jsx(Fh,{}),i?R.jsx($i,{}):R.jsxs("div",{className:"container-my-subscription",children:[R.jsx("div",{className:"my-subscription-title",children:R.jsx("p",{className:"text-title",children:"¡Somos la plataforma que más árboles sembrará por cada peso tuyo!"})}),R.jsx("div",{className:"container-all-subscriptions",children:zM.map((o,l)=>R.jsx(GM,{data:o,idx:l,setModal:e,setLinkPayment:r},l))})]}),t&&R.jsx(r2,{showModal:t,hideModal:()=>e(!1),linkPayment:n})]})},s2=()=>{const[t,e]=b.useState(!0);return b.useEffect(()=>{setTimeout(()=>{e(!1)},1e3)},[]),R.jsxs("div",{className:"container-my-seeds",children:[R.jsx(Fh,{}),t?R.jsx($i,{}):R.jsx("div",{children:"MySeeds"})]})};class Bt{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,n,r,i,s,o,l,u){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(Bt.TIMEOUT_ERROR_CODE);return e.code=Bt.TIMEOUT_ERROR_CODE,e}}Bt.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];Bt.TIMEOUT_ERROR_CODE="ETIMEDOUT";class hS{constructor(e,n){this._statusCode=e,this._headers=n}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class eh extends Bt{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=eh.makeFetchWithAbortTimeout(e):this._fetchFn=eh.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(n,r,i)=>{let s;const o=new Promise((u,c)=>{s=setTimeout(()=>{s=null,c(Bt.makeTimeoutError())},i)}),l=e(n,r);return Promise.race([l,o]).finally(()=>{s&&clearTimeout(s)})}}static makeFetchWithAbortTimeout(e){return async(n,r,i)=>{const s=new AbortController;let o=setTimeout(()=>{o=null,s.abort(Bt.makeTimeoutError())},i);try{return await e(n,Object.assign(Object.assign({},r),{signal:s.signal}))}catch(l){throw l.name==="AbortError"?Bt.makeTimeoutError():l}finally{o&&clearTimeout(o)}}}getClientName(){return"fetch"}async makeRequest(e,n,r,i,s,o,l,u){const c=l==="http",d=new URL(r,`${c?"http":"https"}://${e}`);d.port=n;const p=i=="POST"||i=="PUT"||i=="PATCH",m=o||(p?"":void 0),C=await this._fetchFn(d.toString(),{method:i,headers:s,body:m},u);return new Vg(C)}}class Vg extends hS{constructor(e){super(e.status,Vg._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const n={};for(const r of e){if(!Array.isArray(r)||r.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");n[r[0]]=r[1]}return n}}class dS{computeHMACSignature(e,n){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,n){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}}class fS extends Error{}class o2 extends dS{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,n){throw new fS("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,n){const r=new TextEncoder,i=await this.subtleCrypto.importKey("raw",r.encode(n),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=await this.subtleCrypto.sign("hmac",i,r.encode(e)),o=new Uint8Array(s),l=new Array(o.length);for(let u=0;u<o.length;u++)l[u]=Wp[o[u]];return l.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}const Wp=new Array(256);for(let t=0;t<Wp.length;t++)Wp[t]=t.toString(16).padStart(2,"0");class a2{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}secureCompare(e,n){if(e.length!==n.length)return!1;const r=e.length;let i=0;for(let s=0;s<r;++s)i|=e.charCodeAt(s)^n.charCodeAt(s);return i===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new eh(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new o2(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class l2 extends Event{constructor(e,n){super(e),this.data=n}}class u2{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,n){const r=i=>{n(i.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r)}removeListener(e,n){const r=this.listenerMapping.get(n);return this.listenerMapping.delete(n),this.eventTarget.removeEventListener(e,r)}once(e,n){const r=i=>{n(i.data)};return this.listenerMapping.set(n,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,n){return this.eventTarget.dispatchEvent(new l2(e,n))}}class c2 extends a2{getUname(){return Promise.resolve(null)}createEmitter(){return new u2}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const jh=t=>{switch(t.type){case"card_error":return new mS(t);case"invalid_request_error":return new Fg(t);case"api_error":return new Ug(t);case"authentication_error":return new jg(t);case"rate_limit_error":return new $g(t);case"idempotency_error":return new yS(t);case"invalid_grant":return new _S(t);default:return new ES(t)}},pS=t=>{switch(t.type){case"temporary_session_expired":return new TS(t)}switch(t.code){case"invalid_fields":return new Fg(t)}return jh(t)};class mt extends Error{constructor(e={},n=null){super(e.message),this.type=n||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}mt.generate=jh;class mS extends mt{constructor(e={}){super(e,"StripeCardError")}}class Fg extends mt{constructor(e={}){super(e,"StripeInvalidRequestError")}}class Ug extends mt{constructor(e={}){super(e,"StripeAPIError")}}class jg extends mt{constructor(e={}){super(e,"StripeAuthenticationError")}}class gS extends mt{constructor(e={}){super(e,"StripePermissionError")}}class $g extends mt{constructor(e={}){super(e,"StripeRateLimitError")}}class vS extends mt{constructor(e={}){super(e,"StripeConnectionError")}}class dr extends mt{constructor(e,n,r={}){super(r,"StripeSignatureVerificationError"),this.header=e,this.payload=n}}class yS extends mt{constructor(e={}){super(e,"StripeIdempotencyError")}}class _S extends mt{constructor(e={}){super(e,"StripeInvalidGrantError")}}class ES extends mt{constructor(e={}){super(e,"StripeUnknownError")}}class TS extends mt{constructor(e={}){super(e,"TemporarySessionExpiredError")}}const AE=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:Ug,StripeAuthenticationError:jg,StripeCardError:mS,StripeConnectionError:vS,StripeError:mt,StripeIdempotencyError:yS,StripeInvalidGrantError:_S,StripeInvalidRequestError:Fg,StripePermissionError:gS,StripeRateLimitError:$g,StripeSignatureVerificationError:dr,StripeUnknownError:ES,TemporarySessionExpiredError:TS,generateV1Error:jh,generateV2Error:pS},Symbol.toStringTag,{value:"Module"}));var h2=Error,d2=EvalError,f2=RangeError,p2=ReferenceError,wS=SyntaxError,Tl=TypeError,m2=URIError,g2=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,n);if(o.value!==i||o.enumerable!==!0)return!1}return!0},CE=typeof Symbol<"u"&&Symbol,v2=g2,y2=function(){return typeof CE!="function"||typeof Symbol!="function"||typeof CE("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:v2()},Jd={__proto__:null,foo:{}},_2=Object,E2=function(){return{__proto__:Jd}.foo===Jd.foo&&!(Jd instanceof _2)},T2="Function.prototype.bind called on incompatible ",w2=Object.prototype.toString,P2=Math.max,S2="[object Function]",RE=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var s=0;s<n.length;s+=1)r[s+e.length]=n[s];return r},I2=function(e,n){for(var r=[],i=n,s=0;i<e.length;i+=1,s+=1)r[s]=e[i];return r},A2=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},C2=function(e){var n=this;if(typeof n!="function"||w2.apply(n)!==S2)throw new TypeError(T2+n);for(var r=I2(arguments,1),i,s=function(){if(this instanceof i){var d=n.apply(this,RE(r,arguments));return Object(d)===d?d:this}return n.apply(e,RE(r,arguments))},o=P2(0,n.length-r.length),l=[],u=0;u<o;u++)l[u]="$"+u;if(i=Function("binder","return function ("+A2(l,",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var c=function(){};c.prototype=n.prototype,i.prototype=new c,c.prototype=null}return i},R2=C2,Bg=Function.prototype.bind||R2,x2=Function.prototype.call,k2=Object.prototype.hasOwnProperty,O2=Bg,N2=O2.call(x2,k2),Z,b2=h2,D2=d2,M2=f2,L2=p2,Zs=wS,Fs=Tl,V2=m2,PS=Function,Yd=function(t){try{return PS('"use strict"; return ('+t+").constructor;")()}catch{}},Pi=Object.getOwnPropertyDescriptor;if(Pi)try{Pi({},"")}catch{Pi=null}var Zd=function(){throw new Fs},F2=Pi?function(){try{return arguments.callee,Zd}catch{try{return Pi(arguments,"callee").get}catch{return Zd}}}():Zd,Zi=y2(),U2=E2(),Ge=Object.getPrototypeOf||(U2?function(t){return t.__proto__}:null),ps={},j2=typeof Uint8Array>"u"||!Ge?Z:Ge(Uint8Array),Si={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Z:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Z:ArrayBuffer,"%ArrayIteratorPrototype%":Zi&&Ge?Ge([][Symbol.iterator]()):Z,"%AsyncFromSyncIteratorPrototype%":Z,"%AsyncFunction%":ps,"%AsyncGenerator%":ps,"%AsyncGeneratorFunction%":ps,"%AsyncIteratorPrototype%":ps,"%Atomics%":typeof Atomics>"u"?Z:Atomics,"%BigInt%":typeof BigInt>"u"?Z:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Z:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Z:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Z:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":b2,"%eval%":eval,"%EvalError%":D2,"%Float32Array%":typeof Float32Array>"u"?Z:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Z:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Z:FinalizationRegistry,"%Function%":PS,"%GeneratorFunction%":ps,"%Int8Array%":typeof Int8Array>"u"?Z:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Z:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Z:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zi&&Ge?Ge(Ge([][Symbol.iterator]())):Z,"%JSON%":typeof JSON=="object"?JSON:Z,"%Map%":typeof Map>"u"?Z:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zi||!Ge?Z:Ge(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Z:Promise,"%Proxy%":typeof Proxy>"u"?Z:Proxy,"%RangeError%":M2,"%ReferenceError%":L2,"%Reflect%":typeof Reflect>"u"?Z:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Z:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zi||!Ge?Z:Ge(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Z:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zi&&Ge?Ge(""[Symbol.iterator]()):Z,"%Symbol%":Zi?Symbol:Z,"%SyntaxError%":Zs,"%ThrowTypeError%":F2,"%TypedArray%":j2,"%TypeError%":Fs,"%Uint8Array%":typeof Uint8Array>"u"?Z:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Z:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Z:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Z:Uint32Array,"%URIError%":V2,"%WeakMap%":typeof WeakMap>"u"?Z:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Z:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Z:WeakSet};if(Ge)try{null.error}catch(t){var $2=Ge(Ge(t));Si["%Error.prototype%"]=$2}var B2=function t(e){var n;if(e==="%AsyncFunction%")n=Yd("async function () {}");else if(e==="%GeneratorFunction%")n=Yd("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Yd("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ge&&(n=Ge(i.prototype))}return Si[e]=n,n},xE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},wl=Bg,th=N2,z2=wl.call(Function.call,Array.prototype.concat),G2=wl.call(Function.apply,Array.prototype.splice),kE=wl.call(Function.call,String.prototype.replace),nh=wl.call(Function.call,String.prototype.slice),H2=wl.call(Function.call,RegExp.prototype.exec),W2=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q2=/\\(\\)?/g,K2=function(e){var n=nh(e,0,1),r=nh(e,-1);if(n==="%"&&r!=="%")throw new Zs("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Zs("invalid intrinsic syntax, expected opening `%`");var i=[];return kE(e,W2,function(s,o,l,u){i[i.length]=l?kE(u,q2,"$1"):o||s}),i},Q2=function(e,n){var r=e,i;if(th(xE,r)&&(i=xE[r],r="%"+i[0]+"%"),th(Si,r)){var s=Si[r];if(s===ps&&(s=B2(r)),typeof s>"u"&&!n)throw new Fs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Zs("intrinsic "+e+" does not exist!")},fo=function(e,n){if(typeof e!="string"||e.length===0)throw new Fs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Fs('"allowMissing" argument must be a boolean');if(H2(/^%?[^%]*%?$/,e)===null)throw new Zs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=K2(e),i=r.length>0?r[0]:"",s=Q2("%"+i+"%",n),o=s.name,l=s.value,u=!1,c=s.alias;c&&(i=c[0],G2(r,z2([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var m=r[d],C=nh(m,0,1),I=nh(m,-1);if((C==='"'||C==="'"||C==="`"||I==='"'||I==="'"||I==="`")&&C!==I)throw new Zs("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(u=!0),i+="."+m,o="%"+i+"%",th(Si,o))l=Si[o];else if(l!=null){if(!(m in l)){if(!n)throw new Fs("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pi&&d+1>=r.length){var k=Pi(l,m);p=!!k,p&&"get"in k&&!("originalValue"in k.get)?l=k.get:l=l[m]}else p=th(l,m),l=l[m];p&&!u&&(Si[o]=l)}}return l},SS={exports:{}},ef,OE;function zg(){if(OE)return ef;OE=1;var t=fo,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ef=e,ef}var X2=fo,sc=X2("%Object.getOwnPropertyDescriptor%",!0);if(sc)try{sc([],"length")}catch{sc=null}var IS=sc,NE=zg(),J2=wS,es=Tl,bE=IS,Y2=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new es("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new es("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new es("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new es("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new es("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new es("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,u=!!bE&&bE(e,n);if(NE)NE(e,n,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:s===null&&u?u.writable:!s});else if(l||!i&&!s&&!o)e[n]=r;else throw new J2("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},qp=zg(),AS=function(){return!!qp};AS.hasArrayLengthDefineBug=function(){if(!qp)return null;try{return qp([],"length",{value:1}).length!==1}catch{return!0}};var Z2=AS,eV=fo,DE=Y2,tV=Z2(),ME=IS,LE=Tl,nV=eV("%Math.floor%"),rV=function(e,n){if(typeof e!="function")throw new LE("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||nV(n)!==n)throw new LE("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&ME){var o=ME(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(tV?DE(e,"length",n,!0,!0):DE(e,"length",n)),e};(function(t){var e=Bg,n=fo,r=rV,i=Tl,s=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||e.call(o,s),u=zg(),c=n("%Math.max%");t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var C=l(e,o,arguments);return r(C,1+c(0,m.length-(arguments.length-1)),!0)};var d=function(){return l(e,s,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d})(SS);var iV=SS.exports,CS=fo,RS=iV,sV=RS(CS("String.prototype.indexOf")),oV=function(e,n){var r=CS(e,!!n);return typeof r=="function"&&sV(e,".prototype.")>-1?RS(r):r};const aV={},lV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"})),uV=_I(lV);var Gg=typeof Map=="function"&&Map.prototype,tf=Object.getOwnPropertyDescriptor&&Gg?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rh=Gg&&tf&&typeof tf.get=="function"?tf.get:null,VE=Gg&&Map.prototype.forEach,Hg=typeof Set=="function"&&Set.prototype,nf=Object.getOwnPropertyDescriptor&&Hg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ih=Hg&&nf&&typeof nf.get=="function"?nf.get:null,FE=Hg&&Set.prototype.forEach,cV=typeof WeakMap=="function"&&WeakMap.prototype,Ca=cV?WeakMap.prototype.has:null,hV=typeof WeakSet=="function"&&WeakSet.prototype,Ra=hV?WeakSet.prototype.has:null,dV=typeof WeakRef=="function"&&WeakRef.prototype,UE=dV?WeakRef.prototype.deref:null,fV=Boolean.prototype.valueOf,pV=Object.prototype.toString,mV=Function.prototype.toString,gV=String.prototype.match,Wg=String.prototype.slice,Ir=String.prototype.replace,vV=String.prototype.toUpperCase,jE=String.prototype.toLowerCase,xS=RegExp.prototype.test,$E=Array.prototype.concat,Tn=Array.prototype.join,yV=Array.prototype.slice,BE=Math.floor,Kp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rf=Object.getOwnPropertySymbols,Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,eo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===eo||!0)?Symbol.toStringTag:null,kS=Object.prototype.propertyIsEnumerable,zE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function GE(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xS.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-BE(-t):BE(t);if(r!==t){var i=String(r),s=Wg.call(e,i.length+1);return Ir.call(i,n,"$&_")+"."+Ir.call(Ir.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ir.call(e,n,"$&_")}var Xp=uV,HE=Xp.custom,WE=NS(HE)?HE:null,_V=function t(e,n,r,i){var s=n||{};if(gr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=gr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return DS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return l?GE(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return l?GE(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return Jp(e)?"[Array]":"[Object]";var p=VV(s,r);if(typeof i>"u")i=[];else if(bS(i,e)>=0)return"[Circular]";function m(A,fe,Oe){if(fe&&(i=yV.call(i),i.push(fe)),Oe){var Ne={depth:s.depth};return gr(s,"quoteStyle")&&(Ne.quoteStyle=s.quoteStyle),t(A,Ne,r+1,i)}return t(A,s,r+1,i)}if(typeof e=="function"&&!qE(e)){var C=RV(e),I=du(e,m);return"[Function"+(C?": "+C:" (anonymous)")+"]"+(I.length>0?" { "+Tn.call(I,", ")+" }":"")}if(NS(e)){var k=eo?Ir.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qp.call(e);return typeof e=="object"&&!eo?jo(k):k}if(DV(e)){for(var O="<"+jE.call(String(e.nodeName)),E=e.attributes||[],y=0;y<E.length;y++)O+=" "+E[y].name+"="+OS(EV(E[y].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+jE.call(String(e.nodeName))+">",O}if(Jp(e)){if(e.length===0)return"[]";var _=du(e,m);return p&&!LV(_)?"["+Yp(_,p)+"]":"[ "+Tn.call(_,", ")+" ]"}if(wV(e)){var M=du(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!kS.call(e,"cause")?"{ ["+String(e)+"] "+Tn.call($E.call("[cause]: "+m(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Tn.call(M,", ")+" }"}if(typeof e=="object"&&o){if(WE&&typeof e[WE]=="function"&&Xp)return Xp(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(xV(e)){var V=[];return VE&&VE.call(e,function(A,fe){V.push(m(fe,e,!0)+" => "+m(A,e))}),KE("Map",rh.call(e),V,p)}if(NV(e)){var U=[];return FE&&FE.call(e,function(A){U.push(m(A,e))}),KE("Set",ih.call(e),U,p)}if(kV(e))return sf("WeakMap");if(bV(e))return sf("WeakSet");if(OV(e))return sf("WeakRef");if(SV(e))return jo(m(Number(e)));if(AV(e))return jo(m(Kp.call(e)));if(IV(e))return jo(fV.call(e));if(PV(e))return jo(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Kv<"u"&&e===Kv)return"{ [object globalThis] }";if(!TV(e)&&!qE(e)){var w=du(e,m),v=zE?zE(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",S=!v&&pt&&Object(e)===e&&pt in e?Wg.call(Kr(e),8,-1):P?"Object":"",x=v||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",N=x+(S||P?"["+Tn.call($E.call([],S||[],P||[]),": ")+"] ":"");return w.length===0?N+"{}":p?N+"{"+Yp(w,p)+"}":N+"{ "+Tn.call(w,", ")+" }"}return String(e)};function OS(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function EV(t){return Ir.call(String(t),/"/g,"&quot;")}function Jp(t){return Kr(t)==="[object Array]"&&(!pt||!(typeof t=="object"&&pt in t))}function TV(t){return Kr(t)==="[object Date]"&&(!pt||!(typeof t=="object"&&pt in t))}function qE(t){return Kr(t)==="[object RegExp]"&&(!pt||!(typeof t=="object"&&pt in t))}function wV(t){return Kr(t)==="[object Error]"&&(!pt||!(typeof t=="object"&&pt in t))}function PV(t){return Kr(t)==="[object String]"&&(!pt||!(typeof t=="object"&&pt in t))}function SV(t){return Kr(t)==="[object Number]"&&(!pt||!(typeof t=="object"&&pt in t))}function IV(t){return Kr(t)==="[object Boolean]"&&(!pt||!(typeof t=="object"&&pt in t))}function NS(t){if(eo)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qp)return!1;try{return Qp.call(t),!0}catch{}return!1}function AV(t){if(!t||typeof t!="object"||!Kp)return!1;try{return Kp.call(t),!0}catch{}return!1}var CV=Object.prototype.hasOwnProperty||function(t){return t in this};function gr(t,e){return CV.call(t,e)}function Kr(t){return pV.call(t)}function RV(t){if(t.name)return t.name;var e=gV.call(mV.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function bS(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function xV(t){if(!rh||!t||typeof t!="object")return!1;try{rh.call(t);try{ih.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function kV(t){if(!Ca||!t||typeof t!="object")return!1;try{Ca.call(t,Ca);try{Ra.call(t,Ra)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function OV(t){if(!UE||!t||typeof t!="object")return!1;try{return UE.call(t),!0}catch{}return!1}function NV(t){if(!ih||!t||typeof t!="object")return!1;try{ih.call(t);try{rh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function bV(t){if(!Ra||!t||typeof t!="object")return!1;try{Ra.call(t,Ra);try{Ca.call(t,Ca)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function DV(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function DS(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return DS(Wg.call(t,0,e.maxStringLength),e)+r}var i=Ir.call(Ir.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,MV);return OS(i,"single",e)}function MV(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+vV.call(e.toString(16))}function jo(t){return"Object("+t+")"}function sf(t){return t+" { ? }"}function KE(t,e,n,r){var i=r?Yp(n,r):Tn.call(n,", ");return t+" ("+e+") {"+i+"}"}function LV(t){for(var e=0;e<t.length;e++)if(bS(t[e],`
`)>=0)return!1;return!0}function VV(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Tn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Tn.call(Array(e+1),n)}}function Yp(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Tn.call(t,","+n)+`
`+e.prev}function du(t,e){var n=Jp(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=gr(t,i)?e(t[i],t):""}var s=typeof rf=="function"?rf(t):[],o;if(eo){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var u in t)gr(t,u)&&(n&&String(Number(u))===u&&u<t.length||eo&&o["$"+u]instanceof Symbol||(xS.call(/[^\w$]/,u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if(typeof rf=="function")for(var c=0;c<s.length;c++)kS.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var MS=fo,po=oV,FV=_V,UV=Tl,fu=MS("%WeakMap%",!0),pu=MS("%Map%",!0),jV=po("WeakMap.prototype.get",!0),$V=po("WeakMap.prototype.set",!0),BV=po("WeakMap.prototype.has",!0),zV=po("Map.prototype.get",!0),GV=po("Map.prototype.set",!0),HV=po("Map.prototype.has",!0),qg=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},WV=function(t,e){var n=qg(t,e);return n&&n.value},qV=function(t,e,n){var r=qg(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},KV=function(t,e){return!!qg(t,e)},QV=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new UV("Side channel does not contain "+FV(s))},get:function(s){if(fu&&s&&(typeof s=="object"||typeof s=="function")){if(e)return jV(e,s)}else if(pu){if(n)return zV(n,s)}else if(r)return WV(r,s)},has:function(s){if(fu&&s&&(typeof s=="object"||typeof s=="function")){if(e)return BV(e,s)}else if(pu){if(n)return HV(n,s)}else if(r)return KV(r,s);return!1},set:function(s,o){fu&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new fu),$V(e,s,o)):pu?(n||(n=new pu),GV(n,s,o)):(r||(r={key:{},next:null}),qV(r,s,o))}};return i},XV=String.prototype.replace,JV=/%20/g,of={RFC1738:"RFC1738",RFC3986:"RFC3986"},Kg={default:of.RFC3986,formatters:{RFC1738:function(t){return XV.call(t,JV,"+")},RFC3986:function(t){return String(t)}},RFC1738:of.RFC1738,RFC3986:of.RFC3986},YV=Kg,af=Object.prototype.hasOwnProperty,di=Array.isArray,pn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ZV=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(di(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},LS=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},eF=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(di(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!af.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return di(e)&&!di(n)&&(i=LS(e,r)),di(e)&&di(n)?(n.forEach(function(s,o){if(af.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var l=n[o];return af.call(s,o)?s[o]=t(s[o],l,r):s[o]=l,s},i)},tF=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},nF=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},lf=1024,rF=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(C){return"%26%23"+parseInt(C.slice(2),16)+"%3B"});for(var l="",u=0;u<o.length;u+=lf){for(var c=o.length>=lf?o.slice(u,u+lf):o,d=[],p=0;p<c.length;++p){var m=c.charCodeAt(p);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===YV.RFC1738&&(m===40||m===41)){d[d.length]=c.charAt(p);continue}if(m<128){d[d.length]=pn[m];continue}if(m<2048){d[d.length]=pn[192|m>>6]+pn[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=pn[224|m>>12]+pn[128|m>>6&63]+pn[128|m&63];continue}p+=1,m=65536+((m&1023)<<10|c.charCodeAt(p)&1023),d[d.length]=pn[240|m>>18]+pn[128|m>>12&63]+pn[128|m>>6&63]+pn[128|m&63]}l+=d.join("")}return l},iF=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],l=Object.keys(o),u=0;u<l.length;++u){var c=l[u],d=o[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:c}),r.push(d))}return ZV(n),e},sF=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},oF=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},aF=function(e,n){return[].concat(e,n)},lF=function(e,n){if(di(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},VS={arrayToObject:LS,assign:tF,combine:aF,compact:iF,decode:nF,encode:rF,isBuffer:oF,isRegExp:sF,maybeMap:lF,merge:eF},FS=QV,oc=VS,xa=Kg,uF=Object.prototype.hasOwnProperty,US={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},En=Array.isArray,cF=Array.prototype.push,jS=function(t,e){cF.apply(t,En(e)?e:[e])},hF=Date.prototype.toISOString,QE=xa.default,je={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:oc.encode,encodeValuesOnly:!1,format:QE,formatter:xa.formatters[QE],indices:!1,serializeDate:function(e){return hF.call(e)},skipNulls:!1,strictNullHandling:!1},dF=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},uf={},fF=function t(e,n,r,i,s,o,l,u,c,d,p,m,C,I,k,O,E,y){for(var _=e,M=y,V=0,U=!1;(M=M.get(uf))!==void 0&&!U;){var w=M.get(e);if(V+=1,typeof w<"u"){if(w===V)throw new RangeError("Cyclic object value");U=!0}typeof M.get(uf)>"u"&&(V=0)}if(typeof d=="function"?_=d(n,_):_ instanceof Date?_=C(_):r==="comma"&&En(_)&&(_=oc.maybeMap(_,function(q){return q instanceof Date?C(q):q})),_===null){if(o)return c&&!O?c(n,je.encoder,E,"key",I):n;_=""}if(dF(_)||oc.isBuffer(_)){if(c){var v=O?n:c(n,je.encoder,E,"key",I);return[k(v)+"="+k(c(_,je.encoder,E,"value",I))]}return[k(n)+"="+k(String(_))]}var P=[];if(typeof _>"u")return P;var S;if(r==="comma"&&En(_))O&&c&&(_=oc.maybeMap(_,c)),S=[{value:_.length>0?_.join(",")||null:void 0}];else if(En(d))S=d;else{var x=Object.keys(_);S=p?x.sort(p):x}var N=u?n.replace(/\./g,"%2E"):n,A=i&&En(_)&&_.length===1?N+"[]":N;if(s&&En(_)&&_.length===0)return A+"[]";for(var fe=0;fe<S.length;++fe){var Oe=S[fe],Ne=typeof Oe=="object"&&typeof Oe.value<"u"?Oe.value:_[Oe];if(!(l&&Ne===null)){var be=m&&u?Oe.replace(/\./g,"%2E"):Oe,$=En(_)?typeof r=="function"?r(A,be):A:A+(m?"."+be:"["+be+"]");y.set(e,V);var W=FS();W.set(uf,y),jS(P,t(Ne,$,r,i,s,o,l,u,r==="comma"&&O&&En(_)?null:c,d,p,m,C,I,k,O,E,W))}}return P},pF=function(e){if(!e)return je;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||je.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=xa.default;if(typeof e.format<"u"){if(!uF.call(xa.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=xa.formatters[r],s=je.filter;(typeof e.filter=="function"||En(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in US?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=je.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:je.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:je.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:je.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:je.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?je.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:je.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:je.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:je.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:je.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:je.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:je.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:je.strictNullHandling}},mF=function(t,e){var n=t,r=pF(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):En(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var l=US[r.arrayFormat],u=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=FS(),d=0;d<i.length;++d){var p=i[d];r.skipNulls&&n[p]===null||jS(o,fF(n[p],p,l,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var m=o.join(r.delimiter),C=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),m.length>0?C+m:""},to=VS,Zp=Object.prototype.hasOwnProperty,gF=Array.isArray,Ce={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:to.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},vF=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},$S=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},yF="utf8=%26%2310003%3B",_F="utf8=%E2%9C%93",EF=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),l=-1,u,c=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===_F?c="utf-8":o[u]===yF&&(c="iso-8859-1"),l=u,u=o.length);for(u=0;u<o.length;++u)if(u!==l){var d=o[u],p=d.indexOf("]="),m=p===-1?d.indexOf("="):p+1,C,I;m===-1?(C=n.decoder(d,Ce.decoder,c,"key"),I=n.strictNullHandling?null:""):(C=n.decoder(d.slice(0,m),Ce.decoder,c,"key"),I=to.maybeMap($S(d.slice(m+1),n),function(O){return n.decoder(O,Ce.decoder,c,"value")})),I&&n.interpretNumericEntities&&c==="iso-8859-1"&&(I=vF(I)),d.indexOf("[]=")>-1&&(I=gF(I)?[I]:I);var k=Zp.call(r,C);k&&n.duplicates==="combine"?r[C]=to.combine(r[C],I):(!k||n.duplicates==="last")&&(r[C]=I)}return r},TF=function(t,e,n,r){for(var i=r?e:$S(e,n),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var u=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},wF=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,d=[];if(c){if(!r.plainObjects&&Zp.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var p=0;r.depth>0&&(u=l.exec(s))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&Zp.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(u[1])}if(u){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(u.index)+"]")}return TF(d,n,r,i)}},PF=function(e){if(!e)return Ce;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Ce.charset:e.charset,r=typeof e.duplicates>"u"?Ce.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ce.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ce.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ce.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ce.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ce.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ce.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ce.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ce.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ce.decoder,delimiter:typeof e.delimiter=="string"||to.isRegExp(e.delimiter)?e.delimiter:Ce.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ce.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ce.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ce.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ce.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ce.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ce.strictNullHandling}},SF=function(t,e){var n=PF(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?EF(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var l=s[o],u=wF(l,r[l],n,typeof t=="string");i=to.merge(i,u,n)}return n.allowSparse===!0?i:to.compact(i)},IF=mF,AF=SF,CF=Kg,RF={formats:CF,parse:AF,stringify:IF};const Qg=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function BS(t){return t&&typeof t=="object"&&Qg.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function $h(t,e){return RF.stringify(t,{serializeDate:n=>Math.floor(n.getTime()/1e3).toString(),arrayFormat:e=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const em=(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const n=e.replace(/["\n\r\u2028\u2029]/g,r=>t[r]);return r=>n.replace(/\{([\s\S]+?)\}/g,(i,s)=>encodeURIComponent(r[s]||""))}})();function xF(t){const e=t.match(/\{\w+\}/g);return e?e.map(n=>n.replace(/[{}]/g,"")):[]}function Xg(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!BS(t[0]))return t.shift();const e=Object.keys(t[0]),n=e.filter(r=>Qg.includes(r));return n.length>0&&n.length!==e.length&&sh(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function zS(t){const e={host:null,headers:{},settings:{}};if(t.length>0){const n=t[t.length-1];if(typeof n=="string")e.authenticator=tm(t.pop());else if(BS(n)){const r=Object.assign({},t.pop()),i=Object.keys(r).filter(s=>!Qg.includes(s));if(i.length&&sh(`Invalid options found (${i.join(", ")}); ignoring.`),r.apiKey&&(e.authenticator=tm(r.apiKey)),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=r.stripeContext}if(r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host),r.authenticator){if(r.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof r.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=r.authenticator}r.additionalHeaders&&(e.headers=r.additionalHeaders)}}return e}function kF(t){const e=this,n=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...r){e.apply(this,r)};return Object.assign(n,e),n.prototype=Object.create(e.prototype),Object.assign(n.prototype,t),n}function cf(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,n)=>(t[n]!=null&&(e[n]=t[n]),e),{})}function OF(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,n)=>(e[NF(n)]=t[n],e),{}):t}function NF(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Jg(t,e){return e?t.then(n=>{setTimeout(()=>{e(null,n)},0)},n=>{setTimeout(()=>{e(n,null)},0)}):t}function bF(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function sh(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function DF(t){const e=typeof t;return(e==="function"||e==="object")&&!!t}function MF(t){const e={},n=(r,i)=>{Object.entries(r).forEach(([s,o])=>{const l=i?`${i}[${s}]`:s;if(DF(o)){if(!(o instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(o,"data"))return n(o,l);e[l]=o}else e[l]=String(o)})};return n(t,null),e}function hf(t,e,n){if(!Number.isInteger(e)){if(n!==void 0)return n;throw new Error(`${t} must be an integer`)}return e}function LF(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function tm(t){const e=n=>(n.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function VF(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function FF(t){return JSON.stringify(t,VF)}function Yg(t){return t&&t.startsWith("/v2")?"v2":"v1"}const UF=60;class ka{constructor(e,n){this._stripe=e,this._maxBufferedRequestMetric=n}_addHeadersDirectlyToObject(e,n){e.requestId=n["request-id"],e.stripeAccount=e.stripeAccount||n["stripe-account"],e.apiVersion=e.apiVersion||n["stripe-version"],e.idempotencyKey=e.idempotencyKey||n["idempotency-key"]}_makeResponseEvent(e,n,r){const i=Date.now(),s=i-e.request_start_time;return cf({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:n,request_id:this._getRequestId(r),elapsed:s,request_start_time:e.request_start_time,request_end_time:i})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,n,r){return i=>{const s=i.getHeaders(),o=()=>{const u=this._makeResponseEvent(e,i.getStatusCode(),s);this._stripe._emitter.emit("response",u),this._recordRequestMetrics(this._getRequestId(s),u.elapsed,n)},l=i.toStream(o);return this._addHeadersDirectlyToObject(l,s),r(null,l)}}_jsonResponseHandler(e,n,r,i){return s=>{const o=s.getHeaders(),l=this._getRequestId(o),u=s.getStatusCode(),c=this._makeResponseEvent(e,u,o);this._stripe._emitter.emit("response",c),s.toJSON().then(d=>{if(d.error){let p;throw typeof d.error=="string"&&(d.error={type:d.error,message:d.error_description}),d.error.headers=o,d.error.statusCode=u,d.error.requestId=l,u===401?p=new jg(d.error):u===403?p=new gS(d.error):u===429?p=new $g(d.error):n==="v2"?p=pS(d.error):p=jh(d.error),p}return d},d=>{throw new Ug({message:"Invalid JSON received from the Stripe API",exception:d,requestId:o["request-id"]})}).then(d=>{this._recordRequestMetrics(l,c.elapsed,r);const p=s.getRawResponse();this._addHeadersDirectlyToObject(p,o),Object.defineProperty(d,"lastResponse",{enumerable:!1,writable:!1,value:p}),i(null,d)},d=>i(d,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,n,r,i){return i&&n===0&&Bt.CONNECTION_CLOSED_ERROR_CODES.includes(i.code)?!0:n>=r?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,n=null){const r=this._stripe.getInitialNetworkRetryDelay(),i=this._stripe.getMaxNetworkRetryDelay();let s=Math.min(r*Math.pow(2,e-1),i);return s*=.5*(1+Math.random()),s=Math.max(r,s),Number.isInteger(n)&&n<=UF&&(s=Math.max(s,n)),s*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,n,r){const i=this._getMaxNetworkRetries(n),s=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(r==="v2"){if(e==="POST"||e==="DELETE")return s()}else if(r==="v1"&&e==="POST"&&i>0)return s();return null}_makeHeaders({contentType:e,contentLength:n,apiVersion:r,clientUserAgent:i,method:s,userSuppliedHeaders:o,userSuppliedSettings:l,stripeAccount:u,stripeContext:c,apiMode:d}){const p={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(d),"X-Stripe-Client-User-Agent":i,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":u,"Stripe-Context":c,"Idempotency-Key":this._defaultIdempotencyKey(s,l,d)},m=s=="POST"||s=="PUT"||s=="PATCH";return(m||n)&&(m||sh(`${s} method had non-zero contentLength but no payload is expected for this verb`),p["Content-Length"]=n),Object.assign(cf(p),OF(o))}_getUserAgentString(e){const n=this._stripe.getConstant("PACKAGE_VERSION"),r=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${n} ${r}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,n,r){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)sh("Request metrics buffer is full, dropping telemetry message.");else{const i={request_id:e,request_duration_ms:n};r&&r.length>0&&(i.usage=r),this._stripe._prevRequestMetrics.push(i)}}_rawRequest(e,n,r,i){return new Promise((o,l)=>{let u;try{const C=e.toUpperCase();if(C!=="POST"&&r&&Object.keys(r).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const I=[].slice.call([r,i]),k=Xg(I),O=Object.assign({},k),E=zS(I),y=E.headers,_=E.authenticator;u={requestMethod:C,requestPath:n,bodyData:O,queryData:{},authenticator:_,headers:y,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(C){l(C);return}function c(C,I){C?l(C):o(I)}const{headers:d,settings:p}=u,m=u.authenticator;this._request(u.requestMethod,u.host,n,u.bodyData,m,{headers:d,settings:p,streaming:u.streaming},u.usage,c)})}_request(e,n,r,i,s,o,l=[],u,c=null){var d;let p;s=(d=s??this._stripe._authenticator)!==null&&d!==void 0?d:null;const m=Yg(r),C=(O,E,y,_,M)=>setTimeout(O,this._getSleepTimeInMS(_,M),E,y,_+1),I=(O,E,y)=>{const _=o.settings&&o.settings.timeout&&Number.isInteger(o.settings.timeout)&&o.settings.timeout>=0?o.settings.timeout:this._stripe.getApiField("timeout"),M={host:n||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:r,method:e,headers:Object.assign({},E),body:p,protocol:this._stripe.getApiField("protocol")};s(M).then(()=>{const V=this._stripe.getApiField("httpClient").makeRequest(M.host,M.port,M.path,M.method,M.headers,M.body,M.protocol,_),U=Date.now(),w=cf({api_version:O,account:E["Stripe-Account"],idempotency_key:E["Idempotency-Key"],method:e,path:r,request_start_time:U}),v=y||0,P=this._getMaxNetworkRetries(o.settings||{});this._stripe._emitter.emit("request",w),V.then(S=>ka._shouldRetry(S,v,P)?C(I,O,E,v,S.getHeaders()["retry-after"]):o.streaming&&S.getStatusCode()<400?this._streamingResponseHandler(w,l,u)(S):this._jsonResponseHandler(w,m,l,u)(S)).catch(S=>{if(ka._shouldRetry(null,v,P,S))return C(I,O,E,v,null);{const x=S.code&&S.code===Bt.TIMEOUT_ERROR_CODE;return u(new vS({message:x?`Request aborted due to timeout being reached (${_}ms)`:ka._generateConnectionErrorMessage(v),detail:S}))}})}).catch(V=>{throw new mt({message:"Unable to authenticate the request",exception:V})})},k=(O,E)=>{if(O)return u(O);p=E,this._stripe.getClientUserAgent(y=>{const _=this._stripe.getApiField("version"),M=this._makeHeaders({contentType:m=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:p.length,apiVersion:_,clientUserAgent:y,method:e,userSuppliedHeaders:o.headers,userSuppliedSettings:o.settings,stripeAccount:m=="v2"?null:this._stripe.getApiField("stripeAccount"),stripeContext:m=="v2"?this._stripe.getApiField("stripeContext"):null,apiMode:m});I(_,M,0)})};if(c)c(e,i,o.headers,k);else{let O;m=="v2"?O=i?FF(i):"":O=$h(i||{},m),k(null,O)}}}class GS{constructor(e,n,r,i){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=n,this.spec=r,this.stripeResource=i}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const n=HS(this.requestArgs);if(this.index<e.data.length){const r=n?e.data.length-1-this.index:this.index,i=e.data[r];return this.index+=1,{value:i,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const n=await this._next();return this.promiseCache.currentPromise=null,n})();return this.promiseCache.currentPromise=e,e}}class jF extends GS{getNextPage(e){const n=HS(this.requestArgs),r=qF(e,n);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[n?"ending_before":"starting_after"]:r})}}class $F extends GS{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class BF{constructor(e,n,r,i){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=n,this.spec=r,this.stripeResource=i}async turnPage(){const e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;const n=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(n.next_page_url),this.currentPageIterator=Promise.resolve(n.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const r=(await this.currentPageIterator).next();if(!r.done)return{done:!1,value:r.value}}const e=await this.turnPage();if(!e)return{done:!0,value:void 0};const n=e.next();return n.done?{done:!0,value:void 0}:{done:!1,value:n.value}}}const zF=(t,e,n,r)=>{const i=Yg(n.fullPath||n.path);return i!=="v2"&&n.methodType==="search"?df(new $F(r,e,n,t)):i!=="v2"&&n.methodType==="list"?df(new jF(r,e,n,t)):i==="v2"&&n.methodType==="list"?df(new BF(r,e,n,t)):null},df=t=>{const e=KF((...i)=>t.next(...i)),n=QF(e),r={autoPagingEach:e,autoPagingToArray:n,next:()=>t.next(),return:()=>({}),[GF()]:()=>r};return r};function GF(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function HF(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function WF(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(r,i){const s=e(r);i(s)}}function qF(t,e){const n=e?0:t.data.length-1,r=t.data[n],i=r&&r.id;if(!i)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return i}function KF(t){return function(){const n=[].slice.call(arguments),r=WF(n),i=HF(n);if(n.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${n}`);const s=XF(t,r);return Jg(s,i)}}function QF(t){return function(n,r){const i=n&&n.limit;if(!i)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(i>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const s=new Promise((o,l)=>{const u=[];t(c=>{if(u.push(c),u.length>=i)return!1}).then(()=>{o(u)}).catch(l)});return Jg(s,r)}}function XF(t,e){return new Promise((n,r)=>{function i(s){if(s.done){n();return}const o=s.value;return new Promise(l=>{e(o,l)}).then(l=>l===!1?i({done:!0,value:void 0}):t().then(i))}t().then(i).catch(r)})}function HS(t){const e=[].slice.call(t);return!!Xg(e).ending_before}function JF(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const n=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=xF(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const r=Jg(this._makeRequest(e,t,{}),n);return Object.assign(r,zF(this,e,t,r)),r}}T.extend=kF;T.method=JF;T.MAX_BUFFERED_REQUEST_METRICS=100;function T(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=em(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=em(this.path),this.initialize(...arguments)}T.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const n=[this.basePath(e),this.path(e)];if(typeof t=="function"){const r=t(e);r&&n.push(r)}else n.push(t);return this._joinUrlParts(n)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,n){var r;const i=(e.method||"GET").toUpperCase(),s=e.usage||[],o=e.urlParams||[],l=e.encode||(w=>w),u=!!e.fullPath,c=em(u?e.fullPath:e.path||""),d=u?e.fullPath:this.createResourcePathWithSymbols(e.path),p=[].slice.call(t),m=o.reduce((w,v)=>{const P=p.shift();if(typeof P!="string")throw new Error(`Stripe: Argument "${v}" must be a string, but got: ${P} (on API request to \`${i} ${d}\`)`);return w[v]=P,w},{}),C=Xg(p),I=l(Object.assign({},C,n)),k=zS(p),O=k.host||e.host,E=!!e.streaming;if(p.filter(w=>w!=null).length)throw new Error(`Stripe: Unknown arguments (${p}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${i} \`${d}\`)`);const y=u?c(m):this.createFullPath(c,m),_=Object.assign(k.headers,e.headers);e.validator&&e.validator(I,{headers:_});const M=e.method==="GET"||e.method==="DELETE";return{requestMethod:i,requestPath:y,bodyData:M?null:I,queryData:M?I:{},authenticator:(r=k.authenticator)!==null&&r!==void 0?r:null,headers:_,host:O??null,streaming:E,settings:k.settings,usage:s}},_makeRequest(t,e,n){return new Promise((r,i)=>{var s;let o;try{o=this._getRequestOpts(t,e,n)}catch(m){i(m);return}function l(m,C){m?i(m):r(e.transformResponseData?e.transformResponseData(C):C)}const u=Object.keys(o.queryData).length===0,c=[o.requestPath,u?"":"?",$h(o.queryData,Yg(o.requestPath))].join(""),{headers:d,settings:p}=o;this._stripe._requestSender._request(o.requestMethod,o.host,c,o.bodyData,o.authenticator,{headers:d,settings:p,streaming:o.streaming},o.usage,l,(s=this.requestDataProcessor)===null||s===void 0?void 0:s.bind(this))})}};function XE(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(d,p,m,C,I,k){try{this.signature.verifyHeader(d,p,m,C||e.DEFAULT_TOLERANCE,I,k)}catch(E){throw E instanceof fS&&(E.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),E}return d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},async constructEventAsync(d,p,m,C,I,k){return await this.signature.verifyHeaderAsync(d,p,m,C||e.DEFAULT_TOLERANCE,I,k),d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},generateTestHeaderString:function(d){const p=c(d),m=p.signature||p.cryptoProvider.computeHMACSignature(p.payloadString,p.secret);return p.generateHeaderString(m)},generateTestHeaderStringAsync:async function(d){const p=c(d),m=p.signature||await p.cryptoProvider.computeHMACSignatureAsync(p.payloadString,p.secret);return p.generateHeaderString(m)}},n={EXPECTED_SCHEME:"v1",verifyHeader(d,p,m,C,I,k){const{decodedHeader:O,decodedPayload:E,details:y,suspectPayloadType:_}=i(d,p,this.EXPECTED_SCHEME),M=/\s/.test(m);I=I||u();const V=I.computeHMACSignature(r(E,y),m);return s(E,O,y,V,C,_,M,k),!0},async verifyHeaderAsync(d,p,m,C,I,k){const{decodedHeader:O,decodedPayload:E,details:y,suspectPayloadType:_}=i(d,p,this.EXPECTED_SCHEME),M=/\s/.test(m);I=I||u();const V=await I.computeHMACSignatureAsync(r(E,y),m);return s(E,O,y,V,C,_,M,k)}};function r(d,p){return`${p.timestamp}.${d}`}function i(d,p,m){if(!d)throw new dr(p,d,{message:"No webhook payload was provided."});const C=typeof d!="string"&&!(d instanceof Uint8Array),I=new TextDecoder("utf8"),k=d instanceof Uint8Array?I.decode(d):d;if(Array.isArray(p))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(p==null||p=="")throw new dr(p,d,{message:"No stripe-signature header value was provided."});const O=p instanceof Uint8Array?I.decode(p):p,E=o(O,m);if(!E||E.timestamp===-1)throw new dr(O,k,{message:"Unable to extract timestamp and signatures from header"});if(!E.signatures.length)throw new dr(O,k,{message:"No signatures found with expected scheme"});return{decodedPayload:k,decodedHeader:O,details:E,suspectPayloadType:C}}function s(d,p,m,C,I,k,O,E){const y=!!m.signatures.filter(t.secureCompare.bind(t,C)).length,_=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,M=O?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!y)throw k?new dr(p,d,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+_+`
`+M}):new dr(p,d,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+_+`
`+M});const V=Math.floor((typeof E=="number"?E:Date.now())/1e3)-m.timestamp;if(I>0&&V>I)throw new dr(p,d,{message:"Timestamp outside the tolerance zone"});return!0}function o(d,p){return typeof d!="string"?null:d.split(",").reduce((m,C)=>{const I=C.split("=");return I[0]==="t"&&(m.timestamp=parseInt(I[1],10)),I[0]===p&&m.signatures.push(I[1]),m},{timestamp:-1,signatures:[]})}let l=null;function u(){return l||(l=t.createDefaultCryptoProvider()),l}function c(d){if(!d)throw new mt({message:"Options are required"});const p=Math.floor(d.timestamp)||Math.floor(Date.now()/1e3),m=d.scheme||n.EXPECTED_SCHEME,C=d.cryptoProvider||u(),I=`${p}.${d.payload}`,k=O=>`t=${p},${m}=${O}`;return Object.assign(Object.assign({},d),{timestamp:p,scheme:m,cryptoProvider:C,payloadString:I,generateHeaderString:k})}return e.signature=n,e}const YF="2024-10-28.acacia";function ZF(t,e){for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=n[0].toLowerCase()+n.substring(1),i=new e[n](t);this[r]=i}}function Ve(t,e){return function(n){return new ZF(n,e)}}const ri=T.method,eU=T.extend({retrieve:ri({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:ri({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:ri({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:ri({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:ri({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:ri({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:ri({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),JE=T.method,tU=T.extend({retrieve:JE({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:JE({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),ts=T.method,nU=T.extend({create:ts({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:ts({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:ts({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:ts({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:ts({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:ts({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),ns=T.method,rU=T.extend({create:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),reverse:ns({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),$o=T.method,iU=T.extend({retrieve:$o({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:$o({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:$o({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:$o({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:$o({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),ff=T.method,sU=T.extend({create:ff({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:ff({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:ff({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),mu=T.method,oU=T.extend({create:mu({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:mu({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:mu({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:mu({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),Bo=T.method,aU=T.extend({deliverCard:Bo({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:Bo({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:Bo({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:Bo({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:Bo({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),gu=T.method,lU=T.extend({create:gu({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:gu({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:gu({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:gu({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),vu=T.method,uU=T.extend({create:vu({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:vu({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:vu({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:vu({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),zo=T.method,cU=T.extend({create:zo({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:zo({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:zo({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:zo({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:zo({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),hU=T.method,dU=T.extend({create:hU({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),fU=T.method,pU=T.extend({create:fU({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),mU=T.method,gU=T.extend({retrieve:mU({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),YE=T.method,vU=T.extend({retrieve:YE({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:YE({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),rs=T.method,yU=T.extend({create:rs({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:rs({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:rs({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:rs({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:rs({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:rs({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),pf=T.method,_U=T.extend({create:pf({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:pf({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:pf({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),EU=T.method,TU=T.extend({fundCashBalance:EU({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),mf=T.method,wU=T.extend({create:mf({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:mf({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:mf({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),Go=T.method,PU=T.extend({create:Go({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Go({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Go({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Go({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Go({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),ZE=T.method,SU=T.extend({retrieve:ZE({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:ZE({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),yu=T.method,IU=T.extend({create:yu({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:yu({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:yu({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:yu({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),is=T.method,AU=T.extend({create:is({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:is({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:is({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:is({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:is({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:is({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),gf=T.method,CU=T.extend({fail:gf({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:gf({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:gf({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),_u=T.method,RU=T.extend({create:_u({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:_u({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:_u({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:_u({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),Ho=T.method,xU=T.extend({create:Ho({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Ho({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Ho({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Ho({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Ho({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),kU=T.method,OU=T.extend({create:kU({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),NU=T.method,bU=T.extend({create:NU({method:"POST",fullPath:"/v1/billing/meter_events"})}),ii=T.method,DU=T.extend({create:ii({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:ii({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:ii({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:ii({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:ii({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:ii({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:ii({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),Wo=T.method,MU=T.extend({create:Wo({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Wo({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Wo({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Wo({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Wo({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),Eu=T.method,LU=T.extend({update:Eu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Eu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Eu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Eu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),Tu=T.method,VU=T.extend({create:Tu({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Tu({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Tu({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Tu({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),wu=T.method,FU=T.extend({update:wu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:wu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:wu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:wu({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),Pu=T.method,UU=T.extend({create:Pu({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Pu({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Pu({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Pu({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),vf=T.method,jU=T.extend({activate:vf({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:vf({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:vf({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),Su=T.method,$U=T.extend({create:Su({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Su({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Su({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Su({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),eT=T.method,BU=T.extend({retrieve:eT({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:eT({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),tT=T.method,zU=T.extend({retrieve:tT({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:tT({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),GU=T.method,HU=T.extend({presentPaymentMethod:GU({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),mn=T.method,WU=T.extend({create:mn({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:mn({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:mn({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:mn({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:mn({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),qU=T.method,KU=T.extend({create:qU({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),nT=T.method,QU=T.extend({retrieve:nT({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:nT({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),XU=T.method,JU=T.extend({create:XU({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),rT=T.method,YU=T.extend({retrieve:rT({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:rT({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),ZU=T.method,e4=T.extend({expire:ZU({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Iu=T.method,t4=T.extend({create:Iu({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Iu({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Iu({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Iu({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),yf=T.method,n4=T.extend({create:yf({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:yf({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:yf({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),iT=T.method,r4=T.extend({retrieve:iT({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:iT({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),_f=T.method,i4=T.extend({create:_f({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:_f({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:_f({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),sT=T.method,s4=T.extend({retrieve:sT({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:sT({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),Au=T.method,o4=T.extend({create:Au({method:"POST",fullPath:"/v1/apps/secrets"}),list:Au({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Au({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Au({method:"GET",fullPath:"/v1/apps/secrets/find"})}),a4=T.method,l4=T.extend({create:a4({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),ss=T.method,u4=T.extend({create:ss({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:ss({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:ss({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:ss({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:ss({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:ss({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),oT=T.method,c4=T.extend({create:oT({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:oT({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),aT=T.method,h4=T.extend({retrieve:aT({method:"GET",fullPath:"/v1/tax/settings"}),update:aT({method:"POST",fullPath:"/v1/tax/settings"})}),lT=T.method,d4=T.extend({retrieve:lT({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:lT({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),qo=T.method,f4=T.extend({create:qo({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:qo({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:qo({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:qo({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:qo({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),Ef=T.method,p4=T.extend({retrieve:Ef({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Ef({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Ef({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),uT=T.method,m4=T.extend({retrieve:uT({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:uT({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),Tf=T.method,g4=T.extend({createForceCapture:Tf({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:Tf({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:Tf({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),cT=T.method,v4=T.extend({retrieve:cT({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:cT({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),wf=T.method,y4=T.extend({retrieve:wf({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:wf({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:wf({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),Cu=T.method,_4=T.extend({retrieve:Cu({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Cu({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Cu({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Cu({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),hT=T.method,E4=T.extend({retrieve:hT({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:hT({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),Ru=T.method,T4=T.extend({create:Ru({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Ru({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Ru({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Ru({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),Ko=T.method,w4=T.extend({create:Ko({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:Ko({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:Ko({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:Ko({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:Ko({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),dT=T.method,P4=T.extend({retrieve:dT({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:dT({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),os=T.method,S4=T.extend({create:os({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:os({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:os({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:os({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:os({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:os({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),Ae=T.method,fT=T.extend({create:Ae({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?Ae({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),Ae({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:Ae({method:"POST",fullPath:"/v1/accounts/{account}"}),list:Ae({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:Ae({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:Ae({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:Ae({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:Ae({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:Ae({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:Ae({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:Ae({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:Ae({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:Ae({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:Ae({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:Ae({method:"GET",fullPath:"/v1/account"}),retrieveCapability:Ae({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:Ae({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:Ae({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:Ae({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:Ae({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:Ae({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),I4=T.method,A4=T.extend({create:I4({method:"POST",fullPath:"/v1/account_links"})}),C4=T.method,R4=T.extend({create:C4({method:"POST",fullPath:"/v1/account_sessions"})}),xu=T.method,x4=T.extend({create:xu({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:xu({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:xu({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:xu({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),as=T.method,k4=T.extend({retrieve:as({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:as({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:as({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:as({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:as({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:as({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),O4=T.method,N4=T.extend({retrieve:O4({method:"GET",fullPath:"/v1/balance"})}),pT=T.method,b4=T.extend({retrieve:pT({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:pT({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),ls=T.method,D4=T.extend({create:ls({method:"POST",fullPath:"/v1/charges"}),retrieve:ls({method:"GET",fullPath:"/v1/charges/{charge}"}),update:ls({method:"POST",fullPath:"/v1/charges/{charge}"}),list:ls({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:ls({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:ls({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),M4=T.method,L4=T.extend({retrieve:M4({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),mT=T.method,V4=T.extend({retrieve:mT({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:mT({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),Qo=T.method,F4=T.extend({create:Qo({method:"POST",fullPath:"/v1/coupons"}),retrieve:Qo({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Qo({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Qo({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Qo({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),lr=T.method,U4=T.extend({create:lr({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:lr({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:lr({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:lr({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:lr({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:lr({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:lr({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:lr({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),j4=T.method,$4=T.extend({create:j4({method:"POST",fullPath:"/v1/customer_sessions"})}),he=T.method,B4=T.extend({create:he({method:"POST",fullPath:"/v1/customers"}),retrieve:he({method:"GET",fullPath:"/v1/customers/{customer}"}),update:he({method:"POST",fullPath:"/v1/customers/{customer}"}),list:he({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:he({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:he({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:he({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:he({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:he({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:he({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:he({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:he({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:he({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:he({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:he({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:he({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:he({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:he({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:he({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:he({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:he({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:he({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:he({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:he({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:he({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:he({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:he({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:he({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),ku=T.method,z4=T.extend({retrieve:ku({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:ku({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:ku({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:ku({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),gT=T.method,G4=T.extend({create:gT({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:gT({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),vT=T.method,H4=T.extend({retrieve:vT({method:"GET",fullPath:"/v1/events/{id}"}),list:vT({method:"GET",fullPath:"/v1/events",methodType:"list"})}),yT=T.method,W4=T.extend({retrieve:yT({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:yT({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),Ou=T.method,q4=T.extend({create:Ou({method:"POST",fullPath:"/v1/file_links"}),retrieve:Ou({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Ou({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Ou({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),K4=(t,e,n)=>{const r=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();n["Content-Type"]=`multipart/form-data; boundary=${r}`;const i=new TextEncoder;let s=new Uint8Array(0);const o=i.encode(`\r
`);function l(d){const p=s,m=d instanceof Uint8Array?d:new Uint8Array(i.encode(d));s=new Uint8Array(p.length+m.length+2),s.set(p),s.set(m,p.length),s.set(o,s.length-2)}function u(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const c=MF(e);for(const d in c){if(!Object.prototype.hasOwnProperty.call(c,d))continue;const p=c[d];if(l(`--${r}`),Object.prototype.hasOwnProperty.call(p,"data")){const m=p;l(`Content-Disposition: form-data; name=${u(d)}; filename=${u(m.name||"blob")}`),l(`Content-Type: ${m.type||"application/octet-stream"}`),l(""),l(m.data)}else l(`Content-Disposition: form-data; name=${u(d)}`),l(""),l(p)}return l(`--${r}--`),s};function Q4(t,e,n,r){if(e=e||{},t!=="POST")return r(null,$h(e));this._stripe._platformFunctions.tryBufferData(e).then(i=>{const s=K4(t,i,n);return r(null,s)}).catch(i=>r(i,null))}const Pf=T.method,X4=T.extend({create:Pf({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:Pf({method:"GET",fullPath:"/v1/files/{file}"}),list:Pf({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:Q4}),Xo=T.method,J4=T.extend({create:Xo({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Xo({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Xo({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Xo({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Xo({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),Nu=T.method,Y4=T.extend({retrieve:Nu({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Nu({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Nu({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Nu({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),Ue=T.method,Z4=T.extend({create:Ue({method:"POST",fullPath:"/v1/invoices"}),retrieve:Ue({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:Ue({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:Ue({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:Ue({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:Ue({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:Ue({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:Ue({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:Ue({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:Ue({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),ej=T.method,tj=T.extend({retrieve:ej({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),_T=T.method,Sf="connect.stripe.com",nj=T.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let n="oauth/authorize";return e.express&&(n=`express/${n}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${Sf}/${n}?${$h(t)}`},token:_T({method:"POST",path:"oauth/token",host:Sf}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),_T({method:"POST",path:"oauth/deauthorize",host:Sf}).apply(this,[t,...e])}}),Xt=T.method,rj=T.extend({create:Xt({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:Xt({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:Xt({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:Xt({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:Xt({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),Jo=T.method,ij=T.extend({create:Jo({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Jo({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Jo({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Jo({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Jo({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),bu=T.method,sj=T.extend({create:bu({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:bu({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:bu({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:bu({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),Yo=T.method,oj=T.extend({create:Yo({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:Yo({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:Yo({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:Yo({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:Yo({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),us=T.method,aj=T.extend({create:us({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:us({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:us({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:us({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:us({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:us({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),cs=T.method,lj=T.extend({create:cs({method:"POST",fullPath:"/v1/payouts"}),retrieve:cs({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:cs({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:cs({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:cs({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:cs({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),Zo=T.method,uj=T.extend({create:Zo({method:"POST",fullPath:"/v1/plans"}),retrieve:Zo({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Zo({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Zo({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Zo({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),ea=T.method,cj=T.extend({create:ea({method:"POST",fullPath:"/v1/prices"}),retrieve:ea({method:"GET",fullPath:"/v1/prices/{price}"}),update:ea({method:"POST",fullPath:"/v1/prices/{price}"}),list:ea({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:ea({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),gn=T.method,hj=T.extend({create:gn({method:"POST",fullPath:"/v1/products"}),retrieve:gn({method:"GET",fullPath:"/v1/products/{id}"}),update:gn({method:"POST",fullPath:"/v1/products/{id}"}),list:gn({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:gn({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:gn({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:gn({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:gn({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:gn({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:gn({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),Du=T.method,dj=T.extend({create:Du({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Du({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Du({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Du({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),vn=T.method,fj=T.extend({create:vn({method:"POST",fullPath:"/v1/quotes"}),retrieve:vn({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:vn({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:vn({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:vn({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:vn({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:vn({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:vn({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:vn({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:vn({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),ta=T.method,pj=T.extend({create:ta({method:"POST",fullPath:"/v1/refunds"}),retrieve:ta({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:ta({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:ta({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:ta({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),If=T.method,mj=T.extend({retrieve:If({method:"GET",fullPath:"/v1/reviews/{review}"}),list:If({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:If({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),gj=T.method,vj=T.extend({list:gj({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),si=T.method,yj=T.extend({create:si({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:si({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:si({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:si({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:si({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:si({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:si({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),Mu=T.method,_j=T.extend({create:Mu({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Mu({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Mu({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Mu({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),na=T.method,Ej=T.extend({create:na({method:"POST",fullPath:"/v1/sources"}),retrieve:na({method:"GET",fullPath:"/v1/sources/{source}"}),update:na({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:na({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:na({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),oi=T.method,Tj=T.extend({create:oi({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:oi({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:oi({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:oi({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:oi({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:oi({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:oi({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),hs=T.method,wj=T.extend({create:hs({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:hs({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:hs({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:hs({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:hs({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:hs({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),ur=T.method,Pj=T.extend({create:ur({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ur({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ur({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ur({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ur({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ur({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:ur({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ur({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),ET=T.method,Sj=T.extend({retrieve:ET({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:ET({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),Lu=T.method,Ij=T.extend({create:Lu({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:Lu({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:Lu({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:Lu({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),Vu=T.method,Aj=T.extend({create:Vu({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:Vu({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:Vu({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:Vu({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),TT=T.method,Cj=T.extend({create:TT({method:"POST",fullPath:"/v1/tokens"}),retrieve:TT({method:"GET",fullPath:"/v1/tokens/{token}"})}),ra=T.method,Rj=T.extend({create:ra({method:"POST",fullPath:"/v1/topups"}),retrieve:ra({method:"GET",fullPath:"/v1/topups/{topup}"}),update:ra({method:"POST",fullPath:"/v1/topups/{topup}"}),list:ra({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:ra({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),cr=T.method,xj=T.extend({create:cr({method:"POST",fullPath:"/v1/transfers"}),retrieve:cr({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:cr({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:cr({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:cr({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:cr({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:cr({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:cr({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),kj=T.method,Oj=T.extend({create:kj({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),Nj=T.method,bj=T.extend({create:Nj({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),Dj=T.method,Mj=T.extend({create:Dj({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),Lj=T.method,Vj=T.extend({create:Lj({method:"POST",fullPath:"/v2/billing/meter_events"})}),Fj=T.extend({constructor:function(...t){T.apply(this,t),this.meterEventSession=new Oj(...t),this.meterEventAdjustments=new bj(...t),this.meterEventStream=new Mj(...t),this.meterEvents=new Vj(...t)}}),hr=T.method,Uj=T.extend({create:hr({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:hr({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:hr({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:hr({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:hr({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:hr({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:hr({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:hr({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),Af=T.method,jj=T.extend({retrieve(...t){return Af({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:n=>this.addFetchRelatedObjectIfNeeded(n)}).apply(this,t)},list(...t){return Af({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:n=>Object.assign(Object.assign({},n),{data:n.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>Af({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeAccount:t.context}])})}}),$j=T.extend({constructor:function(...t){T.apply(this,t),this.eventDestinations=new Uj(...t),this.events=new jj(...t)}}),Bj=T.extend({constructor:function(...t){T.apply(this,t),this.billing=new Fj(...t),this.core=new $j(...t)}}),ia=T.method,zj=T.extend({create:ia({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:ia({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:ia({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:ia({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:ia({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Gj=Ve("apps",{Secrets:o4}),Hj=Ve("billing",{Alerts:nU,CreditBalanceSummary:gU,CreditBalanceTransactions:vU,CreditGrants:yU,MeterEventAdjustments:OU,MeterEvents:bU,Meters:DU}),Wj=Ve("billingPortal",{Configurations:uU,Sessions:l4}),qj=Ve("checkout",{Sessions:u4}),Kj=Ve("climate",{Orders:MU,Products:zU,Suppliers:d4}),Qj=Ve("entitlements",{ActiveEntitlements:tU,Features:IU}),Xj=Ve("financialConnections",{Accounts:eU,Sessions:c4,Transactions:v4}),Jj=Ve("forwarding",{Requests:i4}),Yj=Ve("identity",{VerificationReports:P4,VerificationSessions:S4}),Zj=Ve("issuing",{Authorizations:iU,Cardholders:oU,Cards:lU,Disputes:PU,PersonalizationDesigns:$U,PhysicalBundles:BU,Tokens:p4,Transactions:y4}),e$=Ve("radar",{EarlyFraudWarnings:SU,ValueListItems:T4,ValueLists:w4}),t$=Ve("reporting",{ReportRuns:n4,ReportTypes:r4}),n$=Ve("sigma",{ScheduledQueryRuns:s4}),r$=Ve("tax",{Calculations:sU,Registrations:t4,Settings:h4,Transactions:_4}),i$=Ve("terminal",{Configurations:cU,ConnectionTokens:pU,Locations:xU,Readers:WU}),s$=Ve("testHelpers",{ConfirmationTokens:dU,Customers:TU,Refunds:e4,TestClocks:f4,Issuing:Ve("issuing",{Authorizations:rU,Cards:aU,PersonalizationDesigns:jU,Transactions:g4}),Terminal:Ve("terminal",{Readers:HU}),Treasury:Ve("treasury",{InboundTransfers:CU,OutboundPayments:LU,OutboundTransfers:FU,ReceivedCredits:KU,ReceivedDebits:JU})}),o$=Ve("treasury",{CreditReversals:_U,DebitReversals:wU,FinancialAccounts:AU,InboundTransfers:RU,OutboundPayments:VU,OutboundTransfers:UU,ReceivedCredits:QU,ReceivedDebits:YU,TransactionEntries:m4,Transactions:E4}),Fu=Object.freeze(Object.defineProperty({__proto__:null,Account:fT,AccountLinks:A4,AccountSessions:R4,Accounts:fT,ApplePayDomains:x4,ApplicationFees:k4,Apps:Gj,Balance:N4,BalanceTransactions:b4,Billing:Hj,BillingPortal:Wj,Charges:D4,Checkout:qj,Climate:Kj,ConfirmationTokens:L4,CountrySpecs:V4,Coupons:F4,CreditNotes:U4,CustomerSessions:$4,Customers:B4,Disputes:z4,Entitlements:Qj,EphemeralKeys:G4,Events:H4,ExchangeRates:W4,FileLinks:q4,Files:X4,FinancialConnections:Xj,Forwarding:Jj,Identity:Yj,InvoiceItems:J4,InvoiceRenderingTemplates:Y4,Invoices:Z4,Issuing:Zj,Mandates:tj,OAuth:nj,PaymentIntents:rj,PaymentLinks:ij,PaymentMethodConfigurations:sj,PaymentMethodDomains:oj,PaymentMethods:aj,Payouts:lj,Plans:uj,Prices:cj,Products:hj,PromotionCodes:dj,Quotes:fj,Radar:e$,Refunds:pj,Reporting:t$,Reviews:mj,SetupAttempts:vj,SetupIntents:yj,ShippingRates:_j,Sigma:n$,Sources:Ej,SubscriptionItems:Tj,SubscriptionSchedules:wj,Subscriptions:Pj,Tax:r$,TaxCodes:Sj,TaxIds:Ij,TaxRates:Aj,Terminal:i$,TestHelpers:s$,Tokens:Cj,Topups:Rj,Transfers:xj,Treasury:o$,V2:Bj,WebhookEndpoints:zj},Symbol.toStringTag,{value:"Module"})),wT="api.stripe.com",PT="443",ST="/v1/",IT=YF,AT=8e4,CT=5,RT=.5,a$=["name","version","url","partner_id"],xT=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],l$=t=>new ka(t,T.MAX_BUFFERED_REQUEST_METRICS);function u$(t,e=l$){r.PACKAGE_VERSION="17.3.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},LF()),r.StripeResource=T,r.resources=Fu,r.HttpClient=Bt,r.HttpClientResponse=hS,r.CryptoProvider=dS;function n(i=t){return XE(i)}r.webhooks=Object.assign(n,XE(t));function r(i,s={}){if(!(this instanceof r))return new r(i,s);const o=this._getPropsFromConfig(s);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const l=o.httpAgent||null;this._api={host:o.host||wT,port:o.port||PT,protocol:o.protocol||"https",basePath:ST,version:o.apiVersion||IT,timeout:hf("timeout",o.timeout,AT),maxNetworkRetries:hf("maxNetworkRetries",o.maxNetworkRetries,2),agent:l,httpClient:o.httpClient||(l?this._platformFunctions.createNodeHttpClient(l):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};const u=o.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(i,o.authenticator),this.errors=AE,this.webhooks=n(),this._prevRequestMetrics=[],this._enableTelemetry=o.telemetry!==!1,this._requestSender=e(this),this.StripeResource=r.StripeResource}return r.errors=AE,r.createNodeHttpClient=t.createNodeHttpClient,r.createFetchHttpClient=t.createFetchHttpClient,r.createNodeCryptoProvider=t.createNodeCryptoProvider,r.createSubtleCryptoProvider=t.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(i,s,o,l){return this._requestSender._rawRequest(i,s,o,l)},_setAuthenticator(i,s){if(i&&s)throw new Error("Can't specify both apiKey and authenticator");if(!i&&!s)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=i?tm(i):s},_setAppInfo(i){if(i&&typeof i!="object")throw new Error("AppInfo must be an object.");if(i&&!i.name)throw new Error("AppInfo.name is required");i=i||{},this._appInfo=a$.reduce((s,o)=>(typeof i[o]=="string"&&(s=s||{},s[o]=i[o]),s),void 0)},_setApiField(i,s){this._api[i]=s},getApiField(i){return this._api[i]},setClientId(i){this._clientId=i},getClientId(){return this._clientId},getConstant:i=>{switch(i){case"DEFAULT_HOST":return wT;case"DEFAULT_PORT":return PT;case"DEFAULT_BASE_PATH":return ST;case"DEFAULT_API_VERSION":return IT;case"DEFAULT_TIMEOUT":return AT;case"MAX_NETWORK_RETRY_DELAY_SEC":return CT;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return RT}return r[i]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(i,s,o){const l=hf(i,s,o);this._setApiField(i,l)},getMaxNetworkRetryDelay(){return CT},getInitialNetworkRetryDelay(){return RT},getClientUserAgent(i){return this.getClientUserAgentSeeded(r.USER_AGENT,i)},getClientUserAgentSeeded(i,s){this._platformFunctions.getUname().then(o=>{var l;const u={};for(const d in i)Object.prototype.hasOwnProperty.call(i,d)&&(u[d]=encodeURIComponent((l=i[d])!==null&&l!==void 0?l:"null"));u.uname=encodeURIComponent(o||"UNKNOWN");const c=this.getApiField("httpClient");c&&(u.httplib=encodeURIComponent(c.getClientName())),this._appInfo&&(u.application=this._appInfo),s(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let i=this._appInfo.name;return this._appInfo.version&&(i+=`/${this._appInfo.version}`),this._appInfo.url&&(i+=` (${this._appInfo.url})`),i},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const i in Fu)Object.prototype.hasOwnProperty.call(Fu,i)&&(this[bF(i)]=new Fu[i](this))},_getPropsFromConfig(i){if(!i)return{};const s=typeof i=="string";if(!(i===Object(i)&&!Array.isArray(i))&&!s)throw new Error("Config must either be an object or a string");if(s)return{apiVersion:i};if(Object.keys(i).filter(u=>!xT.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${xT.join(", ")}`);return i},parseThinEvent(i,s,o,l,u,c){return this.webhooks.constructEvent(i,s,o,l,u,c)}},r}const c$=u$(new c2),h$="sk_test_51QCo70GLrG1S8pttkQjFcgrZqCro43LuevQcOa1plOYnJIJfzGQ2okQ8sdmjz38yHkYptRlakP1CKs2IwJNn9sCL00r21j44sD",kT=new c$(h$),d$=async t=>{var e;try{const n=await kT.customers.list({email:t});if(n.data.length===0)return;const r=n.data[0].id,i=await kT.subscriptions.list({customer:r,status:"active"});if(((e=i==null?void 0:i.data)==null?void 0:e.length)>0)return i.data}catch(n){console.error("Error al buscar el cliente:",n)}},f$=()=>{const[t,e]=b.useState(!1);return b.useEffect(()=>{d$("juan@gmail.com").then(r=>{r.length>0?(console.log(r),e(!0)):setTimeout(()=>{window.location.href="/"},3e3)}).catch(r=>console.error(r))},[]),R.jsx("div",{children:t?R.jsxs(R.Fragment,{children:[R.jsx("p",{children:"Pago correcto"}),R.jsx(nn,{to:"/home",children:R.jsx("button",{children:"Volver al home"})})]}):R.jsx(R.Fragment,{children:R.jsx("p",{children:"Error en el pago: será redirigido"})})})};function p$(){return R.jsx($R,{children:R.jsxs(DR,{children:[R.jsx(yn,{path:"/",element:R.jsx(WR,{})}),R.jsx(yn,{path:"/initQuestions",element:R.jsx(KR,{})}),R.jsx(yn,{path:"/registerForm",element:R.jsx(FM,{})}),R.jsx(yn,{path:"/loginForm",element:R.jsx(jM,{})}),R.jsx(yn,{path:"/home",element:R.jsx($M,{})}),R.jsx(yn,{path:"/neutralCarbon",element:R.jsx(BM,{})}),R.jsx(yn,{path:"/mySubscription",element:R.jsx(i2,{})}),R.jsx(yn,{path:"/mySeeds",element:R.jsx(s2,{})}),R.jsx(yn,{path:"/successfulPayment",element:R.jsx(f$,{})})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registrado con éxito:",t)},t=>{console.log("Fallo en el registro del Service Worker:",t)})});G0(document.getElementById("root")).render(R.jsx(p$,{}));
